(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){e.exports=a(401)},207:function(e,t){},350:function(e,t,a){e.exports=a.p+"static/media/557230b3ff04416ee817074f676f0f895eeb0a7e.9b63ccf8.png"},351:function(e,t,a){e.exports=a.p+"static/media/625c8ab483bee63025feac89f567b09c7d88c1b4.c92208c0.png"},352:function(e,t,a){e.exports=a.p+"static/media/66dd581b0054cf1d1c43365a96bd228cd946ded9.9b63ccf8.png"},353:function(e,t,a){e.exports=a.p+"static/media/68d68ba66d7f240ca5f8cc0884286c6eea0381a6.69667415.png"},354:function(e,t,a){e.exports=a.p+"static/media/74ba0ff081d29c019bfd4878a63a3b18ea8c987f.69667415.png"},355:function(e,t,a){e.exports=a.p+"static/media/9f2083844cccdc07d02beaaa25f7f1a3044c21fd.9b63ccf8.png"},356:function(e,t){e.exports="data:image/png;base64,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"},357:function(e,t,a){e.exports=a.p+"static/media/b3c41fb1447f726a01a559bdf758d6a84c904e83.45476a39.png"},358:function(e,t,a){e.exports=a.p+"static/media/be5f8cc0935468699803f78102663212d4e13829.ba4a4d66.png"},359:function(e,t,a){e.exports=a.p+"static/media/df18ca366ebe1f1e02a5c870d03a55d82cb4dde2.bab19345.png"},401:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),o=a.n(s),i=a(5),l=a(7),c=a(6),u=a(8),m=a(403),p=a(404),d=function(e,t){if(e.ok)return e.json();throw new Error(t)},f=function(e){return fetch("/saveUserProfile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return d(e,"saveUserProfile error")})},h=function(e,t){return fetch("/saveUserPhoto",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({photo:e,photoid:t})})},g=function(e){return fetch("/setAvatar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatarid:e})})},b=function(e){return fetch("/saveLocation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:e})})},v=function(){return fetch("/signinOrMain",{method:"POST"})},E=function(e,t){return fetch("/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,password:t})}).then(function(e){return d(e,"signin error")})},y=function(){return fetch("/signout",{method:"POST"})},O=function(e,t,a,n,r){return fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,login:t,password:a,firstname:n,lastname:r})}).then(function(e){return d(e,"signup error")})},C=function(e){return fetch("/getResetPasswordEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(function(e){return d(e,"getResetPasswordEmail error")})},w=function(e,t){return fetch("/resetPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})})},x=function(e,t){return fetch("/resetPasswordOrExpired",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,hash:t})})},j=function(e){return fetch("/getLikeStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e})})},S=function(e,t){return fetch("/changeLikeStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,canLike:t})})},k=function(e){return fetch("/saveVisited",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visited:e})}).then(function(e){if(!e.ok)throw Error(e.code);return e.json()})},N=function(){return fetch("/saveOnline",{method:"POST"})},P=function(e){return fetch("/reportFake",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e})})},A=function(e){return fetch("/getBlockStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e})})},I=function(e,t){return fetch("/changeBlockStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,canBlock:t})})},D=function(){return fetch("/getCheckedBy",{method:"POST"})},L=function(){return fetch("/getLikedBy",{method:"POST"})},T=a(14),F=a(402),M=a(9),B=a(26),R=a.n(B),U=a(22),W=a.n(U),V=a(24),J=a.n(V),K=a(28),z=a(149),H=a.n(z),Z=a(168),Q=a.n(Z),q=a(58),G=a.n(q),Y=a(32),X=a.n(Y),_=a(37),$=a.n(_),ee=a(59),te=a.n(ee),ae=a(40),ne=a.n(ae),re=a(169),se=a.n(re),oe=a(31),ie=a.n(oe),le=a(34),ce=a.n(le),ue=a(75),me=a.n(ue),pe=a(173),de=a.n(pe),fe=a(174),he=a.n(fe),ge=a(171),be=a.n(ge),ve=a(172),Ee=a.n(ve),ye=a(170),Oe=a.n(ye),Ce=a(20),we=a(10),xe=a.n(we),je=a(73),Se=a.n(je),ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){a.setState({age:!1,distance:!0,fame:!1,amountOfCommonInterests:!1,selected:"distance"})},a.getOrder=function(e){return!1===a.state[e]?-1:1},a.sortBy=function(e){var t;a.props.setSortParams(e,a.getOrder(e)),a.setState((t={},Object(T.a)(t,e,!a.state[e]),Object(T.a)(t,"selected",e),t))},a.renderSortButton=function(e){var t=a.props.classes,n=a.state.selected;return r.a.createElement(ie.a,{className:xe()(t.expand,Object(T.a)({},t.expandOpen,a.state[e]),Object(T.a)({},t.selected,n===e)),onClick:a.sortBy.bind(Object(Ce.a)(Object(Ce.a)(a)),e),"aria-expanded":a.state[e],"aria-label":"Sort"},r.a.createElement(Se.a,null))},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props,t=e.classes,n=e.moved;return r.a.createElement("div",{className:n?t.root:t.moved},r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"Sort by age"),a.renderSortButton("age")),r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"distance"),a.renderSortButton("distance")),r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"fame"),a.renderSortButton("fame")),r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"common interests amount"),a.renderSortButton("amountOfCommonInterests")))},a}return Object(u.a)(t,e),t}(r.a.Component),Ne=Object(M.withStyles)(function(e){return{root:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",padding:3,backgroundColor:"#ffffff",transform:"translate(0px, 0px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},moved:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",padding:3,backgroundColor:"#ffffff",transform:"translate(0, -430px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},span:{color:"rgba(0, 0, 0, 0.54)"},expand:Object(T.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},selected:{color:"#3f51b5"}}})(ke),Pe=a(33),Ae=a.n(Pe),Ie=a(56),De=a.n(Ie),Le=a(55),Te=a.n(Le),Fe=a(57),Me=a.n(Fe),Be=a(151),Re=a.n(Be),Ue={PaperProps:{style:{maxHeight:224,width:250}}},We=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){a.setState({startAge:18,endAge:100,distance:5,minFameRating:0,maxFameRating:"",amountOfCommonInterests:0,selectedInterests:[],expanded:!1})},a.changeParam=function(e,t,n,r){r.target.value>=t&&(!n||r.target.value<=n)&&a.setState(Object(T.a)({},e,r.target.value))},a.filter=function(){a.state.expanded&&a.props.setFilterParams(a.state),a.setState({expanded:!a.state.expanded}),a.props.move()},a.handleInterestsChange=function(e){a.setState({selectedInterests:e.target.value})},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props,t=e.classes,n=e.interests,s=a.state,o=s.startAge,i=s.endAge,l=s.distance,c=s.minFameRating,u=s.maxFameRating,m=s.amountOfCommonInterests,p=s.selectedInterests,d=s.expanded;return r.a.createElement("div",{className:d?t.root:t.hidden},r.a.createElement("div",{className:t.ageFilter},r.a.createElement("div",null,r.a.createElement("label",{className:t.labelAll,htmlFor:"startAge"},"Start Age ",r.a.createElement("span",{className:t.spanSpecial},o))),r.a.createElement("div",{className:t.ageInputBlock},r.a.createElement("span",{className:t.spanAll},"18"),r.a.createElement("input",{className:t.slider,type:"range",name:"startAge",min:"18",max:"100",step:"1",value:o,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"startAge",18,100)}),r.a.createElement("span",{className:t.spanAll},"100")),r.a.createElement("div",null,r.a.createElement("label",{className:t.labelAll,htmlFor:"endAge"},"End Age ",r.a.createElement("span",{className:t.spanSpecial},i))),r.a.createElement("div",{className:t.ageInputBlock},r.a.createElement("span",{className:t.spanAll},"18"),r.a.createElement("input",{className:t.slider,type:"range",name:"endAge",min:"18",max:"100",step:"1",value:i,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"endAge",18,100)}),r.a.createElement("span",{className:t.spanAll},"100"))),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"distance"},"Maximum distance (km)"),r.a.createElement(Ae.a,{name:"distance",type:"number",value:l,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"distance",0,null)})),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"minFame"},"Minimum fame"),r.a.createElement(Ae.a,{name:"minFame",type:"number",value:c,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"minFameRating",0,null)})),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"maxFame"},"Maximum fame"),r.a.createElement(Ae.a,{name:"maxFame",type:"number",value:u,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"maxFameRating",0,null)})),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"amountOfCommonInterests"},"Common interests amount"),r.a.createElement(Ae.a,{name:"amountOfCommonInterests",type:"number",value:m,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"amountOfCommonInterests",0,null)})),r.a.createElement(Te.a,{className:t.formControl},r.a.createElement(De.a,{shrink:!0,htmlFor:"select-multiple-checkbox"},"Interests"),r.a.createElement(Me.a,{multiple:!0,value:p,onChange:a.handleInterestsChange,input:r.a.createElement(Ae.a,{id:"select-multiple-checkbox"}),renderValue:function(e){return e.join(", ")},MenuProps:Ue},n.map(function(e){return r.a.createElement(X.a,{key:e,value:e},r.a.createElement(Re.a,{checked:p.indexOf(e)>-1}),r.a.createElement(ne.a,{primary:e}))}))),r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:a.filter},"Filter"))},a}return Object(u.a)(t,e),t}(r.a.Component),Ve=Object(M.withStyles)(function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",padding:8,backgroundColor:"#ffffff",transform:"translate(0px, 0px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},hidden:{width:"100%",display:"flex",flexDirection:"column",padding:8,backgroundColor:"#ffffff",transform:"translate(0, -430px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},ageFilter:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:8},ageInputBlock:{display:"flex",alignItems:"center",width:300,height:40},filter:{display:"flex",flexDirection:"column",marginBottom:8},formControl:{marginBottom:8},slider:{WebkitAppearance:"none",width:"100%",background:"transparent","&:focus":{outline:"none"},"&::-webkit-slider-thumb":{WebkitAppearance:"none",height:"36px",width:"16px",borderRadius:"4px",background:"#ffffff",cursor:"pointer",marginTop:"-14px",boxShadow:"1px 1px 1px rgba(0, 0, 0, 0.7), 0px 0px 1px rgba(0, 0, 0, 0.7)"},"&::-webkit-slider-runnable-track":{width:"100%",height:"8.4px",cursor:"pointer",background:"#3f51b5",borderRadius:"4px"}},labelAll:{fontSize:"12px",color:"rgba(0, 0, 0, 0.54)"},spanAll:{color:"rgba(0, 0, 0, 0.54)"},spanSpecial:{color:"#3f51b5"}}})(We),Je=a(74),Ke=a.n(Je),ze=a(153),He=a.n(ze),Ze=a(76),Qe=a.n(Ze),qe=a(103),Ge=a.n(qe),Ye=a(77),Xe=a.n(Ye),_e=a(158),$e=a.n(_e),et=a(51),tt=a.n(et),at=a(99),nt=a.n(at),rt=a(155),st=a.n(rt),ot=a(154),it=a.n(ot),lt=a(156),ct=a.n(lt),ut=a(157),mt=a.n(ut),pt=a(152),dt=a.n(pt),ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){return j(a.props.login).then(function(e){return e.json()}).then(function(e){return a.setState({canLike:e.canLike})})},a.changeLikeStatus=function(){return S(a.props.login,a.state.canLike).then(function(e){return e.json()}).then(function(e){a.state.canLike?a.props.socket.emit("like",{sender:a.props.sender,receiver:a.props.login}):a.props.socket.emit("unlike",{sender:a.props.sender,receiver:a.props.login}),a.props.changeFame(e.step),a.props.updateChatData(e.chatData),a.setState({canLike:!a.state.canLike})})},a.render=function(){if(!a.state)return r.a.createElement("div",null);var e=a.props.classes;return r.a.createElement(ie.a,{"aria-label":"Like",onClick:a.changeLikeStatus},r.a.createElement(dt.a,{className:a.state.canLike?e.unset:e.red}))},a}return Object(u.a)(t,e),t}(r.a.Component),ht=Object(M.withStyles)({unset:{color:"unset"},red:{color:"#3f51b5"}})(ft),gt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){return A(a.props.login).then(function(e){return e.json()}).then(function(e){return a.setState({canBlock:e.canBlock})})},a.changeBlockStatus=function(){return I(a.props.login,a.state.canBlock).then(function(){return a.setState({canBlock:!a.state.canBlock})})},a.render=function(){return a.state?r.a.createElement("div",{variant:"outlined",onClick:a.changeBlockStatus},a.state.canBlock?r.a.createElement("span",null,"Block"):r.a.createElement("span",null,"Unblock")):r.a.createElement("div",null)},a}return Object(u.a)(t,e),t}(r.a.Component),bt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){n.setState(n.props.user),n.setState({currentPhoto:0,expanded:n.props.full,isMenuOpen:!1})},n.showPreviousPhoto=function(){n.setState({currentPhoto:n.state.currentPhoto-1})},n.showNextPhoto=function(){n.props.updateVisited(n.state.login),n.setState({currentPhoto:n.state.currentPhoto+1})},n.toggleMenu=function(){n.setState(function(e){return{isMenuOpen:!e.isMenuOpen}})},n.changeFame=function(e){n.setState({fame:n.state.fame+e})},n.reportFake=function(){return P(n.state.login).then(function(){return n.setState({fake:!0})})},n.handleExpandClick=function(){return n.setState(function(e){return{expanded:!e.expanded}})},n.handleMenuClose=function(e){n.anchorEl.contains(e.target)||n.setState({isMenuOpen:!1})},n.render=function(){if(!n.state)return r.a.createElement("span",null,"Loading...");var e=n.props.classes,t=n.state,s=t.login,o=t.firstname,i=t.lastname,l=t.online,c=t.time,u=t.currentPhoto,m=t.gallery,p=t.avatarid,d=t.fame,f=t.age,h=t.gender,g=t.preferences,b=t.bio,v=t.interests,E=t.fake,y=t.isMenuOpen,O=m.length>0?m[p]:"avatar.png",C=m.length>0?m[u]:"avatar.png";return r.a.createElement(Ke.a,{className:e.card},r.a.createElement(He.a,{avatar:r.a.createElement(tt.a,{"aria-label":"Recipe",className:e.avatar,alt:"".concat(o," ").concat(i),src:a(72)("./".concat(O))}),action:r.a.createElement("div",null,r.a.createElement(ie.a,{buttonRef:function(e){n.anchorEl=e},onClick:n.toggleMenu},r.a.createElement(it.a,null)),r.a.createElement(st.a,{open:y,anchorEl:n.anchorEl,transition:!0,disablePortal:!0},function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(nt.a,Object.assign({},t,{id:"menu-list-grow",style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement($.a,null,r.a.createElement(me.a,{onClickAway:n.handleMenuClose},r.a.createElement(G.a,null,r.a.createElement(X.a,null,r.a.createElement(gt,{login:s})),!E&&r.a.createElement(X.a,null,r.a.createElement("div",{onClick:n.reportFake},"Report Fake"))))))})),title:"".concat(o," ").concat(i),subheader:l?"Online":"Last seen on ".concat(new Date(parseInt(c)).toLocaleString())}),r.a.createElement(Qe.a,{className:e.media,image:a(72)("./".concat(C))}),r.a.createElement("div",{className:e.leftRightArea},u>0&&r.a.createElement(ie.a,{onClick:n.showPreviousPhoto},r.a.createElement(ct.a,null)),u<m.length-1&&r.a.createElement(ie.a,{className:e.right,onClick:n.showNextPhoto},r.a.createElement(mt.a,null))),r.a.createElement(Ge.a,null,r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:e.bold},"Age: "),f),r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:e.bold},"Gender: "),h),r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:e.bold},"Sexual preferences: "),g)),r.a.createElement(Xe.a,{className:e.actions,disableActionSpacing:!0},r.a.createElement(ht,{changeFame:n.changeFame,socket:n.props.socket,sender:n.props.sender,login:s,updateChatData:n.props.updateChatData}),r.a.createElement("div",null,d),(v.length>0||b)&&r.a.createElement(ie.a,{className:xe()(e.expand,Object(T.a)({},e.expandOpen,n.state.expanded)),onClick:n.handleExpandClick,"aria-expanded":n.state.expanded,"aria-label":"Show more"},r.a.createElement(Se.a,null))),r.a.createElement($e.a,{in:n.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ge.a,null,v.length>0&&r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:e.bold},"Interests: "),v.join(", ")),b&&r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:e.bold},"Biography: "),b))))},n}return Object(u.a)(t,e),t}(r.a.Component),vt=Object(M.withStyles)(function(e){return{card:{margin:50,width:500,height:"100%"},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},expand:Object(T.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},leftRightArea:{position:"relative",height:30},right:{position:"absolute",right:0},bold:{fontWeight:500}}})(bt),Et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).componentDidMount=function(){a.props.suggestions.forEach(function(e){e.distance=a.getDistance(a.props.profile.location,e.location),e.amountOfCommonInterests=e.interests.filter(function(e){return-1!==a.props.profile.interests.indexOf(e)}).length}),a.users=a.props.suggestions,a.setState({filteredUsers:a.sort(a.filter(a.props.suggestions)),moved:!1})},a.getDistance=function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},a.sort=function(e){return"age"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.age-e.age)}):"distance"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.distance-e.distance)}):"fame"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.fame-e.fame)}):"amountOfCommonInterests"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.amountOfCommonInterests-e.amountOfCommonInterests)}):void 0},a.setSortParams=function(e,t){a.sortParam=e,a.sortOrder=t,a.setState({filteredUsers:a.sort(a.filter(a.users))})},a.filter=function(e){return e.filter(function(e){return e.age>=a.startAge&&e.age<=a.endAge&&e.distance<=a.distance&&e.fame>=a.minFameRating&&(""!==a.maxFameRating&&e.fame<=a.maxFameRating||""===a.maxFameRating)&&e.amountOfCommonInterests>=a.amountOfCommonInterests&&a.selectedInterests.every(function(t){return e.interests.includes(t)})})},a.setFilterParams=function(e){a.startAge=e.startAge,a.endAge=e.endAge,a.distance=e.distance,a.minFameRating=e.minFameRating,a.maxFameRating=e.maxFameRating,a.amountOfCommonInterests=e.amountOfCommonInterests,a.selectedInterests=e.selectedInterests,a.setState({filteredUsers:a.sort(a.filter(a.users))})},a.move=function(){return a.setState({moved:!a.state.moved})},a.users=null,a.sortParam="distance",a.sortOrder=1,a.startAge=18,a.endAge=100,a.distance=5,a.minFameRating=0,a.maxFameRating="",a.amountOfCommonInterests=0,a.selectedInterests=[],a}return Object(u.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this;if(!this.state)return r.a.createElement("span",null,"Loading...");var t=this.props.classes,a=this.state,n=a.filteredUsers,s=a.moved;return r.a.createElement("div",{className:t.root},r.a.createElement(Ve,{setFilterParams:this.setFilterParams,interests:this.props.profile.allInterests,move:this.move}),r.a.createElement(Ne,{setSortParams:this.setSortParams,moved:s}),r.a.createElement("ul",{className:s?t.userList:t.moved},n.map(function(t){return r.a.createElement("li",{key:t.login},r.a.createElement(vt,{user:t,full:!1,socket:e.props.socket,sender:e.props.sender,visited:e.props.visited,updateVisited:e.props.updateVisited,updateChatData:e.props.updateChatData}))})))}}]),t}(r.a.Component),yt=Object(M.withStyles)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto",padding:"10px"},userList:{margin:0,padding:0,listStyleType:"none",transform:"translate(0px, 0px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},moved:{margin:0,padding:0,listStyleType:"none",transform:"translate(0, -430px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"}})(Et),Ot=a(102),Ct=a.n(Ot),wt=function(e){function t(){var e,a,n;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state=(a={},Object(T.a)(a,n.props.name,""),Object(T.a)(a,"labelWidth",0),a),n.handleChange=function(e){n.setState(Object(T.a)({},n.props.name,e.target.value)),n.props.onChange(Object(T.a)({},n.props.name,e.target.value))},n}return Object(u.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){var e;this.setState((e={},Object(T.a)(e,this.props.name,this.props.value),Object(T.a)(e,"labelWidth",o.a.findDOMNode(this.InputLabelRef).offsetWidth),e))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.title,s=t.items;return r.a.createElement(Te.a,{variant:"outlined",className:a.formControl},r.a.createElement(De.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-age-simple"},n),r.a.createElement(Me.a,{value:this.state[[this.props.name]],onChange:this.handleChange,input:r.a.createElement(Ct.a,{labelWidth:this.state.labelWidth,id:"outlined-age-simple"})},s.map(function(e,t){return r.a.createElement(X.a,{key:t,value:e},e)})))}}]),t}(r.a.Component),xt=Object(M.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit,minWidth:120}}})(wt),jt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state=Object(T.a)({},a.props.name,""),a.handleChange=function(e){a.setState(Object(T.a)({},a.props.name,e.target.value)),a.props.onChange(Object(T.a)({},a.props.name,e.target.value))},a}return Object(u.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(T.a)({},this.props.name,this.props.value))}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.placeholder,n=e.disabled;return r.a.createElement(W.a,{className:this.props.classes.root,id:"outlined-full-width",label:t,placeholder:a,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},onChange:this.handleChange,value:this.state[this.props.name],disabled:n})}}]),t}(r.a.Component),St=Object(M.withStyles)(function(e){return{}})(jt),kt=a(79),Nt=a(159),Pt=a(105),At=a(160),It=a.n(At),Dt=a(176),Lt=a(161),Tt=a.n(Lt),Ft=function(e){var t=e.inputProps,a=(e.handleAdding,Object(Pt.a)(e,["inputProps","handleAdding"])),n=t.ref,s=Object(Pt.a)(t,["ref"]);return r.a.createElement(W.a,Object.assign({InputProps:Object(Nt.a)({inputRef:n},s)},a,{variant:"outlined"}))},Mt=function(e,t){var a=It()(t.trim()).toLowerCase(),n=a.length,r=0;return 0===n?[]:e.filter(function(e){var t=r<5&&e.slice(0,n).toLowerCase()===a;return t&&(r+=1),t})},Bt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:"",selectedItem:[],interests:[],suggestions:[]},a.handleKeyDown=function(e){var t=a.state,n=t.inputValue,r=t.selectedItem;r.length&&!n.length&&"backspace"===R()(e)&&a.setState({selectedItem:r.slice(0,r.length-1)}),"space"===R()(e)&&n.length&&a.handleChange(n.trim())},a.handleInputChange=function(e){var t=e.target,n=a.state.interests;a.setState({inputValue:t.value,suggestions:Object(kt.a)(Mt(n,t.value))})},a.handleChange=function(e){var t=a.state,n=t.interests,r=t.selectedItem;-1===r.indexOf(e)&&(r=Object(kt.a)(r).concat([e])),-1===n.indexOf(e)&&(n=Object(kt.a)(n).concat([e])),a.setState({inputValue:"",selectedItem:r,interests:n}),a.props.onChange({interests:r})},a.handleDelete=function(e){return function(){var t=a.state.selectedItem;t.splice(t.indexOf(e),1),a.setState({selectedItem:t})}},a}return Object(u.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.setState({selectedItem:this.props.value,interests:this.props.all})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.inputValue,s=a.selectedItem,o=a.interests,i=a.suggestions;return o?r.a.createElement(Dt.a,{id:"downshift-multiple",inputValue:n,onChange:this.handleChange,selectedItem:s},function(a){var n=a.getInputProps,l=a.getItemProps,c=a.isOpen,u=a.selectedItem,m=a.highlightedIndex;return r.a.createElement("div",{className:t.container},r.a.createElement(Ft,{fullWidth:!0,interests:o,handleAdding:e.handleChange,inputProps:n({startAdornment:s.map(function(a,n){return r.a.createElement(Tt.a,{key:n,tabIndex:-1,label:a,className:t.chip,onDelete:e.handleDelete(a)})}),onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,placeholder:"Select multiple interests"}),label:"Interests"}),c?r.a.createElement($.a,{className:t.paper,square:!0},i.map(function(e,t){return function(e){var t=e.suggestion,a=e.index,n=e.itemProps,s=e.highlightedIndex===a,o=(e.selectedItem||"").indexOf(t)>-1;return r.a.createElement(X.a,Object.assign({},n,{key:a,selected:s,component:"div",style:{fontWeight:o?500:400}}),t)}({suggestion:e,index:t,itemProps:l({item:e}),highlightedIndex:m,selectedItem:u})})):null)}):null}}]),t}(r.a.Component),Rt=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.name,n=e.value,s=e.all,o=e.onChange;return r.a.createElement("div",{className:t.root},r.a.createElement(Bt,{classes:t,name:a,value:n,all:s,onChange:o}))}}]),t}(r.a.Component),Ut=Object(M.withStyles)(function(e){return{root:{flexGrow:1},container:{marginTop:"8px",marginBottom:"16px",marginRight:"16px",flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},divider:{height:2*e.spacing.unit}}})(Rt),Wt=a(162),Vt=a.n(Wt),Jt=a(164),Kt=a.n(Jt),zt=a(163),Ht=a.n(zt),Zt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).upload=function(e){var t=document.getElementById("file-upload");a.photoid=e,t.click()},a.makeAvatar=function(e){a.setState({avatarid:e}),g(e)},a.uploadPhoto=function(e){var t=JSON.parse(JSON.stringify(a.state.gallery)),n=new Image,r=document.createElement("canvas");n.onload=function(){r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0,r.width,r.height),null===a.photoid&&(a.photoid=t.length),h(r.toDataURL(),a.photoid).then(function(e){return e.json()}).then(function(e){t[a.photoid]=e.fileName,a.setState({gallery:t}),a.photoid=null})},n.src=window.URL.createObjectURL(e.target.files[0])},a.render=function(){var e=a.props.classes,t=a.state,n=t.gallery,s=t.avatarid;return r.a.createElement("div",{className:e.root},r.a.createElement(J.a,{className:n.length<5?e.customFileUpload:e.hidden,variant:"contained",color:"primary"},r.a.createElement("label",{htmlFor:"file-upload"},"UPLOAD NEW PHOTO"),r.a.createElement(Vt.a,{className:e.rightIcon})),r.a.createElement("input",{className:e.hidden,id:"file-upload",accept:".jpg, .jpeg, .png",type:"file",onChange:a.uploadPhoto}),r.a.createElement("ul",{className:e.photoList},n.map(function(t,n){return r.a.createElement(Ke.a,{className:e.card,key:n},r.a.createElement(Qe.a,{className:e.media,image:"users/photos/".concat(t)}),r.a.createElement(Xe.a,null,r.a.createElement(J.a,{size:"small",color:"default",onClick:a.upload.bind(Object(Ce.a)(Object(Ce.a)(a)),n)},"Replace",r.a.createElement(Ht.a,{className:e.rightIcon,color:"primary"})),s===n?r.a.createElement("span",{className:e.avatarNote},"AVATAR"):r.a.createElement(J.a,{size:"small",color:"default",onClick:a.makeAvatar.bind(Object(Ce.a)(Object(Ce.a)(a)),n)},"Put on avatar",r.a.createElement(Kt.a,{className:e.rightIcon,color:"primary"}))))})))},a.photoid=null,a.state={gallery:a.props.gallery,avatarid:a.props.avatarid},a}return Object(u.a)(t,e),t}(r.a.Component),Qt=Object(M.withStyles)({root:{display:"flex",flexDirection:"column",alignItems:"center"},upload:{marginTop:"15px",color:"rgba(0, 0, 0, 0.54)",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},rightIcon:{marginLeft:10},hidden:{display:"none"},photoList:{margin:0,padding:0,listStyleType:"none"},photoContainer:{margin:"50px",width:"614px"},imgContainer:{position:"relative",top:"6px"},photo:{width:"100%"},photoActions:{display:"flex",flexDirection:"column"},avatarNote:{lineHeight:"38.8px",textAlign:"center",fontWeight:500,color:"#3f51b5"},customFileUpload:{marginTop:"50px"},card:{margin:50,width:500},media:{height:0,paddingTop:"56.25%"}})(Zt),qt=Object(M.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},input:{margin:e.spacing.unit,width:"100%"}}})(function(e){var t=e.classes,a=e.error;return r.a.createElement("div",{className:t.container},r.a.createElement(Ae.a,{className:t.input,error:a,inputProps:{"aria-label":"Description"},value:e.value}))}),Gt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).render=function(){var e=n.props,t=e.classes,s=e.user,o=s.login,i=s.firstname,l=s.lastname,c=s.gallery,u=s.avatarid,m=c.length>0?c[u]:"avatar.png";return r.a.createElement(F.a,{className:t.link,to:"/users/".concat(o),onClick:function(){return n.props.updateVisited(n.props.user.login)}},r.a.createElement("div",{className:t.root},r.a.createElement(tt.a,{alt:"".concat(i," ").concat(l),src:a(72)("./".concat(m)),className:t.avatar}),r.a.createElement("span",{className:t.name},"".concat(i," ").concat(l))))},n}return Object(u.a)(t,e),t}(r.a.Component),Yt=Object(M.withStyles)({link:{color:"initial",textDecoration:"none","&:hover":{color:"#3f51b5"}},root:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:15},avatar:{width:60,height:60},name:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}})(Gt),Xt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){return a.props.getUserList().then(function(e){return e.json()}).then(function(e){return a.setState({users:e})})},a}return Object(u.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this;if(!this.state)return r.a.createElement("span",null,"Loading...");var t=this.props,a=t.classes,n=t.title,s=t.icon,o=this.state.users;return o.length>0?r.a.createElement("div",{className:a.root},r.a.createElement("h1",{className:a.title},r.a.createElement("span",{className:a.icon},s)," ",n),r.a.createElement("ul",{className:a.list},o.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(Yt,{user:t,visited:e.props.visited,updateVisited:e.props.updateVisited}))}))):r.a.createElement("div",null)}}]),t}(r.a.Component),_t=Object(M.withStyles)({root:{backgroundColor:"#ffffff"},icon:{color:"#3f51b5"},title:{margin:0,fontSize:12,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"normal",color:"rgba(0, 0, 0, 0.54)"},list:{display:"flex",width:"100%",marginTop:10,marginBottom:10,padding:0,listStyleType:"none"}})(Xt),$t=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},ea=function(e){return e.length>=6&&/^[a-zA-Z]+[a-zA-Z0-9]*$/.test(String(e))},ta=function(e){return e.length>=6&&/[a-zA-Z0-9]+/.test(String(e))},aa=function(e){return/^[a-zA-Z]+(-[a-zA-Z])?[a-zA-Z]*$/.test(String(e))},na=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).isEmailValid=function(e){var t=$t(e);return t||a.setState({changeStatus:"Please make sure that your email address is correct",error:!0}),t},a.validateEmpty=function(e){return""!==e||(a.setState({changeStatus:"Please fill all the fields in",error:!0}),!1)},a.isAllValid=function(){var e=!0;return e=(e=(e=(e=e&&a.validateEmpty(a.state.firstname))&&a.validateEmpty(a.state.lastname))&&a.validateEmpty(a.state.email))&&a.isEmailValid(a.state.email)},a.onSubmit=function(e){e.preventDefault(),a.isAllValid()&&f(a.state).then(function(e){a.setState({error:"error"===e.status,changeStatus:e.result}),e.suggestions&&a.props.updateSuggestions(e.suggestions),a.props.onChange(a.state)},function(e){return console.error(e)})},a.onChange=function(e){a.setState(e)},a.onAgeChange=function(e){e>=18&&e<=100&&a.setState({age:e})},a.renderChangeStatus=function(){if(a.state.changeStatus)return r.a.createElement(qt,{value:a.state.changeStatus,error:a.state.error})},a}return Object(u.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.setState(this.props.value)}},{key:"render",value:function(){if(!this.state)return r.a.createElement("span",null,"Loading...");var e=this.state,t=e.firstname,a=e.lastname,n=e.email,s=e.gender,o=e.preferences,i=e.bio,l=e.age,c=e.interests,u=e.gallery,m=e.avatarid,p=this.props.classes;return r.a.createElement("div",{className:p.root},r.a.createElement(_t,{title:"Liked by",icon:"\u2665",getUserList:L,visited:this.props.visited,updateVisited:this.props.updateVisited}),r.a.createElement(_t,{title:"Checked by",icon:"\u2714",getUserList:D,visited:this.props.visited,updateVisited:this.props.updateVisited}),r.a.createElement("div",{className:p.profileDetails},this.renderChangeStatus(),r.a.createElement(St,{label:"First name",name:"firstname",value:t,onChange:this.onChange}),r.a.createElement(St,{label:"Last name",name:"lastname",value:a,onChange:this.onChange}),r.a.createElement(St,{label:"Email address",name:"email",value:n,validate:this.isEmailValid,onChange:this.onChange}),r.a.createElement(St,{label:"Age",name:"age",value:l,onChange:this.onAgeChange,type:"number",variant:"outlined"}),r.a.createElement(xt,{title:"Gender",items:["male","female"],name:"gender",value:s,onChange:this.onChange}),r.a.createElement(xt,{title:"Preferences",items:["heterosexual","homosexual","bisexual"],name:"preferences",value:o,onChange:this.onChange}),r.a.createElement(St,{label:"Biography",placeholder:"Tell us a few words about yourself",name:"bio",value:i,onChange:this.onChange}),r.a.createElement(Ut,{name:"interests",value:c,all:this.state.allInterests,onChange:this.onChange}),r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:this.onSubmit},"Save changes")),r.a.createElement(Qt,{gallery:u,avatarid:m}))}}]),t}(r.a.Component),ra=Object(M.withStyles)(function(e){return{root:{overflow:"auto",padding:"10px"},profileDetails:{display:"flex",flexDirection:"column",padding:8,backgroundColor:"#ffffff"},saveChangesButton:{padding:"8px"}}})(na),sa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.visited,s=e.socket,o=e.sender,i=e.updateVisited,l=e.updateChatData;return r.a.createElement("div",{className:t.root},r.a.createElement("ul",{className:t.userList},n.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(vt,{user:e,full:!1,socket:s,sender:o,updateVisited:i,updateChatData:l}))})))},a}return Object(u.a)(t,e),t}(r.a.Component),oa=Object(M.withStyles)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto"},userList:{margin:0,padding:0,listStyleType:"none"}})(sa),ia=a(100),la=a.n(ia),ca=a(101),ua=a.n(ca),ma=a(165),pa=a.n(ma),da=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).addSocketEventListeners=function(){a.props.socket.on("chat",function(e){var t=a.props.log;t.unshift(e),a.setState({typing:""}),a.props.updateLog(a.props.receiver,t),null===a.state.lastloadedid&&a.setState({lastloadedid:e.id})}),a.props.socket.on("typing",function(e){a.props.receiver===e.sender&&a.setState({typing:e.sender})}),a.props.socket.on("stoppedTyping",function(e){a.props.receiver===e.sender&&a.setState({typing:""})})},a.componentDidMount=function(){a.addSocketEventListeners()},a.componentWillUnmount=function(){a.props.socket.off("chat"),a.props.socket.off("typing"),a.props.socket.off("stoppedTyping")},a.componentWillReceiveProps=function(){a.props.socket.emit("stoppedTyping",{sender:a.props.sender,receiver:a.props.receiver}),a.setState({message:"",typing:""})},a.changeHandler=function(e){a.props.socket.emit("typing",{sender:a.props.sender,receiver:a.props.receiver}),""===e.target.value&&a.props.socket.emit("stoppedTyping",{sender:a.props.sender,receiver:a.props.receiver}),a.setState({message:e.target.value})},a.keyPressHandler=function(e){"Enter"===e.key&&a.send()},a.send=function(){""!==a.state.message&&(a.props.socket.emit("chat",{sender:a.props.sender,receiver:a.props.receiver,message:a.state.message}),a.setState({message:""}))},a.render=function(){var e=a.state,t=e.message,n=e.typing,s=a.props,o=s.classes,i=s.sender,l=s.log;return r.a.createElement("div",{className:o.marioChat},r.a.createElement("div",{className:o.chatWindow},n&&r.a.createElement("p",{className:o.typingP},r.a.createElement("em",null,n," is typing a message...")),r.a.createElement("div",{className:o.outputPs},l.map(function(e,t){return r.a.createElement("div",{className:e.sender===i?o.outputPMine:o.outputPOther,key:t},r.a.createElement("p",{className:o.messageText},e.message),r.a.createElement("span",{className:o.messageTime},"".concat(new Date(parseInt(e.time)).toLocaleString()," ")))}))),r.a.createElement(Ae.a,{type:"text",className:o.message,value:t,placeholder:"Say something...",onChange:a.changeHandler,onKeyPress:a.keyPressHandler,disableUnderline:!0}),r.a.createElement(J.a,{className:o.send,onClick:a.send,variant:"contained",color:"primary"},"Send"))},a.state={message:"",typing:""},a}return Object(u.a)(t,e),t}(r.a.Component),fa=Object(M.withStyles)(function(e){return{marioChat:{flexGrow:1,display:"flex",flexDirection:"column",width:"80%"},chatWindow:{flexGrow:1,overflow:"auto",borderBottom:"1px solid #e9e9e9"},outputPs:{display:"flex",flexDirection:"column",alignItems:"center"},outputPOther:{position:"relative",marginRight:"10%",marginTop:5,width:"80%",padding:10,display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:4,backgroundColor:"#ffffff","&:last-child":{marginBottom:5}},outputPMine:{position:"relative",marginLeft:"10%",marginTop:5,width:"80%",padding:10,display:"flex",flexDirection:"column",borderRadius:4,backgroundColor:"rgba(245, 0, 87, 0.1)","&:last-child":{marginBottom:5}},messageText:{margin:0},messageTime:{textAlign:"end",fontSize:12,color:"rgba(0, 0, 0, 0.54)"},typingP:{width:"80%",padding:10,borderRadius:4,backgroundColor:"#ffffff"},message:{width:"100%",padding:"14px",backgroundColor:"#ffffff"},send:{padding:"18px 0",width:"100%",border:"none",outline:"1px solid #e9e9e9"}}})(da),ha=function(e){function t(){var e,n;Object(i.a)(this,t);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).render=function(){var e=n.props,t=e.classes,s=e.socket,o=e.sender,i=e.receiver,l=e.chatData,c=e.updateLog;return r.a.createElement("div",{className:t.root},r.a.createElement(la.a,{component:"nav",className:t.users},Object.keys(l).map(function(e,n){var s=l[e].gallery.length>0?l[e].gallery[l[e].avatarid]:"avatar.png";return r.a.createElement(F.a,{className:t.link,key:n,to:"/chat/".concat(e)},r.a.createElement(ua.a,{button:!0,className:e===i?t.selectedUser:t.user},r.a.createElement(tt.a,{alt:e,src:a(72)("./".concat(s))}),r.a.createElement(ne.a,{primary:e}),l[e].online&&r.a.createElement("div",{className:t.onlineDot})),r.a.createElement(pa.a,{light:!0}))})),r.a.createElement(fa,{socket:s,sender:o,receiver:i,log:l[i].log,updateLog:c,updateMessage:n.updateMessage}))},n}return Object(u.a)(t,e),t}(r.a.Component),ga=Object(M.withStyles)(function(e){return{root:{flexGrow:1,display:"flex",flexDirection:"row",overflow:"hidden"},link:{textDecoration:"none"},users:{width:"20%",padding:"unset",borderRight:"1px solid rgba(0, 0, 0, 0.08)"},user:{padding:5},selectedUser:{padding:5,backgroundColor:"rgba(0, 0, 0, 0.08)"},onlineDot:{marginRight:5,width:5,height:5,borderRadius:"100%",backgroundColor:"#3f51b5"}}})(ha),ba=a(166),va=a.n(ba),Ea=a(167),ya=a.n(Ea),Oa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.message,s=e.close,o=e.index;return r.a.createElement(va.a,{className:t.notification,"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},n),action:[r.a.createElement(ie.a,{className:t.close,key:"close","aria-label":"Close",color:"inherit",onClick:s.bind(Object(Ce.a)(Object(Ce.a)(a)),o)},r.a.createElement(ya.a,{className:t.icon}))]})},a}return Object(u.a)(t,e),t}(r.a.Component),Ca=Object(M.withStyles)({notification:{padding:0,paddingLeft:"20px",paddingRight:"10px",backgroundColor:"#f50057"},message:{display:"flex",alignItems:"center"},close:{padding:"5px"}})(Oa),wa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.messages,s=e.closeNotification;return r.a.createElement("div",{className:t.root},n.map(function(e,t){return r.a.createElement(Ca,{message:e,key:t,close:s,index:t})}))},a}return Object(u.a)(t,e),t}(r.a.Component),xa=Object(M.withStyles)({root:{position:"fixed",right:0,top:0,display:"flex",flexDirection:"column",zIndex:2e3}})(wa),ja=function(e){return r.a.createElement(ce.a,{style:{flexGrow:1,display:"flex",flexDirection:"column"},component:"div"},e.children)},Sa=null,ka=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={tabid:0,profile:null,notifications:[],showMenu:!1,tabName:"Suggestions",chatData:null,suggestions:null},a.ipLookUp=function(){fetch("http://ip-api.com/json",{method:"POST"}).then(function(e){return e.json()}).then(function(e){return b([e.lat,e.lon])}).catch(function(e){return console.error(e)})},a.getLocation=function(e){navigator.geolocation.getCurrentPosition(function(e){return b([e.coords.latitude,e.coords.longitude])},function(){return a.ipLookUp(e)})},a.addNotification=function(e){var t=a.state.notifications;t.push(e),a.setState({notifications:t})},a.addSocketEventListeners=function(){Sa.on("like",function(e){return a.addNotification("".concat(e.sender," has just liked you"))}),Sa.on("check",function(e){return a.addNotification("".concat(e.sender," has just checked your profile"))}),Sa.on("chat",function(e){e.sender!==a.state.profile.login&&a.addNotification("".concat(e.sender," has sent you a message"))}),Sa.on("likeBack",function(e){return a.addNotification("".concat(e.sender," has just liked you back!"))}),Sa.on("unlike",function(e){return a.addNotification("Unfortunately ".concat(e.sender," has disconnected from you"))})},a.onProfileChange=function(e){a.setState({profile:e})},a.signout=function(){y().then(function(){return a.setState({profile:"signin"})})},a.updateVisited=function(e){a.state.visited.map(function(e){return e.login}).includes(e)||k(e).then(function(t){Sa.emit("check",{sender:a.state.profile.login,receiver:e}),a.setState({visited:t})})},a.updateSuggestions=function(e){return a.setState({suggestions:e})},a.updateChatData=function(e){a.setState({chatData:e})},a.closeNotification=function(e){var t=a.state.notifications;t.splice(e,1),a.setState({notifications:t})},a.showMenu=function(){return a.setState({showMenu:!a.state.showMenu})},a.changeTabName=function(e){return a.setState({tabName:e,showMenu:!1})},a.handleMenuClose=function(e){a.anchorEl.contains(e.target)||a.setState({showMenu:!1})},a.updateLog=function(e,t){var n=a.state.chatData;n[e].log=t,a.setState({chatData:n})},a.render=function(){var e=window.location.pathname.split("/")[1];if(""===(e=e.charAt(0).toUpperCase()+e.slice(1))&&(e="Suggestions"),!a.state.profile||!a.state.chatData||!a.state.suggestions||!a.state.visited)return r.a.createElement("span",null,"Loading...");if("signin"===a.state.profile)return r.a.createElement(Aa,null);var t=a.props.classes,n=a.state,s=n.profile,o=n.profile,i=o.login,l=o.canLike,c=n.notifications,u=n.showMenu,m=n.chatData,d=n.suggestions,f=n.visited;return r.a.createElement("div",{className:t.root},r.a.createElement(xa,{messages:c,closeNotification:a.closeNotification}),r.a.createElement(Q.a,{position:"static",className:t.appBar},r.a.createElement(se.a,null,r.a.createElement(ie.a,{className:t.menuButton,color:"inherit","aria-label":"Menu",buttonRef:function(e){a.anchorEl=e},onClick:a.showMenu},r.a.createElement(Oe.a,null)),r.a.createElement(ce.a,{variant:"h6",color:"inherit",className:t.grow},e),r.a.createElement(J.a,{color:"inherit",onClick:a.signout},"Log out"))),r.a.createElement(me.a,{onClickAway:a.handleMenuClose},r.a.createElement($.a,{className:u?t.appMenu:t.appMenuHidden},r.a.createElement(G.a,null,r.a.createElement(X.a,{className:t.menuItem,component:F.a,to:"/",onClick:function(){return a.changeTabName("Suggestions")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(be.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Suggestions"})),r.a.createElement(X.a,{className:t.menuItem,component:F.a,to:"/profile",onClick:function(){return a.changeTabName("Profile")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(Ee.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Profile"})),Object.keys(m).length>0&&r.a.createElement(X.a,{className:t.menuItem,component:F.a,to:"/chat/".concat(Object.keys(m)[0]),onClick:function(){return a.changeTabName("Chat")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(de.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Chat"})),r.a.createElement(X.a,{className:t.menuItem,component:F.a,to:"/visited",onClick:function(){return a.changeTabName("Visited")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(he.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Visited"}))))),r.a.createElement("div",{className:t.appContent},r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ja,null,r.a.createElement(yt,{socket:Sa,sender:i,profile:s,visited:f,updateVisited:a.updateVisited,suggestions:d,updateChatData:a.updateChatData}))}}),r.a.createElement(p.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(ja,null,r.a.createElement(ra,{name:"profile",value:s,onChange:a.onProfileChange,editable:!0,visited:f,updateVisited:a.updateVisited,updateSuggestions:a.updateSuggestions}))}}),Object.keys(m).length>0&&r.a.createElement(p.a,{exact:!0,path:"/chat",render:function(){return r.a.createElement(ja,null,r.a.createElement(ga,{socket:Sa,sender:i,receiver:Object.keys(m)[0],chatData:m,updateLog:a.updateLog}))}}),Object.keys(m).length>0&&r.a.createElement(p.a,{exact:!0,path:"/chat/:receiver",render:function(e){var t=e.match;return Object.keys(m).includes(t.params.receiver)?r.a.createElement(ja,null,r.a.createElement(ga,{socket:Sa,sender:i,receiver:t.params.receiver,chatData:m,updateLog:a.updateLog})):r.a.createElement("span",null,"Chat user not found")}}),r.a.createElement(p.a,{exact:!0,path:"/users/:login",render:function(e){var n=e.match,s=d.indexOf(d.find(function(e){return n.params.login===e.login}));return-1!==s?r.a.createElement(ja,null,r.a.createElement("div",{className:t.singleUserContainer},r.a.createElement(vt,{user:d[s],socket:Sa,sender:i,canLike:l,full:!0,visited:f,updateVisited:a.updateVisited,updateChatData:a.updateChatData}))):r.a.createElement("span",null,"User not found")}}),r.a.createElement(p.a,{exact:!0,path:"/visited",render:function(){return r.a.createElement(ja,null,r.a.createElement(oa,{socket:Sa,sender:i,visited:f,updateVisited:a.updateVisited,updateChatData:a.updateChatData}))}})))},a}return Object(u.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("/getUserProfile",{method:"POST"}).then(function(e){return d(e,"getUserProfile error")}).then(function(t){Sa=H()("http://localhost:5000",{query:"login=".concat(t.user.login)}),e.addSocketEventListeners(),e.setState({profile:{firstname:t.user.firstname,lastname:t.user.lastname,login:t.user.login,email:t.user.email,age:t.user.age,gender:t.user.gender,preferences:t.user.preferences,bio:t.user.bio,interests:t.user.interests,gallery:t.user.gallery,avatarid:t.user.avatarid,location:t.user.location,allInterests:t.allInterests,changeStatus:null,error:!1,canLike:t.user.gallery.filter(function(e){return""!==e}).length>0}}),e.getLocation(t.user.id)},function(){return e.setState({profile:"signin"})}),fetch("/getChatData",{method:"POST"}).then(function(e){if(e.ok)return e.json();throw new Error("Error")}).then(function(t){return e.setState({chatData:t})},function(e){return console.error(e)}),fetch("/getSuggestions",{method:"POST"}).then(function(e){if(e.ok)return e.json();throw new Error("Error")}).then(function(t){return e.setState({suggestions:t})},function(e){return console.error(e)}),fetch("/getVisited",{method:"POST"}).then(function(e){if(!e.ok)throw Error(e.code);return e.json()}).then(function(t){return e.setState({visited:t})},function(e){return console.error(e)})])}}]),t}(r.a.Component),Na=Object(M.withStyles)(function(e){return{root:{display:"flex",flexDirection:"column",width:"100%",minWidth:"568px",height:"100vh",backgroundColor:"#eeeeee"},appBar:{backgroundColor:"#3f51b5"},appMenu:{position:"fixed",width:200,height:"100%",zIndex:2e3,transform:"translate(0px, 0px)",transition:"transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms"},appMenuHidden:{position:"fixed",width:200,height:"100%",zIndex:2e3,transform:"translate(-200px, 0px)",transition:"transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms"},appContent:{flexGrow:1,display:"flex",flexDirection:"column"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},singleUserContainer:{display:"flex",justifyContent:"center",overflow:"auto"}}})(ka),Pa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={login:"",password:"",message:"",main:!1},a.handleKeyPress=function(e){"enter"===R()(e)&&a.signin()},a.handleChange=function(e){return function(t){a.setState(Object(T.a)({},e,t.target.value))}},a.signin=function(){""===a.state.login||""===a.state.password?a.setState({message:"Please fill all the fields in"}):(a.setState({message:""}),E(a.state.login,a.state.password).then(function(e){"success"===e.status?(a.setState({main:!0}),N()):a.setState({message:e.result})}))},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(W.a,{className:a.props.classes.textField,error:!0,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return a.state.main?r.a.createElement(Na,null):r.a.createElement("div",{className:e.root},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},a.renderMessage(),r.a.createElement(W.a,{label:"Login",className:e.textField,onChange:a.handleChange("login"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.login}),r.a.createElement(W.a,{label:"Password",className:e.textField,onChange:a.handleChange("password"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.password,type:"password"}),r.a.createElement(J.a,{className:e.button,onClick:a.signin},"Sign In"),r.a.createElement(F.a,{to:"/signup"},"Sign Up"),r.a.createElement(F.a,{to:"/forgot-password"},"Forgot Password?")))},a}return Object(u.a)(t,e),t}(r.a.Component),Aa=Object(M.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(Pa),Ia=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={page:null},a.componentDidMount=function(){v().then(function(e){return e.json()}).then(function(e){return a.setState({page:e.result})})},a.render=function(){return a.state.page?"signin"===a.state.page?r.a.createElement(Aa,null):r.a.createElement(Na,null):r.a.createElement("span",null,"Loading...")},a}return Object(u.a)(t,e),t}(n.Component),Da=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",login:"",password:"",passwordConfirm:"",firstname:"",lastname:"",error:!1,message:""},a.handleKeyPress=function(e){"enter"===R()(e)&&a.signup()},a.handleChange=function(e){return function(t){a.setState(Object(T.a)({},e,t.target.value))}},a.signup=function(){""===a.state.email||""===a.state.login||""===a.state.password||""===a.state.passwordConfirm||""===a.state.firstname||""===a.state.lastname?a.setState({error:!0,message:"Please fill all the fields in"}):$t(a.state.email)?ea(a.state.login)?ta(a.state.password)?a.state.password!==a.state.passwordConfirm?a.setState({error:!0,message:"Invalid password confirm"}):aa(a.state.firstname)?aa(a.state.lastname)?(a.setState({message:""}),O(a.state.email,a.state.login,a.state.password,a.state.firstname,a.state.lastname).then(function(e){return a.setState({error:"error"===e.status,message:e.result})})):a.setState({error:!1,message:"Invalid last name"}):a.setState({error:!0,message:"Invalid first name"}):a.setState({error:!0,message:"Invalid password"}):a.setState({error:!0,message:"Invalid login"}):a.setState({error:!0,message:"Invalid email address"})},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(W.a,{className:a.props.classes.textField,error:a.state.error,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},a.renderMessage(),r.a.createElement(W.a,{label:"Email",className:e.textField,onChange:a.handleChange("email"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.email}),r.a.createElement(W.a,{label:"Login",className:e.textField,onChange:a.handleChange("login"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.login}),r.a.createElement(W.a,{label:"Password",className:e.textField,onChange:a.handleChange("password"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.password,type:"password"}),r.a.createElement(W.a,{label:"Confirm your password",className:e.textField,onChange:a.handleChange("passwordConfirm"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.passwordConfirm,type:"password"}),r.a.createElement(W.a,{label:"First name",className:e.textField,onChange:a.handleChange("firstname"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.firstname}),r.a.createElement(W.a,{label:"Last name",className:e.textField,onChange:a.handleChange("lastname"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.lastname}),r.a.createElement(J.a,{className:e.button,onClick:a.signup},"Sign Up"),r.a.createElement(F.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),La=Object(M.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(Da),Ta=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",message:"",error:!1},a.handleKeyPress=function(e){"enter"===R()(e)&&a.getResetPasswordEmail()},a.handleChange=function(e){a.setState({email:e.target.value})},a.getResetPasswordEmail=function(){""===a.state.email?a.setState({message:"Please fill in your email",error:!0}):(a.setState({message:""}),C(a.state.email).then(function(e){return a.setState({error:"error"===e.status,message:e.result})}))},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(W.a,{className:a.props.classes.textField,error:a.state.error,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},a.renderMessage(),r.a.createElement(W.a,{label:"Email",className:e.textField,onChange:a.handleChange,onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.email}),r.a.createElement(J.a,{className:e.button,onClick:a.getResetPasswordEmail},"Get reset password email"),r.a.createElement(F.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Fa=Object(M.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(Ta),Ma=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={password:"",passwordConfirm:"",error:!1,message:""},a.componentDidMount=function(){a.setState({email:a.props.email})},a.handleKeyPress=function(e){"enter"===R()(e)&&a.resetPassword()},a.handleChange=function(e){return function(t){a.setState(Object(T.a)({},e,t.target.value))}},a.resetPassword=function(){""===a.state.password||""===a.state.passwordConfirm?a.setState({error:!0,message:"Please fill all the fields in"}):ta(a.state.password)?a.state.password!==a.state.passwordConfirm?a.setState({error:!0,message:"Invalid password confirm"}):w(a.state.password,a.state.email).then(function(e){return e.json()}).then(function(e){return a.setState({error:!1,message:e.result})}):a.setState({error:!0,message:"Invalid password"})},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(W.a,{className:a.props.classes.textField,error:a.state.error,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},a.renderMessage(),r.a.createElement(W.a,{label:"Password",className:e.textField,onChange:a.handleChange("password"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.password,type:"password"}),r.a.createElement(W.a,{label:"Confirm your password",className:e.textField,onChange:a.handleChange("passwordConfirm"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.passwordConfirm,type:"password"}),r.a.createElement(J.a,{className:e.button,onClick:a.resetPassword},"Change password"),r.a.createElement(F.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Ba=Object(M.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(Ma),Ra=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},r.a.createElement("span",null,"Your link for reseting the password has expired. Please re-initiate the process of password reseting."),r.a.createElement(F.a,{to:"/forgot-password"},"Forgot Password?"),r.a.createElement(F.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Ua=Object(M.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(Ra),Wa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={page:null},a.componentDidMount=function(){if(""===a.props.location.search)a.props.history.push("/");else{var e=a.props.location.search.split("&");2!==e.length?a.props.history.push("/"):(0===e[0].indexOf("?email=")&&0===e[1].indexOf("hash=")||a.props.history.push("/"),a.setState({email:e[0].substring(7)}),x(e[0].substring(7),e[1].substring(5)).then(function(e){return e.json()}).then(function(e){return a.setState({page:e.result})}))}},a.render=function(){return a.state.page?"reset-password"===a.state.page?r.a.createElement(Ba,{email:a.state.email}):r.a.createElement(Ua,null):r.a.createElement("span",null,"Loading...")},a}return Object(u.a)(t,e),t}(n.Component);window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0;var Va=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(p.a,{exact:!0,path:"/signup",component:La}),r.a.createElement(p.a,{exact:!0,path:"/forgot-password",component:Fa}),r.a.createElement(p.a,{exact:!0,path:"/reset-password",component:Wa}),r.a.createElement(p.a,{path:"/",component:Ia})))},a}return Object(u.a)(t,e),t}(n.Component);o.a.render(r.a.createElement(Va,null),document.getElementById("root"))},72:function(e,t,a){var n={"./557230b3ff04416ee817074f676f0f895eeb0a7e.png":350,"./625c8ab483bee63025feac89f567b09c7d88c1b4.png":351,"./66dd581b0054cf1d1c43365a96bd228cd946ded9.png":352,"./68d68ba66d7f240ca5f8cc0884286c6eea0381a6.png":353,"./74ba0ff081d29c019bfd4878a63a3b18ea8c987f.png":354,"./9f2083844cccdc07d02beaaa25f7f1a3044c21fd.png":355,"./avatar.png":356,"./b3c41fb1447f726a01a559bdf758d6a84c904e83.png":357,"./be5f8cc0935468699803f78102663212d4e13829.png":358,"./df18ca366ebe1f1e02a5c870d03a55d82cb4dde2.png":359};function r(e){var t=s(e);return a(t)}function s(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=72}},[[177,2,1]]]);
//# sourceMappingURL=main.4827d1c0.chunk.js.map