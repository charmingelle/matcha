{"version":3,"sources":["../public/users/photos/0c39a950b0eb0d0cf1659dadbe96bf554b63cbeb1546464237056.png","../public/users/photos/16fad309750dbe9966d5d19b07f688e320781c58.png","../public/users/photos/77a987bdfd500aad49eb1b4279ab1c2589ec1f2d1546962870237.png","../public/users/photos/7dc4faab62cbb0f25fe9571c488a8c2c706b0ba91546464545019.png","../public/users/photos/8c0e87e081e9145ac4a8661144a265fa31e4743a1546463825180.png","../public/users/photos/avatar.png","../public/users/photos/d5e463812c37b7337b2410c9b650326e066787191546464475276.png","../public/users/photos/da706baf2ec84d9b7038cfc7faa7109d0b3ee038.png","api/api.js","components/SortingPanel/SortingPanel.js","components/FilterPanel/FilterPanel.js","components/User/LikeButton/LikeButton.js","components/User/BlockButton/BlockButton.js","components/User/User.js","components/Suggestions/Suggestions.js","components/Profile/ProfileSelect/ProfileSelect.js","components/Profile/ProfileTextField/ProfileTextField.js","components/Profile/InterestsInput/InterestsInput.js","components/Profile/ChangeStatusInput/ChangeStatusInput.js","components/Profile/ProfilePhotos/ProfilePhotos.js","components/SmallUsers/SmallUser/SmallUser.js","components/SmallUsers/SmallUsers.js","utils/utils.js","components/Profile/Profile.js","components/Visited/Visited.js","components/Chat/Room/Room.js","components/Chat/Chat.js","components/Notifications/Notification/Notification.js","components/Notifications/Notifications.js","components/Main/Main.js","components/Signin/Signin.js","components/SigninOrMain/SigninOrMain.js","components/Signup/Signup.js","components/ForgotPassword/ForgotPassword.js","components/ResetPassword/ResetPassword.js","components/Expired/Expired.js","components/ResetPasswordOrExpired/ResetPasswordOrExpired.js","components/App/App.js","index.js","../public/users/photos sync /^/.*$"],"names":["module","exports","__webpack_require__","p","returnResOrError","res","errorText","ok","json","Error","saveUserProfile","userInfo","fetch","method","headers","Content-Type","body","JSON","stringify","then","saveUserPhoto","photo","photoid","setAvatar","avatarid","saveLocation","location","signinOrMain","signin","login","password","signout","signup","email","firstname","lastname","getResetPasswordEmail","resetPassword","resetPasswordOrExpired","hash","getLikeStatus","changeLikeStatus","canLike","saveVisited","visited","code","saveOnline","reportFake","getBlockStatus","changeBlockStatus","canBlock","getCheckedBy","getLikedBy","SortingPanel","componentDidMount","_this","setState","age","distance","fame","amountOfCommonInterests","selected","getOrder","orderName","state","sortBy","param","_this$setState","props","setSortParams","Object","defineProperty","renderSortButton","classes","react_default","a","createElement","IconButton_default","className","classnames","expand","expandOpen","onClick","bind","assertThisInitialized","aria-expanded","aria-label","ExpandMore_default","render","_this$props","moved","root","span","React","Component","withStyles","theme","display","justifyContent","alignItems","width","padding","backgroundColor","transform","transition","color","transitions","create","duration","shortest","marginLeft","breakpoints","up","marginRight","MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","FilterPanel","startAge","endAge","minFameRating","maxFameRating","selectedInterests","expanded","changeParam","min","max","event","target","value","filter","setFilterParams","move","handleInterestsChange","interests","_this$state","hidden","ageFilter","labelAll","htmlFor","spanSpecial","ageInputBlock","spanAll","slider","type","name","step","onChange","Input_default","FormControl_default","formControl","InputLabel_default","shrink","Select_default","multiple","input","id","renderValue","join","map","MenuItem_default","key","Checkbox_default","checked","indexOf","ListItemText_default","primary","Button_default","variant","flexDirection","marginBottom","height","WebkitAppearance","background","&:focus","outline","&::-webkit-slider-thumb","borderRadius","cursor","marginTop","boxShadow","&::-webkit-slider-runnable-track","fontSize","LikeButton","response","data","socket","emit","sender","receiver","changeFame","updateChatData","chatData","Favorite_default","unset","red","BlockButton","User","user","currentPhoto","full","isMenuOpen","showPreviousPhoto","showNextPhoto","updateVisited","toggleMenu","fake","handleExpandClick","handleMenuClose","anchorEl","contains","online","time","gallery","gender","preferences","bio","avatar","length","currentPhotoFile","Card_default","card","CardHeader_default","Avatar_default","alt","concat","src","require","action","buttonRef","node","MoreVert_default","Popper_default","open","disablePortal","_ref","TransitionProps","placement","Grow_default","assign","transformOrigin","Paper_default","ClickAwayListener_default","onClickAway","MenuList_default","BlockButton_BlockButton","title","subheader","Date","parseInt","toLocaleString","CardMedia_default","media","image","leftRightArea","ChevronLeft_default","right","ChevronRight_default","CardContent_default","Typography_default","component","bold","CardActions_default","actions","disableActionSpacing","User_LikeButton_LikeButton","Collapse_default","in","timeout","unmountOnExit","margin","paddingTop","position","fontWeight","Suggestions","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","suggestions","forEach","getDistance","profile","users","filteredUsers","sort","pos1","pos2","Math","sqrt","pow","sortParam","b","sortOrder","order","every","interest","includes","params","_this2","components_FilterPanel_FilterPanel","allInterests","components_SortingPanel_SortingPanel","userList","components_User_User","flexWrap","overflow","listStyleType","ProfileSelect","handleChange","items","ref","InputLabelRef","item","index","spacing","unit","minWidth","ProfileTextField","label","placeholder","disabled","TextField_default","fullWidth","InputLabelProps","Interests","inputProps","other","handleAdding","objectWithoutProperties","otherInputProps","InputProps","objectSpread","inputRef","getSuggestions","inputValue","deburr","trim","toLowerCase","inputLength","count","suggestion","keep","slice","DownshiftMultiple","selectedItem","handleKeyDown","keycode","handleInputChange","_ref2","toConsumableArray","_this$state2","handleDelete","splice","all","_this$state3","downshift_esm","_ref3","getInputProps","getItemProps","isOpen","selectedItem2","highlightedIndex","container","InterestsInput_Interests","startAdornment","Chip_default","tabIndex","chip","onDelete","onKeyDown","paper","square","itemProps","isHighlighted","isSelected","renderSuggestion","IntegrationDownshift","InterestsInput_DownshiftMultiple","flexGrow","zIndex","left","inputRoot","inputInput","divider","error","ProfilePhotos","upload","uploadEl","document","getElementById","click","makeAvatar","uploadPhoto","newGallery","parse","Image","canvas","onload","getContext","drawImage","toDataURL","fileName","window","URL","createObjectURL","files","customFileUpload","CloudUpload_default","rightIcon","accept","photoList","size","Edit_default","avatarNote","PhotoCamera_default","fontFamily","photoContainer","imgContainer","top","photoActions","lineHeight","textAlign","SmallUser","_this$props$user","Link","link","to","textDecoration","&:hover","paddingRight","SmallUsers","getUserList","icon","list","SmallUsers_SmallUser_SmallUser","isEmailValid","test","String","isLoginValid","isPasswordValid","isFirstLastNameValid","Profile","validStatus","changeStatus","validateEmpty","isAllValid","onSubmit","preventDefault","status","result","updateSuggestions","console","onAgeChange","renderChangeStatus","ChangeStatusInput","components_SmallUsers_SmallUsers","profileDetails","ProfileTextField_ProfileTextField","validate","ageInput","ageLabel","Profile_ProfileSelect_ProfileSelect","InterestsInput","Profile_ProfilePhotos_ProfilePhotos","saveChangesButton","Visited","Room","addSocketEventListeners","on","newLog","log","unshift","typing","updateLog","lastloadedid","componentWillUnmount","off","componentWillReceiveProps","message","changeHandler","keyPressHandler","send","marioChat","chatWindow","typingP","outputPs","record","outputPMine","outputPOther","messageText","messageTime","onKeyPress","disableUnderline","borderBottom","&:last-child","border","Chat","List_default","keys","ListItem_default","button","selectedUser","onlineDot","Divider_default","light","Chat_Room_Room","updateMessage","borderRight","Notification","close","SnackbarContent_default","notification","aria-describedby","Close_default","paddingLeft","Notifications","messages","closeNotification","Notifications_Notification_Notification","TabContainer","children","Main","tabid","notifications","showMenu","tabName","ipLookUp","lat","lon","catch","getLocation","userid","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","addNotification","newNotifications","push","onProfileChange","visitedLogin","changeTabName","newChatData","pathname","split","charAt","toUpperCase","components_Signin_Signin","_this$state$profile","components_Notifications_Notifications","AppBar_default","appBar","Toolbar_default","menuButton","Menu_default","grow","appMenu","appMenuHidden","menuItem","ListItemIcon_default","People_default","inset","Person_default","Chat_default","Check_default","appContent","Route","exact","path","Main_TabContainer","components_Suggestions_Suggestions","components_Profile_Profile","editable","components_Chat_Chat","match","find","singleUserContainer","components_Visited_Visited","Promise","socketIOClient","query","Signin","main","handleKeyPress","renderMessage","textField","components_Main_Main","noValidate","autoComplete","SigninOrMain","page","Signup","passwordConfirm","ForgotPassword","ResetPassword","Expired","ResetPasswordOrExpired","search","history","substring","components_ResetPassword_ResetPassword","components_Expired_Expired","__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__","App","BrowserRouter","ReactDOM","components_App_App","./0c39a950b0eb0d0cf1659dadbe96bf554b63cbeb1546464237056.png","./16fad309750dbe9966d5d19b07f688e320781c58.png","./77a987bdfd500aad49eb1b4279ab1c2589ec1f2d1546962870237.png","./7dc4faab62cbb0f25fe9571c488a8c2c706b0ba91546464545019.png","./8c0e87e081e9145ac4a8661144a265fa31e4743a1546463825180.png","./avatar.png","./d5e463812c37b7337b2410c9b650326e066787191546464475276.png","./da706baf2ec84d9b7038cfc7faa7109d0b3ee038.png","webpackContext","req","webpackContextResolve","e","resolve"],"mappings":"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","file":"static/js/main.d96ede3e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/0c39a950b0eb0d0cf1659dadbe96bf554b63cbeb1546464237056.cd338323.png\";","module.exports = __webpack_public_path__ + \"static/media/16fad309750dbe9966d5d19b07f688e320781c58.fdc2da58.png\";","module.exports = __webpack_public_path__ + \"static/media/77a987bdfd500aad49eb1b4279ab1c2589ec1f2d1546962870237.f01d6289.png\";","module.exports = __webpack_public_path__ + \"static/media/7dc4faab62cbb0f25fe9571c488a8c2c706b0ba91546464545019.04d3d843.png\";","module.exports = __webpack_public_path__ + \"static/media/8c0e87e081e9145ac4a8661144a265fa31e4743a1546463825180.6b20cb7b.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar.cd43fcfe.png\";","module.exports = __webpack_public_path__ + \"static/media/d5e463812c37b7337b2410c9b650326e066787191546464475276.ca2c4f40.png\";","module.exports = __webpack_public_path__ + \"static/media/da706baf2ec84d9b7038cfc7faa7109d0b3ee038.b2400086.png\";","const returnResOrError = (res, errorText) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  throw new Error(errorText);\r\n};\r\n\r\nexport const getUserProfile = () =>\r\n  fetch('/getUserProfile', {\r\n    method: 'POST'\r\n  }).then(res => returnResOrError(res, 'getUserProfile error'));\r\n\r\nexport const saveUserProfile = userInfo =>\r\n  fetch('/saveUserProfile', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(userInfo)\r\n  }).then(res => returnResOrError(res, 'saveUserProfile error'));\r\n\r\nexport const saveUserPhoto = (photo, photoid) =>\r\n  fetch('/saveUserPhoto', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ photo, photoid })\r\n  });\r\n\r\nexport const setAvatar = avatarid =>\r\n  fetch('/setAvatar', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ avatarid })\r\n  });\r\n\r\nexport const saveLocation = location =>\r\n  fetch('/saveLocation', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ location })\r\n  });\r\n\r\nexport const signinOrMain = () =>\r\n  fetch('/signinOrMain', {\r\n    method: 'POST'\r\n  });\r\n\r\nexport const signin = (login, password) =>\r\n  fetch('/signin', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ login, password })\r\n  }).then(res => returnResOrError(res, 'signin error'));\r\n\r\nexport const signout = () =>\r\n  fetch('/signout', {\r\n    method: 'POST'\r\n  });\r\n\r\nexport const signup = (email, login, password, firstname, lastname) =>\r\n  fetch('/signup', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ email, login, password, firstname, lastname })\r\n  }).then(res => returnResOrError(res, 'signup error'));\r\n\r\nexport const getUsers = () =>\r\n  fetch('/getUsers', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' }\r\n  }).then(res => {\r\n    if (!res.ok) {\r\n      throw Error(res.code);\r\n    }\r\n\r\n    return res.json();\r\n  });\r\n\r\nexport const getResetPasswordEmail = email =>\r\n  fetch('/getResetPasswordEmail', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ email })\r\n  }).then(res => returnResOrError(res, 'getResetPasswordEmail error'));\r\n\r\nexport const resetPassword = (password, email) =>\r\n  fetch('/resetPassword', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ password, email })\r\n  });\r\n\r\nexport const resetPasswordOrExpired = (email, hash) =>\r\n  fetch('/resetPasswordOrExpired', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ email, hash })\r\n  });\r\n\r\nexport const getLikeStatus = login =>\r\n  fetch('/getLikeStatus', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ login })\r\n  });\r\n\r\nexport const changeLikeStatus = (login, canLike) =>\r\n  fetch('/changeLikeStatus', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ login, canLike })\r\n  });\r\n\r\nexport const getVisited = () =>\r\n  fetch('/getVisited', {\r\n    method: 'POST'\r\n  }).then(res => {\r\n    if (!res.ok) {\r\n      throw Error(res.code);\r\n    }\r\n\r\n    return res.json();\r\n  });\r\n\r\nexport const saveVisited = visited =>\r\n  fetch('/saveVisited', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ visited })\r\n  }).then(res => {\r\n    if (!res.ok) {\r\n      throw Error(res.code);\r\n    }\r\n\r\n    return res.json();\r\n  });\r\n\r\n// export const getChatUsers = () =>\r\n//   fetch(\"/getChatUsers\", {\r\n//     method: \"POST\"\r\n//   }).then(res => {\r\n//     if (res.ok) {\r\n//       return res.json();\r\n//     }\r\n//     throw new Error(\"Error\");\r\n//   });\r\n\r\n// export const getChatMessages = () =>\r\n//   fetch(\"/getChatMessages\", {\r\n//     method: \"POST\"\r\n//   }).then(res => {\r\n//     if (res.ok) {\r\n//       return res.json();\r\n//     }\r\n//     throw new Error(\"Error\");\r\n//   });\r\n\r\nexport const getChatData = () =>\r\n  fetch('/getChatData', {\r\n    method: 'POST'\r\n  }).then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    throw new Error('Error');\r\n  });\r\n\r\nexport const saveOnline = () =>\r\n  fetch('/saveOnline', {\r\n    method: 'POST'\r\n  });\r\n\r\nexport const reportFake = login =>\r\n  fetch('/reportFake', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ login })\r\n  });\r\n\r\nexport const getBlockStatus = login =>\r\n  fetch('/getBlockStatus', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ login })\r\n  });\r\n\r\nexport const changeBlockStatus = (login, canBlock) =>\r\n  fetch('/changeBlockStatus', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ login, canBlock })\r\n  });\r\n\r\nexport const getMessages = (sender, receiver, lastloadedid) =>\r\n  fetch('/getMessages', {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ sender, receiver, lastloadedid })\r\n  });\r\n\r\nexport const getCheckedBy = () =>\r\n  fetch('/getCheckedBy', {\r\n    method: 'POST'\r\n  });\r\n\r\nexport const getLikedBy = () =>\r\n  fetch('/getLikedBy', {\r\n    method: 'POST'\r\n  });\r\n\r\nexport const getSuggestions = () =>\r\n  fetch('/getSuggestions', {\r\n    method: 'POST'\r\n  }).then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    throw new Error('Error');\r\n  });\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classnames from 'classnames';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    padding: 3,\r\n    backgroundColor: '#ffffff',\r\n    transform: 'translate(0px, 0px)',\r\n    transition: 'transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms'\r\n  },\r\n  moved: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    padding: 3,\r\n    backgroundColor: '#ffffff',\r\n    transform: 'translate(0, -430px)',\r\n    transition: 'transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms'\r\n  },\r\n  span: {\r\n    color: 'rgba(0, 0, 0, 0.54)'\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest\r\n    }),\r\n    marginLeft: 'auto',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginRight: -8\r\n    }\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)'\r\n  },\r\n  selected: {\r\n    color: '#3f51b5'\r\n  }\r\n});\r\n\r\nclass SortingPanel extends React.Component {\r\n  componentDidMount = () => {\r\n    this.setState({\r\n      age: false,\r\n      distance: true,\r\n      fame: false,\r\n      amountOfCommonInterests: false,\r\n      selected: 'distance'\r\n    });\r\n  };\r\n\r\n  getOrder = orderName => {\r\n    if (this.state[orderName] === false) {\r\n      return -1;\r\n    }\r\n    return 1;\r\n  };\r\n\r\n  sortBy = param => {\r\n    this.props.setSortParams(param, this.getOrder(param));\r\n    this.setState({ [param]: !this.state[param], selected: param });\r\n  };\r\n\r\n  renderSortButton = param => {\r\n    const { classes } = this.props;\r\n    const { selected } = this.state;\r\n\r\n    return (\r\n      <IconButton\r\n        className={classnames(\r\n          classes.expand,\r\n          {\r\n            [classes.expandOpen]: this.state[param]\r\n          },\r\n          {\r\n            [classes.selected]: selected === param\r\n          }\r\n        )}\r\n        onClick={this.sortBy.bind(this, param)}\r\n        aria-expanded={this.state[param]}\r\n        aria-label=\"Sort\"\r\n      >\r\n        <ExpandMoreIcon />\r\n      </IconButton>\r\n    );\r\n  };\r\n\r\n  render = () => {\r\n    if (!this.state) {\r\n      return <span>Loading...</span>;\r\n    }\r\n    const { classes, moved } = this.props;\r\n\r\n    return (\r\n      <div className={moved ? classes.root: classes.moved}>\r\n        <div>\r\n          <span className={classes.span}>Sort by age</span>\r\n          {this.renderSortButton('age')}\r\n        </div>\r\n        <div>\r\n          <span className={classes.span}>distance</span>\r\n          {this.renderSortButton('distance')}\r\n        </div>\r\n        <div>\r\n          <span className={classes.span}>fame</span>\r\n          {this.renderSortButton('fame')}\r\n        </div>\r\n        <div>\r\n          <span className={classes.span}>common interests amount</span>\r\n          {this.renderSortButton('amountOfCommonInterests')}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nSortingPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(SortingPanel);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Select from '@material-ui/core/Select';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    padding: 8,\r\n    backgroundColor: '#ffffff',\r\n    transform: 'translate(0px, 0px)',\r\n    transition: 'transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms'\r\n  },\r\n  hidden: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    padding: 8,\r\n    backgroundColor: '#ffffff',\r\n    transform: 'translate(0, -430px)',\r\n    transition: 'transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms'\r\n  },\r\n  ageFilter: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    marginBottom: 8\r\n  },\r\n  ageInputBlock: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    width: 300,\r\n    height: 40\r\n  },\r\n  filter: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom: 8\r\n  },\r\n  formControl: {\r\n    marginBottom: 8\r\n  },\r\n  slider: {\r\n    WebkitAppearance: 'none',\r\n    width: '100%',\r\n    background: 'transparent',\r\n    '&:focus': {\r\n      outline: 'none'\r\n    },\r\n    '&::-webkit-slider-thumb': {\r\n      WebkitAppearance: 'none',\r\n      height: '36px',\r\n      width: '16px',\r\n      borderRadius: '4px',\r\n      background: '#ffffff',\r\n      cursor: 'pointer',\r\n      marginTop: '-14px',\r\n      boxShadow:\r\n        '1px 1px 1px rgba(0, 0, 0, 0.7), 0px 0px 1px rgba(0, 0, 0, 0.7)'\r\n    },\r\n    '&::-webkit-slider-runnable-track': {\r\n      width: '100%',\r\n      height: '8.4px',\r\n      cursor: 'pointer',\r\n      background: '#3f51b5',\r\n      borderRadius: '4px'\r\n    }\r\n  },\r\n  labelAll: {\r\n    fontSize: '12px',\r\n    color: 'rgba(0, 0, 0, 0.54)'\r\n  },\r\n  spanAll: {\r\n    color: 'rgba(0, 0, 0, 0.54)'\r\n  },\r\n  spanSpecial: {\r\n    color: '#3f51b5'\r\n  }\r\n});\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250\r\n    }\r\n  }\r\n};\r\n\r\nclass FilterPanel extends React.Component {\r\n  componentDidMount = () => {\r\n    this.setState({\r\n      startAge: 18,\r\n      endAge: 100,\r\n      distance: 5,\r\n      minFameRating: 0,\r\n      maxFameRating: '',\r\n      amountOfCommonInterests: 0,\r\n      selectedInterests: [],\r\n      expanded: false\r\n    });\r\n  };\r\n\r\n  changeParam = (param, min, max, event) => {\r\n    if (event.target.value >= min && (!max || event.target.value <= max)) {\r\n      this.setState({\r\n        [param]: event.target.value\r\n      });\r\n    }\r\n  };\r\n\r\n  filter = () => {\r\n    if (this.state.expanded) {\r\n      this.props.setFilterParams(this.state);\r\n    }\r\n    this.setState({\r\n      expanded: !this.state.expanded\r\n    });\r\n    this.props.move();\r\n  };\r\n\r\n  handleInterestsChange = event => {\r\n    this.setState({ selectedInterests: event.target.value });\r\n  };\r\n\r\n  render = () => {\r\n    if (!this.state) {\r\n      return <span>Loading...</span>;\r\n    }\r\n    const { classes, interests } = this.props;\r\n    const {\r\n      startAge,\r\n      endAge,\r\n      distance,\r\n      minFameRating,\r\n      maxFameRating,\r\n      amountOfCommonInterests,\r\n      selectedInterests,\r\n      expanded\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className={expanded ? classes.root : classes.hidden}>\r\n        <div className={classes.ageFilter}>\r\n          <div>\r\n            <label className={classes.labelAll} htmlFor=\"startAge\">\r\n              Start Age <span className={classes.spanSpecial}>{startAge}</span>\r\n            </label>\r\n          </div>\r\n          <div className={classes.ageInputBlock}>\r\n            <span className={classes.spanAll}>18</span>\r\n            <input\r\n              className={classes.slider}\r\n              type=\"range\"\r\n              name=\"startAge\"\r\n              min=\"18\"\r\n              max=\"100\"\r\n              step=\"1\"\r\n              value={startAge}\r\n              onChange={this.changeParam.bind(this, 'startAge', 18, 100)}\r\n            />\r\n            <span className={classes.spanAll}>100</span>\r\n          </div>\r\n          <div>\r\n            <label className={classes.labelAll} htmlFor=\"endAge\">\r\n              End Age <span className={classes.spanSpecial}>{endAge}</span>\r\n            </label>\r\n          </div>\r\n          <div className={classes.ageInputBlock}>\r\n            <span className={classes.spanAll}>18</span>\r\n            <input\r\n              className={classes.slider}\r\n              type=\"range\"\r\n              name=\"endAge\"\r\n              min=\"18\"\r\n              max=\"100\"\r\n              step=\"1\"\r\n              value={endAge}\r\n              onChange={this.changeParam.bind(this, 'endAge', 18, 100)}\r\n            />\r\n            <span className={classes.spanAll}>100</span>\r\n          </div>\r\n        </div>\r\n        <div className={classes.filter}>\r\n          <label className={classes.labelAll} htmlFor=\"distance\">\r\n            Maximum distance (km)\r\n          </label>\r\n          <Input\r\n            name=\"distance\"\r\n            type=\"number\"\r\n            value={distance}\r\n            onChange={this.changeParam.bind(this, 'distance', 0, null)}\r\n          />\r\n        </div>\r\n        <div className={classes.filter}>\r\n          <label className={classes.labelAll} htmlFor=\"minFame\">\r\n            Minimum fame\r\n          </label>\r\n          <Input\r\n            name=\"minFame\"\r\n            type=\"number\"\r\n            value={minFameRating}\r\n            onChange={this.changeParam.bind(this, 'minFameRating', 0, null)}\r\n          />\r\n        </div>\r\n        <div className={classes.filter}>\r\n          <label className={classes.labelAll} htmlFor=\"maxFame\">\r\n            Maximum fame\r\n          </label>\r\n          <Input\r\n            name=\"maxFame\"\r\n            type=\"number\"\r\n            value={maxFameRating}\r\n            onChange={this.changeParam.bind(this, 'maxFameRating', 0, null)}\r\n          />\r\n        </div>\r\n        <div className={classes.filter}>\r\n          <label className={classes.labelAll} htmlFor=\"amountOfCommonInterests\">\r\n            Common interests amount\r\n          </label>\r\n          <Input\r\n            name=\"amountOfCommonInterests\"\r\n            type=\"number\"\r\n            value={amountOfCommonInterests}\r\n            onChange={this.changeParam.bind(\r\n              this,\r\n              'amountOfCommonInterests',\r\n              0,\r\n              null\r\n            )}\r\n          />\r\n        </div>\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel shrink htmlFor=\"select-multiple-checkbox\">\r\n            Interests\r\n          </InputLabel>\r\n          <Select\r\n            multiple\r\n            value={selectedInterests}\r\n            onChange={this.handleInterestsChange}\r\n            input={<Input id=\"select-multiple-checkbox\" />}\r\n            renderValue={selected => selected.join(', ')}\r\n            MenuProps={MenuProps}\r\n          >\r\n            {interests.map(name => (\r\n              <MenuItem key={name} value={name}>\r\n                <Checkbox checked={selectedInterests.indexOf(name) > -1} />\r\n                <ListItemText primary={name} />\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={this.filter}>\r\n          Filter\r\n        </Button>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nFilterPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(FilterPanel);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport { getLikeStatus, changeLikeStatus } from './../../../api/api.js';\r\n\r\nconst styles = {\r\n  unset: {\r\n    color: 'unset'\r\n  },\r\n  red: {\r\n    color: '#3f51b5'\r\n  }\r\n};\r\n\r\nclass LikeButton extends React.Component {\r\n  componentDidMount = () =>\r\n    getLikeStatus(this.props.login)\r\n      .then(response => response.json())\r\n      .then(data =>\r\n        this.setState({\r\n          canLike: data.canLike\r\n        })\r\n      );\r\n\r\n  changeLikeStatus = () =>\r\n    changeLikeStatus(this.props.login, this.state.canLike)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (this.state.canLike) {\r\n          this.props.socket.emit('like', {\r\n            sender: this.props.sender,\r\n            receiver: this.props.login\r\n          });\r\n        } else {\r\n          this.props.socket.emit('unlike', {\r\n            sender: this.props.sender,\r\n            receiver: this.props.login\r\n          });\r\n        }\r\n        this.props.changeFame(data.step);\r\n        this.props.updateChatData(data.chatData);\r\n        this.setState({\r\n          canLike: !this.state.canLike\r\n        });\r\n      });\r\n\r\n  render = () => {\r\n    if (!this.state) {\r\n      return <div />;\r\n    }\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <IconButton aria-label=\"Like\" onClick={this.changeLikeStatus}>\r\n        <FavoriteIcon\r\n          className={this.state.canLike ? classes.unset : classes.red}\r\n        />\r\n      </IconButton>\r\n    );\r\n  };\r\n}\r\n\r\nLikeButton.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(LikeButton);\r\n","import React from 'react';\r\nimport { getBlockStatus, changeBlockStatus } from './../../../api/api.js';\r\n\r\nexport default class BlockButton extends React.Component {\r\n  componentDidMount = () =>\r\n    getBlockStatus(this.props.login)\r\n      .then(response => response.json())\r\n      .then(data =>\r\n        this.setState({\r\n          canBlock: data.canBlock\r\n        })\r\n      );\r\n\r\n  changeBlockStatus = () =>\r\n    changeBlockStatus(this.props.login, this.state.canBlock).then(() =>\r\n      this.setState({\r\n        canBlock: !this.state.canBlock\r\n      })\r\n    );\r\n\r\n  render = () => {\r\n    if (!this.state) {\r\n      return <div />;\r\n    }\r\n    return (\r\n      <div variant=\"outlined\" onClick={this.changeBlockStatus}>\r\n        {this.state.canBlock ? <span>Block</span> : <span>Unblock</span>}\r\n      </div>\r\n    );\r\n  };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classnames from 'classnames';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport LeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport RightIcon from '@material-ui/icons/ChevronRight';\r\nimport LikeButton from './LikeButton/LikeButton.js';\r\nimport BlockButton from './BlockButton/BlockButton.js';\r\nimport { reportFake } from './../../api/api.js';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    margin: 50,\r\n    width: 500,\r\n    height: '100%'\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%' // 16:9\r\n  },\r\n  actions: {\r\n    display: 'flex'\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest\r\n    }),\r\n    marginLeft: 'auto',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginRight: -8\r\n    }\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)'\r\n  },\r\n  leftRightArea: {\r\n    position: 'relative',\r\n    height: 30\r\n  },\r\n  right: {\r\n    position: 'absolute',\r\n    right: 0\r\n  },\r\n  bold: {\r\n    fontWeight: 500\r\n  }\r\n});\r\n\r\nclass User extends React.Component {\r\n  componentDidMount = () => {\r\n    this.setState(this.props.user);\r\n    this.setState({\r\n      currentPhoto: 0,\r\n      expanded: this.props.full,\r\n      isMenuOpen: false\r\n    });\r\n  };\r\n\r\n  showPreviousPhoto = () => {\r\n    this.setState({\r\n      currentPhoto: this.state.currentPhoto - 1\r\n    });\r\n  };\r\n\r\n  showNextPhoto = () => {\r\n    this.props.updateVisited(this.state.login);\r\n    this.setState({\r\n      currentPhoto: this.state.currentPhoto + 1\r\n    });\r\n  };\r\n\r\n  toggleMenu = () => {\r\n    this.setState(state => ({ isMenuOpen: !state.isMenuOpen }));\r\n  };\r\n\r\n  changeFame = step => {\r\n    this.setState({\r\n      fame: this.state.fame + step\r\n    });\r\n  };\r\n\r\n  reportFake = () =>\r\n    reportFake(this.state.login).then(() =>\r\n      this.setState({\r\n        fake: true\r\n      })\r\n    );\r\n\r\n  handleExpandClick = () =>\r\n    this.setState(state => ({ expanded: !state.expanded }));\r\n\r\n  handleMenuClose = event => {\r\n    if (this.anchorEl.contains(event.target)) {\r\n      return;\r\n    }\r\n    this.setState({ isMenuOpen: false });\r\n  };\r\n\r\n  render = () => {\r\n    if (!this.state) {\r\n      return <span>Loading...</span>;\r\n    }\r\n    const { classes } = this.props;\r\n    const {\r\n      login,\r\n      firstname,\r\n      lastname,\r\n      online,\r\n      time,\r\n      currentPhoto,\r\n      gallery,\r\n      avatarid,\r\n      fame,\r\n      age,\r\n      gender,\r\n      preferences,\r\n      bio,\r\n      interests,\r\n      fake,\r\n      isMenuOpen\r\n    } = this.state;\r\n    const avatar = gallery.length > 0 ? gallery[avatarid] : 'avatar.png';\r\n    const currentPhotoFile =\r\n      gallery.length > 0 ? gallery[currentPhoto] : 'avatar.png';\r\n\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar\r\n              aria-label=\"Recipe\"\r\n              className={classes.avatar}\r\n              alt={`${firstname} ${lastname}`}\r\n              src={require(`../../../public/users/photos/${avatar}`)}\r\n            />\r\n          }\r\n          action={\r\n            <div>\r\n              <IconButton\r\n                buttonRef={node => {\r\n                  this.anchorEl = node;\r\n                }}\r\n                onClick={this.toggleMenu}\r\n              >\r\n                <MoreVertIcon />\r\n              </IconButton>\r\n              <Popper\r\n                open={isMenuOpen}\r\n                anchorEl={this.anchorEl}\r\n                transition\r\n                disablePortal\r\n              >\r\n                {({ TransitionProps, placement }) => (\r\n                  <Grow\r\n                    {...TransitionProps}\r\n                    id=\"menu-list-grow\"\r\n                    style={{\r\n                      transformOrigin:\r\n                        placement === 'bottom' ? 'center top' : 'center bottom'\r\n                    }}\r\n                  >\r\n                    <Paper>\r\n                      <ClickAwayListener onClickAway={this.handleMenuClose}>\r\n                        <MenuList>\r\n                          <MenuItem>\r\n                            <BlockButton login={login} />\r\n                          </MenuItem>\r\n                          {!fake && (\r\n                            <MenuItem>\r\n                              <div onClick={this.reportFake}>Report Fake</div>\r\n                            </MenuItem>\r\n                          )}\r\n                        </MenuList>\r\n                      </ClickAwayListener>\r\n                    </Paper>\r\n                  </Grow>\r\n                )}\r\n              </Popper>\r\n            </div>\r\n          }\r\n          title={`${firstname} ${lastname}`}\r\n          subheader={\r\n            online\r\n              ? 'Online'\r\n              : `Last seen on ${new Date(parseInt(time)).toLocaleString()}`\r\n          }\r\n        />\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={require(`../../../public/users/photos/${currentPhotoFile}`)}\r\n        />\r\n        <div className={classes.leftRightArea}>\r\n          {currentPhoto > 0 && (\r\n            <IconButton onClick={this.showPreviousPhoto}>\r\n              <LeftIcon />\r\n            </IconButton>\r\n          )}\r\n          {currentPhoto < gallery.length - 1 && (\r\n            <IconButton className={classes.right} onClick={this.showNextPhoto}>\r\n              <RightIcon />\r\n            </IconButton>\r\n          )}\r\n        </div>\r\n        <CardContent>\r\n          <Typography component=\"p\">\r\n            <span className={classes.bold}>Age: </span>\r\n            {age}\r\n          </Typography>\r\n          <Typography component=\"p\">\r\n            <span className={classes.bold}>Gender: </span>\r\n            {gender}\r\n          </Typography>\r\n          <Typography component=\"p\">\r\n            <span className={classes.bold}>Sexual preferences: </span>\r\n            {preferences}\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions className={classes.actions} disableActionSpacing>\r\n          <LikeButton\r\n            changeFame={this.changeFame}\r\n            socket={this.props.socket}\r\n            sender={this.props.sender}\r\n            login={login}\r\n            updateChatData={this.props.updateChatData}\r\n          />\r\n          <div>{fame}</div>\r\n          {(interests.length > 0 || bio) && (\r\n            <IconButton\r\n              className={classnames(classes.expand, {\r\n                [classes.expandOpen]: this.state.expanded\r\n              })}\r\n              onClick={this.handleExpandClick}\r\n              aria-expanded={this.state.expanded}\r\n              aria-label=\"Show more\"\r\n            >\r\n              <ExpandMoreIcon />\r\n            </IconButton>\r\n          )}\r\n        </CardActions>\r\n        <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\r\n          <CardContent>\r\n            {interests.length > 0 && (\r\n              <Typography component=\"p\">\r\n                <span className={classes.bold}>Interests: </span>\r\n                {interests.join(', ')}\r\n              </Typography>\r\n            )}\r\n            {bio && (\r\n              <Typography component=\"p\">\r\n                <span className={classes.bold}>Biography: </span>\r\n                {bio}\r\n              </Typography>\r\n            )}\r\n          </CardContent>\r\n        </Collapse>\r\n      </Card>\r\n    );\r\n  };\r\n}\r\n\r\nUser.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(User);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SortingPanel from './../SortingPanel/SortingPanel.js';\r\nimport FilterPanel from './../FilterPanel/FilterPanel.js';\r\nimport User from './../User/User.js';\r\n\r\nconst styles = {\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'auto',\r\n    padding: '10px'\r\n  },\r\n  userList: {\r\n    margin: 0,\r\n    padding: 0,\r\n    listStyleType: 'none',\r\n    transform: 'translate(0px, 0px)',\r\n    transition: 'transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms'\r\n  },\r\n  moved: {\r\n    margin: 0,\r\n    padding: 0,\r\n    listStyleType: 'none',\r\n    transform: 'translate(0, -430px)',\r\n    transition: 'transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms'\r\n  }\r\n};\r\n\r\nclass Suggestions extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.users = null;\r\n    this.sortParam = 'distance';\r\n    this.sortOrder = 1;\r\n    this.startAge = 18;\r\n    this.endAge = 100;\r\n    this.distance = 5;\r\n    this.minFameRating = 0;\r\n    this.maxFameRating = '';\r\n    this.amountOfCommonInterests = 0;\r\n    this.selectedInterests = [];\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.props.suggestions.forEach(user => {\r\n      user.distance = this.getDistance(\r\n        this.props.profile.location,\r\n        user.location\r\n      );\r\n      user.amountOfCommonInterests = user.interests.filter(\r\n        value => -1 !== this.props.profile.interests.indexOf(value)\r\n      ).length;\r\n    });\r\n    this.users = this.props.suggestions;\r\n    this.setState({\r\n      filteredUsers: this.sort(this.filter(this.props.suggestions)),\r\n      moved: false\r\n    });\r\n  };\r\n\r\n  getDistance = (pos1, pos2) =>\r\n    Math.sqrt((pos1[0] - pos2[0]) ** 2 + (pos1[1] - pos2[1]) ** 2);\r\n\r\n  sort = users => {\r\n    if (this.sortParam === 'age') {\r\n      return users.sort((a, b) => this.sortOrder * (b.age - a.age));\r\n    }\r\n    if (this.sortParam === 'distance') {\r\n      return users.sort((a, b) => this.sortOrder * (b.distance - a.distance));\r\n    }\r\n    if (this.sortParam === 'fame') {\r\n      return users.sort((a, b) => this.sortOrder * (b.fame - a.fame));\r\n    }\r\n    if (this.sortParam === 'amountOfCommonInterests') {\r\n      return users.sort(\r\n        (a, b) =>\r\n          this.sortOrder *\r\n          (b.amountOfCommonInterests - a.amountOfCommonInterests)\r\n      );\r\n    }\r\n  };\r\n\r\n  setSortParams = (param, order) => {\r\n    this.sortParam = param;\r\n    this.sortOrder = order;\r\n    this.setState({\r\n      filteredUsers: this.sort(this.filter(this.users))\r\n    });\r\n  };\r\n\r\n  filter = users =>\r\n    users.filter(\r\n      user =>\r\n        user.age >= this.startAge &&\r\n        user.age <= this.endAge &&\r\n        user.distance <= this.distance &&\r\n        user.fame >= this.minFameRating &&\r\n        ((this.maxFameRating !== '' && user.fame <= this.maxFameRating) ||\r\n          this.maxFameRating === '') &&\r\n        user.amountOfCommonInterests >= this.amountOfCommonInterests &&\r\n        this.selectedInterests.every(interest =>\r\n          user.interests.includes(interest)\r\n        )\r\n    );\r\n\r\n  setFilterParams = params => {\r\n    this.startAge = params.startAge;\r\n    this.endAge = params.endAge;\r\n    this.distance = params.distance;\r\n    this.minFameRating = params.minFameRating;\r\n    this.maxFameRating = params.maxFameRating;\r\n    this.amountOfCommonInterests = params.amountOfCommonInterests;\r\n    this.selectedInterests = params.selectedInterests;\r\n    this.setState({\r\n      filteredUsers: this.sort(this.filter(this.users))\r\n    });\r\n  };\r\n\r\n  move = () =>\r\n    this.setState({\r\n      moved: !this.state.moved\r\n    });\r\n\r\n  render() {\r\n    if (!this.state) {\r\n      return <span>Loading...</span>;\r\n    }\r\n    const { classes } = this.props;\r\n    const { filteredUsers, moved } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <FilterPanel\r\n          setFilterParams={this.setFilterParams}\r\n          interests={this.props.profile.allInterests}\r\n          move={this.move}\r\n        />\r\n        <SortingPanel setSortParams={this.setSortParams} moved={moved} />\r\n        <ul className={moved ? classes.userList : classes.moved}>\r\n          {filteredUsers.map(user => (\r\n            <li key={user.login}>\r\n              <User\r\n                user={user}\r\n                full={false}\r\n                socket={this.props.socket}\r\n                sender={this.props.sender}\r\n                visited={this.props.visited}\r\n                updateVisited={this.props.updateVisited}\r\n                updateChatData={this.props.updateChatData}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSuggestions.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Suggestions);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap'\r\n  },\r\n  formControl: {\r\n    marginTop: theme.spacing.unit,\r\n    marginBottom: theme.spacing.unit,    \r\n    minWidth: 120\r\n  }\r\n});\r\n\r\nclass ProfileSelect extends React.Component {\r\n  state = {\r\n    [this.props.name]: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      [this.props.name]: this.props.value\r\n    });\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({ [this.props.name]: event.target.value });\r\n    // AMAZING MOMENT\r\n    // this.props.onChange(this.state);\r\n    this.props.onChange({ [this.props.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { classes, title, items } = this.props;\r\n\r\n    return (\r\n      <FormControl\r\n        // variant=\"outlined\"\r\n        className={classes.formControl}>\r\n        <InputLabel\r\n          ref={ref => {\r\n            this.InputLabelRef = ref;\r\n          }}\r\n          htmlFor=\"outlined-age-simple\"\r\n        >\r\n          {title}\r\n        </InputLabel>\r\n        <Select\r\n          value={this.state[[this.props.name]]}\r\n          onChange={this.handleChange}\r\n          input={\r\n            <Input\r\n              id=\"outlined-age-simple\"\r\n            />\r\n          }\r\n        >\r\n          {items.map((item, index) => (\r\n            <MenuItem key={index} value={item}>\r\n              {item}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    );\r\n  }\r\n}\r\n\r\nProfileSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(ProfileSelect);\r\n","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport default class ProfileTextField extends React.Component {\r\n  state = {\r\n    [this.props.name]: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      [this.props.name]: this.props.value\r\n    });\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({ [this.props.name]: event.target.value });\r\n    this.props.onChange({ [this.props.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { label, placeholder, disabled } = this.props;\r\n\r\n    return (\r\n      <TextField\r\n        id=\"outlined-full-width\"\r\n        label={label}\r\n        placeholder={placeholder}\r\n        fullWidth\r\n        margin=\"normal\"\r\n        InputLabelProps={{\r\n          shrink: true\r\n        }}\r\n        onChange={this.handleChange}\r\n        value={this.state[this.props.name]}\r\n        disabled={disabled}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport deburr from \"lodash/deburr\";\r\nimport keycode from \"keycode\";\r\nimport Downshift from \"downshift\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nconst Interests = props => {\r\n  const { inputProps, handleAdding, ...other } = props;\r\n  const { ref, ...otherInputProps } = inputProps;\r\n\r\n  return (\r\n    <TextField\r\n      InputProps={{\r\n        inputRef: ref,\r\n        ...otherInputProps\r\n      }}\r\n      {...other}\r\n    />\r\n  );\r\n};\r\n\r\nconst renderSuggestion = ({\r\n  suggestion,\r\n  index,\r\n  itemProps,\r\n  highlightedIndex,\r\n  selectedItem\r\n}) => {\r\n  const isHighlighted = highlightedIndex === index;\r\n  const isSelected = (selectedItem || \"\").indexOf(suggestion) > -1;\r\n\r\n  return (\r\n    <MenuItem\r\n      {...itemProps}\r\n      key={index}\r\n      selected={isHighlighted}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: isSelected ? 500 : 400\r\n      }}\r\n    >\r\n      {suggestion}\r\n    </MenuItem>\r\n  );\r\n};\r\n\r\nrenderSuggestion.propTypes = {\r\n  highlightedIndex: PropTypes.number,\r\n  index: PropTypes.number,\r\n  itemProps: PropTypes.object,\r\n  selectedItem: PropTypes.string,\r\n  suggestion: PropTypes.shape({ label: PropTypes.string }).isRequired\r\n};\r\n\r\nconst getSuggestions = (interests, value) => {\r\n  const inputValue = deburr(value.trim()).toLowerCase();\r\n  const inputLength = inputValue.length;\r\n  let count = 0;\r\n\r\n  return inputLength === 0\r\n    ? []\r\n    : interests.filter(suggestion => {\r\n        const keep =\r\n          count < 5 &&\r\n          suggestion.slice(0, inputLength).toLowerCase() === inputValue;\r\n\r\n        if (keep) {\r\n          count += 1;\r\n        }\r\n\r\n        return keep;\r\n      });\r\n};\r\n\r\nclass DownshiftMultiple extends React.Component {\r\n  state = {\r\n    inputValue: \"\",\r\n    selectedItem: [],\r\n    interests: [],\r\n    suggestions: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      selectedItem: this.props.value,\r\n      interests: this.props.all\r\n    });\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    const { inputValue, selectedItem } = this.state;\r\n\r\n    if (\r\n      selectedItem.length &&\r\n      !inputValue.length &&\r\n      keycode(event) === \"backspace\"\r\n    ) {\r\n      this.setState({\r\n        selectedItem: selectedItem.slice(0, selectedItem.length - 1)\r\n      });\r\n    }\r\n\r\n    if (keycode(event) === \"space\" && inputValue.length) {\r\n      this.handleChange(inputValue.trim());\r\n    }\r\n  };\r\n\r\n  handleInputChange = ({ target }) => {\r\n    const { interests } = this.state;\r\n\r\n    this.setState({\r\n      inputValue: target.value,\r\n      suggestions: [...getSuggestions(interests, target.value)]\r\n    });\r\n  };\r\n\r\n  handleChange = item => {\r\n    let { interests, selectedItem } = this.state;\r\n\r\n    if (selectedItem.indexOf(item) === -1) {\r\n      selectedItem = [...selectedItem, item];\r\n    }\r\n    if (interests.indexOf(item) === -1) {\r\n      interests = [...interests, item];\r\n    }\r\n\r\n    this.setState({\r\n      inputValue: \"\",\r\n      selectedItem,\r\n      interests\r\n    });\r\n    this.props.onChange({ interests: selectedItem });\r\n  };\r\n\r\n  handleDelete = item => () => {\r\n    const selectedItem = this.state.selectedItem;\r\n\r\n    selectedItem.splice(selectedItem.indexOf(item), 1);\r\n    this.setState({\r\n      selectedItem: selectedItem\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { inputValue, selectedItem, interests, suggestions } = this.state;\r\n\r\n    if (!interests) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Downshift\r\n        id=\"downshift-multiple\"\r\n        inputValue={inputValue}\r\n        onChange={this.handleChange}\r\n        selectedItem={selectedItem}\r\n      >\r\n        {({\r\n          getInputProps,\r\n          getItemProps,\r\n          isOpen,\r\n          selectedItem: selectedItem2,\r\n          highlightedIndex\r\n        }) => (\r\n          <div className={classes.container}>\r\n            <Interests\r\n              fullWidth\r\n              interests={interests}\r\n              handleAdding={this.handleChange}\r\n              inputProps={getInputProps({\r\n                startAdornment: selectedItem.map((item, index) => (\r\n                  <Chip\r\n                    key={index}\r\n                    tabIndex={-1}\r\n                    label={item}\r\n                    className={classes.chip}\r\n                    onDelete={this.handleDelete(item)}\r\n                  />\r\n                )),\r\n                onChange: this.handleInputChange,\r\n                onKeyDown: this.handleKeyDown,\r\n                placeholder: \"Select multiple interests\"\r\n              })}\r\n              label=\"Interests\"\r\n            />\r\n            {isOpen ? (\r\n              <Paper className={classes.paper} square>\r\n                {suggestions.map((suggestion, index) =>\r\n                  renderSuggestion({\r\n                    suggestion,\r\n                    index,\r\n                    itemProps: getItemProps({ item: suggestion }),\r\n                    highlightedIndex,\r\n                    selectedItem: selectedItem2\r\n                  })\r\n                )}\r\n              </Paper>\r\n            ) : null}\r\n          </div>\r\n        )}\r\n      </Downshift>\r\n    );\r\n  }\r\n}\r\n\r\nDownshiftMultiple.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  container: {\r\n    marginTop: \"8px\",\r\n    marginBottom: \"16px\",\r\n    flexGrow: 1,\r\n    position: \"relative\"\r\n  },\r\n  paper: {\r\n    position: \"absolute\",\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`\r\n  },\r\n  inputRoot: {\r\n    flexWrap: \"wrap\"\r\n  },\r\n  inputInput: {\r\n    width: \"auto\",\r\n    flexGrow: 1\r\n  },\r\n  divider: {\r\n    height: theme.spacing.unit * 2\r\n  }\r\n});\r\n\r\nclass IntegrationDownshift extends React.Component {\r\n  render() {\r\n    const { classes, name, value, all, onChange } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <DownshiftMultiple\r\n          classes={classes}\r\n          name={name}\r\n          value={value}\r\n          all={all}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntegrationDownshift.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(IntegrationDownshift);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap'\r\n  },\r\n  input: {\r\n    width: '100%'\r\n  }\r\n};\r\n\r\nconst Inputs = props => {\r\n  const { classes, error } = props;\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <Input\r\n        className={classes.input}\r\n        error={error}\r\n        inputProps={{\r\n          'aria-label': 'Description'\r\n        }}\r\n        value={props.value}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nInputs.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Inputs);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport PhotoCameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { saveUserPhoto, setAvatar } from './../../../api/api.js';\r\n\r\nconst styles = {\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  upload: {\r\n    marginTop: '15px',\r\n    color: 'rgba(0, 0, 0, 0.54)',\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif'\r\n  },\r\n  rightIcon: {\r\n    marginLeft: 10\r\n  },\r\n  hidden: {\r\n    display: 'none'\r\n  },\r\n  photoList: {\r\n    margin: 0,\r\n    padding: 0,\r\n    listStyleType: 'none'\r\n  },\r\n  photoContainer: {\r\n    margin: '50px',\r\n    width: '614px'\r\n  },\r\n  imgContainer: {\r\n    position: 'relative',\r\n    top: '6px'\r\n  },\r\n  photo: {\r\n    width: '100%'\r\n  },\r\n  photoActions: {\r\n    display: 'flex',\r\n    flexDirection: 'column'\r\n  },\r\n  avatarNote: {\r\n    lineHeight: '38.8px',\r\n    textAlign: 'center',\r\n    fontWeight: 500,\r\n    color: '#3f51b5'\r\n  },\r\n  customFileUpload: {\r\n    marginTop: '50px'\r\n  },\r\n  card: {\r\n    margin: 50,\r\n    width: 500\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%'\r\n  }\r\n};\r\n\r\nclass ProfilePhotos extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.photoid = null;\r\n    this.state = {\r\n      gallery: this.props.gallery,\r\n      avatarid: this.props.avatarid\r\n    };\r\n  }\r\n\r\n  upload = id => {\r\n    const uploadEl = document.getElementById('file-upload');\r\n\r\n    this.photoid = id;\r\n    uploadEl.click();\r\n  };\r\n\r\n  makeAvatar = id => {\r\n    this.setState({ avatarid: id });\r\n    setAvatar(id);\r\n  };\r\n\r\n  uploadPhoto = event => {\r\n    let newGallery = JSON.parse(JSON.stringify(this.state.gallery));\r\n    const image = new Image();\r\n    const canvas = document.createElement('canvas');\r\n\r\n    image.onload = () => {\r\n      canvas.width = image.width;\r\n      canvas.height = image.height;\r\n      canvas\r\n        .getContext('2d')\r\n        .drawImage(image, 0, 0, canvas.width, canvas.height);\r\n      if (this.photoid === null) {\r\n        this.photoid = newGallery.length;\r\n      }\r\n      saveUserPhoto(canvas.toDataURL(), this.photoid)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          newGallery[this.photoid] = data.fileName;\r\n          this.setState({ gallery: newGallery });\r\n          this.photoid = null;\r\n        });\r\n    };\r\n    image.src = window.URL.createObjectURL(event.target.files[0]);\r\n  };\r\n\r\n  render = () => {\r\n    const { classes } = this.props;\r\n    const { gallery, avatarid } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Button\r\n          className={\r\n            gallery.length < 5 ? classes.customFileUpload : classes.hidden\r\n          }\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n        >\r\n          <label htmlFor=\"file-upload\">UPLOAD NEW PHOTO</label>\r\n          <CloudUploadIcon className={classes.rightIcon} />\r\n        </Button>\r\n        <input\r\n          className={classes.hidden}\r\n          id=\"file-upload\"\r\n          accept=\".jpg, .jpeg, .png\"\r\n          type=\"file\"\r\n          onChange={this.uploadPhoto}\r\n        />\r\n        <ul className={classes.photoList}>\r\n          {gallery.map((photo, index) => (\r\n            <Card className={classes.card} key={index}>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={`users/photos/${photo}`}\r\n              />\r\n              <CardActions>\r\n                <Button\r\n                  size=\"small\"\r\n                  color=\"default\"\r\n                  onClick={this.upload.bind(this, index)}\r\n                >\r\n                  Replace\r\n                  <EditIcon className={classes.rightIcon} color=\"primary\" />\r\n                </Button>\r\n                {avatarid === index ? (\r\n                  <span className={classes.avatarNote}>AVATAR</span>\r\n                ) : (\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"default\"\r\n                    onClick={this.makeAvatar.bind(this, index)}\r\n                  >\r\n                    Put on avatar\r\n                    <PhotoCameraIcon\r\n                      className={classes.rightIcon}\r\n                      color=\"primary\"\r\n                    />\r\n                  </Button>\r\n                )}\r\n              </CardActions>\r\n            </Card>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nProfilePhotos.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(ProfilePhotos);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nconst styles = {\r\n  link: {\r\n    color: 'initial',\r\n    textDecoration: 'none',\r\n    '&:hover': {\r\n      color: '#3f51b5'\r\n    }\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    paddingRight: 15\r\n  },\r\n  avatar: {\r\n    width: 60,\r\n    height: 60\r\n  },\r\n  name: {\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif'\r\n  }\r\n};\r\n\r\nclass SmallUser extends React.Component {\r\n  render = () => {\r\n    const {\r\n      classes,\r\n      user: { login, firstname, lastname, gallery, avatarid }\r\n    } = this.props;\r\n    const avatar = gallery.length > 0 ? gallery[avatarid] : 'avatar.png';\r\n\r\n    return (\r\n      <Link\r\n        className={classes.link}\r\n        to={`/users/${login}`}\r\n        onClick={() => this.props.updateVisited(this.props.user.login)}\r\n      >\r\n        <div className={classes.root}>\r\n          <Avatar\r\n            alt={`${firstname} ${lastname}`}\r\n            src={require(`./../../../../public/users/photos/${avatar}`)}\r\n            className={classes.avatar}\r\n          />\r\n          <span className={classes.name}>{`${firstname} ${lastname}`}</span>\r\n        </div>\r\n      </Link>\r\n    );\r\n  };\r\n}\r\n\r\nSmallUser.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(SmallUser);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SmallUser from './SmallUser/SmallUser.js';\r\n\r\nconst styles = {\r\n  root: {\r\n    backgroundColor: '#ffffff'\r\n  },\r\n  icon: {\r\n    color: '#3f51b5'\r\n  },\r\n  title: {\r\n    margin: 0,\r\n    fontSize: 12,\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    fontWeight: 'normal',\r\n    color: 'rgba(0, 0, 0, 0.54)'\r\n  },\r\n  list: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    padding: 0,\r\n    listStyleType: 'none'\r\n  }\r\n};\r\n\r\nclass SmallUsers extends React.Component {\r\n  componentDidMount = () =>\r\n    this.props\r\n      .getUserList()\r\n      .then(response => response.json())\r\n      .then(data =>\r\n        this.setState({\r\n          users: data\r\n        })\r\n      );\r\n\r\n  render() {\r\n    if (!this.state) {\r\n      return <span>Loading...</span>;\r\n    }\r\n    const { classes, title, icon } = this.props;\r\n    const { users } = this.state;\r\n\r\n    if (users.length > 0) {\r\n      return (\r\n        <div className={classes.root}>\r\n          <h1 className={classes.title}>\r\n            <span className={classes.icon}>{icon}</span> {title}\r\n          </h1>\r\n          <ul className={classes.list}>\r\n            {users.map((user, index) => (\r\n              <li key={index}>\r\n                <SmallUser\r\n                  user={user}\r\n                  visited={this.props.visited}\r\n                  updateVisited={this.props.updateVisited}\r\n                />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      );\r\n    }\r\n    return <div />;\r\n  }\r\n}\r\n\r\nSmallUsers.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(SmallUsers);\r\n","export const isEmailValid = email => {\r\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n  return re.test(String(email).toLowerCase());\r\n};\r\n\r\nexport const isLoginValid = value => {\r\n  return value.length >= 6 && /^[a-zA-Z]+[a-zA-Z0-9]*$/.test(String(value));\r\n};\r\n\r\nexport const isPasswordValid = password => {\r\n  return password.length >= 6 && /[a-zA-Z0-9]+/.test(String(password));\r\n};\r\n\r\nexport const isFirstLastNameValid = password => {\r\n  return /^[a-zA-Z]+(-[a-zA-Z])?[a-zA-Z]*$/.test(String(password));\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ProfileSelect from './ProfileSelect/ProfileSelect.js';\r\nimport ProfileTextField from './ProfileTextField/ProfileTextField.js';\r\nimport InterestsInput from './InterestsInput/InterestsInput.js';\r\nimport ChangeStatusInput from './ChangeStatusInput/ChangeStatusInput.js';\r\nimport ProfilePhotos from './ProfilePhotos/ProfilePhotos.js';\r\nimport SmallUsers from './../SmallUsers/SmallUsers.js';\r\nimport Input from '@material-ui/core/Input';\r\nimport Button from '@material-ui/core/Button';\r\nimport { saveUserProfile, getLikedBy, getCheckedBy } from './../../api/api.js';\r\nimport { isEmailValid } from './../../utils/utils.js';\r\n\r\nconst styles = {\r\n  root: {\r\n    overflow: 'auto',\r\n    padding: '10px'\r\n  },\r\n  profileDetails: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    padding: 8,\r\n    backgroundColor: '#ffffff'\r\n  },\r\n  saveChangesButton: {\r\n    padding: '8px'\r\n  },\r\n  ageInput: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginTop: 8,\r\n    marginBottom: 8\r\n  },\r\n  ageLabel: {\r\n    fontSize: '12px',\r\n    color: 'rgba(0, 0, 0, 0.54)'\r\n  }\r\n};\r\n\r\nclass Profile extends React.Component {\r\n  componentDidMount() {\r\n    this.setState(this.props.value);\r\n  }\r\n\r\n  isEmailValid = email => {\r\n    const validStatus = isEmailValid(email);\r\n\r\n    if (!validStatus) {\r\n      this.setState({\r\n        changeStatus: 'Please make sure that your email address is correct',\r\n        error: true\r\n      });\r\n    }\r\n    return validStatus;\r\n  };\r\n\r\n  validateEmpty = value => {\r\n    if (value === '') {\r\n      this.setState({\r\n        changeStatus: 'Please fill all the fields in',\r\n        error: true\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  isAllValid = () => {\r\n    let res = true;\r\n\r\n    res = res && this.validateEmpty(this.state.firstname);\r\n    res = res && this.validateEmpty(this.state.lastname);\r\n    res = res && this.validateEmpty(this.state.email);\r\n    res = res && this.isEmailValid(this.state.email);\r\n    return res;\r\n  };\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.isAllValid()) {\r\n      saveUserProfile(this.state).then(\r\n        data => {\r\n          this.setState({\r\n            error: data.status === 'error',\r\n            changeStatus: data.result\r\n          });\r\n          if (data.suggestions) {\r\n            this.props.updateSuggestions(data.suggestions);\r\n          }\r\n          this.props.onChange(this.state);\r\n        },\r\n        error => console.error(error)\r\n      );\r\n    }\r\n  };\r\n\r\n  onChange = target => {\r\n    this.setState(target);\r\n  };\r\n\r\n  onAgeChange = event => {\r\n    if (\r\n      event.target.value >= 18 &&\r\n      event.target.value <= 100\r\n    ) {\r\n      this.setState({\r\n        age: event.target.value\r\n      });\r\n    }\r\n  };\r\n\r\n  renderChangeStatus = () => {\r\n    if (this.state.changeStatus) {\r\n      return (\r\n        <ChangeStatusInput\r\n          value={this.state.changeStatus}\r\n          error={this.state.error}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (!this.state) {\r\n      return <span>Loading...</span>;\r\n    }\r\n    const {\r\n      firstname,\r\n      lastname,\r\n      email,\r\n      gender,\r\n      preferences,\r\n      bio,\r\n      age,\r\n      interests,\r\n      gallery,\r\n      avatarid\r\n    } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <SmallUsers\r\n          title=\"Liked by\"\r\n          icon=\"&#9829;\"\r\n          getUserList={getLikedBy}\r\n          visited={this.props.visited}\r\n          updateVisited={this.props.updateVisited}\r\n        />\r\n        <SmallUsers\r\n          title=\"Checked by\"\r\n          icon=\"&#10004;\"\r\n          getUserList={getCheckedBy}\r\n          visited={this.props.visited}\r\n          updateVisited={this.props.updateVisited}\r\n        />\r\n        <div className={classes.profileDetails}>\r\n          {this.renderChangeStatus()}\r\n          <ProfileTextField\r\n            label=\"First name\"\r\n            name=\"firstname\"\r\n            value={firstname}\r\n            onChange={this.onChange}\r\n          />\r\n          <ProfileTextField\r\n            label=\"Last name\"\r\n            name=\"lastname\"\r\n            value={lastname}\r\n            onChange={this.onChange}\r\n          />\r\n          <ProfileTextField\r\n            label=\"Email address\"\r\n            name=\"email\"\r\n            value={email}\r\n            validate={this.isEmailValid}\r\n            onChange={this.onChange}\r\n          />\r\n          <div className={classes.ageInput}>\r\n            <label className={classes.ageLabel} htmlFor=\"age\">\r\n              Age\r\n            </label>\r\n            <Input\r\n              name=\"age\"\r\n              type=\"number\"\r\n              value={age}\r\n              onChange={this.onAgeChange}\r\n            />\r\n          </div>\r\n          <ProfileSelect\r\n            title=\"Gender\"\r\n            items={['male', 'female']}\r\n            name=\"gender\"\r\n            value={gender}\r\n            onChange={this.onChange}\r\n          />\r\n          <ProfileSelect\r\n            title=\"Preferences\"\r\n            items={['heterosexual', 'homosexual', 'bisexual']}\r\n            name=\"preferences\"\r\n            value={preferences}\r\n            onChange={this.onChange}\r\n          />\r\n          <ProfileTextField\r\n            label=\"Biography\"\r\n            placeholder=\"Tell us a few words about yourself\"\r\n            name=\"bio\"\r\n            value={bio}\r\n            onChange={this.onChange}\r\n          />\r\n          <InterestsInput\r\n            name=\"interests\"\r\n            value={interests}\r\n            all={this.state.allInterests}\r\n            onChange={this.onChange}\r\n          />\r\n          <Button variant=\"contained\" color=\"primary\" onClick={this.onSubmit}>\r\n            Save changes\r\n          </Button>\r\n        </div>\r\n        <ProfilePhotos gallery={gallery} avatarid={avatarid} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nProfile.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Profile);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport User from \"./../User/User.js\";\r\n\r\nconst styles = {\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-around\",\r\n    overflow: \"auto\"\r\n  },\r\n  userList: {\r\n    margin: 0,\r\n    padding: 0,\r\n    listStyleType: \"none\"\r\n  }\r\n};\r\n\r\nclass Visited extends React.Component {\r\n  render = () => {\r\n    const {\r\n      classes,\r\n      visited,\r\n      socket,\r\n      sender,\r\n      updateVisited,\r\n      updateChatData\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <ul className={classes.userList}>\r\n          {visited.map((user, index) => (\r\n            <li key={index}>\r\n              <User\r\n                user={user}\r\n                full={false}\r\n                socket={socket}\r\n                sender={sender}\r\n                updateVisited={updateVisited}\r\n                updateChatData={updateChatData}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nVisited.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Visited);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport Button from \"@material-ui/core/Button\";\r\n// import { getMessages } from \"./../../../api/api.js\";\r\n\r\nconst styles = theme => ({\r\n  marioChat: {\r\n    flexGrow: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: \"80%\"\r\n  },\r\n  chatWindow: {\r\n    flexGrow: 1,\r\n    overflow: \"auto\",\r\n    borderBottom: \"1px solid #e9e9e9\"\r\n  },\r\n  outputPs: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  outputPOther: {\r\n    position: \"relative\",\r\n    marginRight: \"10%\",\r\n    marginTop: 5,\r\n    width: \"80%\",\r\n    padding: 10,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    borderRadius: 4,\r\n    backgroundColor: \"#ffffff\",\r\n    \"&:last-child\": {\r\n      marginBottom: 5\r\n    }\r\n  },\r\n  outputPMine: {\r\n    position: \"relative\",\r\n    marginLeft: \"10%\",\r\n    marginTop: 5,\r\n    width: \"80%\",\r\n    padding: 10,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    borderRadius: 4,\r\n    backgroundColor: \"rgba(245, 0, 87, 0.1)\",\r\n    \"&:last-child\": {\r\n      marginBottom: 5\r\n    }\r\n  },\r\n  messageText: {\r\n    margin: 0\r\n  },\r\n  messageTime: {\r\n    textAlign: \"end\",\r\n    fontSize: 12,\r\n    color: \"rgba(0, 0, 0, 0.54)\"\r\n  },\r\n  typingP: {\r\n    width: \"80%\",\r\n    padding: 10,\r\n    borderRadius: 4,\r\n    backgroundColor: \"#ffffff\"\r\n  },\r\n  message: {\r\n    width: \"100%\",\r\n    padding: \"14px\",\r\n    backgroundColor: \"#ffffff\"\r\n  },\r\n  send: {\r\n    padding: \"18px 0\",\r\n    width: \"100%\",\r\n    border: \"none\",\r\n    outline: \"1px solid #e9e9e9\"\r\n  }\r\n});\r\n\r\nclass Room extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      message: \"\",\r\n      typing: \"\"\r\n      // isLoading: false,\r\n      // lastloadedid: null,\r\n      // moreData: true\r\n    };\r\n  }\r\n\r\n  addSocketEventListeners = () => {\r\n    this.props.socket.on(\"chat\", data => {\r\n      let newLog = this.props.log;\r\n\r\n      newLog.unshift(data);\r\n      this.setState({\r\n        typing: \"\"\r\n      });\r\n      this.props.updateLog(this.props.receiver, newLog);\r\n      if (this.state.lastloadedid === null) {\r\n        this.setState({\r\n          lastloadedid: data.id\r\n        });\r\n      }\r\n    });\r\n    this.props.socket.on(\"typing\", data => {\r\n      // console.log(\"this.props.receiver\", this.props.receiver);\r\n      // console.log(\"data.sender\", data.sender);\r\n      // console.log(\r\n      //   \"this.props.receiver === data.sender\",\r\n      //   this.props.receiver === data.sender\r\n      // );\r\n\r\n      if (this.props.receiver === data.sender) {\r\n        this.setState({\r\n          typing: data.sender\r\n        });\r\n      }\r\n    });\r\n    this.props.socket.on(\"stoppedTyping\", data => {\r\n      if (this.props.receiver === data.sender) {\r\n        this.setState({\r\n          typing: \"\"\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    // console.log(\"room componentDidMount\");\r\n    // this.setState({\r\n    //   message: this.props.draft\r\n    // });\r\n    this.addSocketEventListeners();\r\n    // if (this.props.log.length !== 0) {\r\n    //   this.setState({\r\n    //     lastloadedid: this.props.log[this.props.log.length - 1].id\r\n    //   });\r\n    // } else {\r\n    //   getMessages(\r\n    //     this.props.sender,\r\n    //     this.props.receiver,\r\n    //     this.state.lastloadedid\r\n    //   )\r\n    //     .then(response => response.json())\r\n    //     .then(log => {\r\n    //       if (log.length !== 0) {\r\n    //         this.setState({ lastloadedid: log[log.length - 1].id });\r\n    //       }\r\n    //       this.setState({ log });\r\n    //     });\r\n    // }\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    this.props.socket.off(\"chat\");\r\n    this.props.socket.off(\"typing\");\r\n    this.props.socket.off(\"stoppedTyping\");\r\n  };\r\n\r\n  // isScrolledToBottom = target => {\r\n  //   return target.scrollTop >= target.scrollHeight - target.offsetHeight;\r\n  // };\r\n\r\n  // scrollHandler = event => {\r\n  //   if (this.isScrolledToBottom(event.target)) {\r\n  //     if (!this.state.isLoading && this.state.moreData) {\r\n  //       this.setState({\r\n  //         isLoading: true\r\n  //       });\r\n  //       getMessages(\r\n  //         this.props.sender,\r\n  //         this.props.receiver,\r\n  //         this.state.lastloadedid\r\n  //       )\r\n  //         .then(response => response.json())\r\n  //         .then(log => {\r\n  //           if (log.length === 0) {\r\n  //             this.setState({\r\n  //               moreData: false\r\n  //             });\r\n  //           } else {\r\n  //             let newLog = this.state.log;\r\n\r\n  //             newLog.push(...log);\r\n  //             this.setState({\r\n  //               log: newLog,\r\n  //               lastloadedid: newLog[newLog.length - 1].id\r\n  //             });\r\n  //           }\r\n  //         })\r\n  //         .then(() =>\r\n  //           this.setState({\r\n  //             isLoading: false\r\n  //           })\r\n  //         );\r\n  //     }\r\n  //   }\r\n  // };\r\n\r\n  componentWillReceiveProps = () => {\r\n    this.props.socket.emit(\"stoppedTyping\", {\r\n      sender: this.props.sender,\r\n      receiver: this.props.receiver\r\n    });\r\n    this.setState({\r\n      message: \"\",\r\n      typing: \"\"\r\n    });\r\n  };\r\n\r\n  changeHandler = event => {\r\n    // console.log('changeHandler is called', event.target.value);\r\n    // console.log('this.state.message', this.state.message);\r\n    this.props.socket.emit(\"typing\", {\r\n      sender: this.props.sender,\r\n      receiver: this.props.receiver\r\n    });\r\n    if (event.target.value === \"\") {\r\n      this.props.socket.emit(\"stoppedTyping\", {\r\n        sender: this.props.sender,\r\n        receiver: this.props.receiver\r\n      });\r\n    }\r\n    this.setState({\r\n      message: event.target.value\r\n    });\r\n  };\r\n\r\n  keyPressHandler = event => {\r\n    if (event.key === \"Enter\") {\r\n      this.send();\r\n    }\r\n  };\r\n\r\n  send = () => {\r\n    if (this.state.message !== \"\") {\r\n      this.props.socket.emit(\"chat\", {\r\n        sender: this.props.sender,\r\n        receiver: this.props.receiver,\r\n        message: this.state.message\r\n      });\r\n      this.setState({\r\n        message: \"\"\r\n      });\r\n    }\r\n  };\r\n\r\n  render = () => {\r\n    const { message, typing } = this.state;\r\n    const { classes, sender, log } = this.props;\r\n\r\n    return (\r\n      <div className={classes.marioChat}>\r\n        <div\r\n          className={classes.chatWindow}\r\n          // onScroll={this.scrollHandler}\r\n        >\r\n          {typing && (\r\n            <p className={classes.typingP}>\r\n              <em>{typing} is typing a message...</em>\r\n            </p>\r\n          )}\r\n          <div className={classes.outputPs}>\r\n            {log.map((record, index) => (\r\n              <div\r\n                className={\r\n                  record.sender === sender\r\n                    ? classes.outputPMine\r\n                    : classes.outputPOther\r\n                }\r\n                key={index}\r\n              >\r\n                <p className={classes.messageText}>{record.message}</p>\r\n                <span className={classes.messageTime}>{`${new Date(\r\n                  parseInt(record.time)\r\n                ).toLocaleString()} `}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <Input\r\n          type=\"text\"\r\n          className={classes.message}\r\n          value={message}\r\n          placeholder=\"Say something...\"\r\n          onChange={this.changeHandler}\r\n          onKeyPress={this.keyPressHandler}\r\n          disableUnderline={true}\r\n        />\r\n        <Button\r\n          className={classes.send}\r\n          onClick={this.send}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n        >\r\n          Send\r\n        </Button>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nRoom.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Room);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Room from './Room/Room.js';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    overflow: 'hidden'\r\n  },\r\n  link: {\r\n    textDecoration: 'none'\r\n  },\r\n  users: {\r\n    width: '20%',\r\n    padding: 'unset',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.08)'\r\n  },\r\n  user: {\r\n    padding: 5\r\n  },\r\n  selectedUser: {\r\n    padding: 5,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.08)'\r\n  },\r\n  onlineDot: {\r\n    marginRight: 5,\r\n    width: 5,\r\n    height: 5,\r\n    borderRadius: '100%',\r\n    backgroundColor: '#3f51b5'\r\n  }\r\n});\r\n\r\nclass Chat extends React.Component {\r\n  render = () => {\r\n    const {\r\n      classes,\r\n      socket,\r\n      sender,\r\n      receiver,\r\n      chatData,\r\n      updateLog\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <List component=\"nav\" className={classes.users}>\r\n          {Object.keys(chatData).map((login, index) => {\r\n            const avatar =\r\n              chatData[login].gallery.length > 0\r\n                ? chatData[login].gallery[chatData[login].avatarid]\r\n                : 'avatar.png';\r\n\r\n            return (\r\n              <Link className={classes.link} key={index} to={`/chat/${login}`}>\r\n                <ListItem\r\n                  button\r\n                  className={\r\n                    login === receiver ? classes.selectedUser : classes.user\r\n                  }\r\n                >\r\n                  <Avatar\r\n                    alt={login}\r\n                    src={require(`../../../public/users/photos/${avatar}`)}\r\n                  />\r\n                  <ListItemText primary={login} />\r\n                  {chatData[login].online && (\r\n                    <div className={classes.onlineDot} />\r\n                  )}\r\n                </ListItem>\r\n                <Divider light />\r\n              </Link>\r\n            );\r\n          })}\r\n        </List>\r\n        <Room\r\n          socket={socket}\r\n          sender={sender}\r\n          receiver={receiver}\r\n          log={chatData[receiver].log}\r\n          updateLog={updateLog}\r\n          updateMessage={this.updateMessage}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nChat.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Chat);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst styles = {\r\n  notification: {\r\n    padding: 0,\r\n    paddingLeft: '20px',\r\n    paddingRight: '10px',\r\n    backgroundColor: '#f50057'\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  close: {\r\n    padding: '5px'\r\n  }\r\n};\r\n\r\nclass Notification extends React.Component {\r\n  render = () => {\r\n    const { classes, message, close, index } = this.props;\r\n\r\n    return (\r\n      <SnackbarContent\r\n        className={classes.notification}\r\n        aria-describedby=\"client-snackbar\"\r\n        message={\r\n          <span id=\"client-snackbar\" className={classes.message}>\r\n            {message}\r\n          </span>\r\n        }\r\n        action={[\r\n          <IconButton\r\n            className={classes.close}\r\n            key=\"close\"\r\n            aria-label=\"Close\"\r\n            color=\"inherit\"\r\n            onClick={close.bind(this, index)}\r\n          >\r\n            <CloseIcon className={classes.icon} />\r\n          </IconButton>\r\n        ]}\r\n      />\r\n    );\r\n  };\r\n}\r\n\r\nNotification.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Notification);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Notification from './Notification/Notification.js';\r\n\r\nconst styles = {\r\n  root: {\r\n    position: 'fixed',\r\n    right: 0,\r\n    top: 0,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    zIndex: 2000\r\n  }\r\n};\r\n\r\nclass Notifications extends React.Component {\r\n  render = () => {\r\n    const { classes, messages, closeNotification } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        {messages.map((message, index) => (\r\n          <Notification\r\n            message={message}\r\n            key={index}\r\n            close={closeNotification}\r\n            index={index}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nNotifications.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Notifications);\r\n","import React from 'react';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport socketIOClient from 'socket.io-client';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\n\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n\r\nimport Suggestions from './../Suggestions/Suggestions.js';\r\nimport Profile from './../Profile/Profile.js';\r\nimport User from './../User/User.js';\r\nimport Signin from './../Signin/Signin.js';\r\nimport Visited from './../Visited/Visited.js';\r\nimport Chat from './../Chat/Chat.js';\r\nimport Notifications from './../Notifications/Notifications.js';\r\nimport {\r\n  getUserProfile,\r\n  saveLocation,\r\n  signout,\r\n  getChatData,\r\n  getSuggestions,\r\n  getVisited,\r\n  saveVisited\r\n} from './../../api/api.js';\r\n\r\nconst TabContainer = props => (\r\n  <Typography\r\n    style={{ flexGrow: 1, display: 'flex', flexDirection: 'column' }}\r\n    component=\"div\"\r\n  >\r\n    {props.children}\r\n  </Typography>\r\n);\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    width: '100%',\r\n    minWidth: '568px',\r\n    height: '100vh',\r\n    backgroundColor: '#eeeeee'\r\n  },\r\n  appBar: {\r\n    backgroundColor: '#3f51b5'\r\n  },\r\n  appMenu: {\r\n    position: 'fixed',\r\n    width: 200,\r\n    height: '100%',\r\n    zIndex: 2000,\r\n    transform: 'translate(0px, 0px)',\r\n    transition: 'transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms'\r\n  },\r\n  appMenuHidden: {\r\n    position: 'fixed',\r\n    width: 200,\r\n    height: '100%',\r\n    zIndex: 2000,\r\n    transform: 'translate(-200px, 0px)',\r\n    transition: 'transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms'\r\n  },\r\n  appContent: {\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    flexDirection: 'column'\r\n  },\r\n  grow: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20\r\n  },\r\n  singleUserContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    overflow: 'auto'\r\n  }\r\n});\r\n\r\nlet socket = null;\r\n\r\nclass Main extends React.Component {\r\n  state = {\r\n    tabid: 0,\r\n    profile: null,\r\n    notifications: [],\r\n    showMenu: false,\r\n    tabName: 'Suggestions',\r\n    chatData: null,\r\n    suggestions: null\r\n  };\r\n\r\n  ipLookUp = () => {\r\n    fetch('http://ip-api.com/json', {\r\n      method: 'POST'\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => saveLocation([data.lat, data.lon]))\r\n      .catch(error => console.error(error));\r\n  };\r\n\r\n  getLocation = userid => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      position =>\r\n        saveLocation([position.coords.latitude, position.coords.longitude]),\r\n      () => this.ipLookUp(userid)\r\n    );\r\n  };\r\n\r\n  addNotification = message => {\r\n    let newNotifications = this.state.notifications;\r\n\r\n    newNotifications.push(message);\r\n    this.setState({\r\n      notifications: newNotifications\r\n    });\r\n  };\r\n\r\n  addSocketEventListeners = () => {\r\n    socket.on('like', data =>\r\n      this.addNotification(`${data.sender} has just liked you`)\r\n    );\r\n    socket.on('check', data =>\r\n      this.addNotification(`${data.sender} has just checked your profile`)\r\n    );\r\n    socket.on('chat', data => {\r\n      if (data.sender !== this.state.profile.login) {\r\n        this.addNotification(`${data.sender} has sent you a message`);\r\n      }\r\n    });\r\n    socket.on('likeBack', data =>\r\n      this.addNotification(`${data.sender} has just liked you back!`)\r\n    );\r\n    socket.on('unlike', data =>\r\n      this.addNotification(\r\n        `Unfortunately ${data.sender} has disconnected from you`\r\n      )\r\n    );\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.all([\r\n      getUserProfile().then(\r\n        data => {\r\n          socket = socketIOClient({\r\n            query: `login=${data.user.login}`\r\n          });\r\n          this.addSocketEventListeners();\r\n          this.setState({\r\n            profile: {\r\n              firstname: data.user.firstname,\r\n              lastname: data.user.lastname,\r\n              login: data.user.login,\r\n              email: data.user.email,\r\n              age: data.user.age,\r\n              gender: data.user.gender,\r\n              preferences: data.user.preferences,\r\n              bio: data.user.bio,\r\n              interests: data.user.interests,\r\n              gallery: data.user.gallery,\r\n              avatarid: data.user.avatarid,\r\n              location: data.user.location,\r\n              allInterests: data.allInterests,\r\n              changeStatus: null,\r\n              error: false,\r\n              canLike:\r\n                data.user.gallery.filter(image => image !== '').length > 0\r\n            }\r\n          });\r\n          this.getLocation(data.user.id);\r\n        },\r\n        () => this.setState({ profile: 'signin' })\r\n      ),\r\n      getChatData().then(\r\n        chatData => this.setState({ chatData }),\r\n        error => console.error(error)\r\n      ),\r\n      getSuggestions().then(\r\n        suggestions =>\r\n          this.setState({\r\n            suggestions\r\n          }),\r\n        error => console.error(error)\r\n      ),\r\n      getVisited().then(\r\n        visited => this.setState({ visited }),\r\n        error => console.error(error)\r\n      )\r\n    ]);\r\n  }\r\n\r\n  onProfileChange = target => {\r\n    this.setState({ profile: target });\r\n  };\r\n\r\n  signout = () => {\r\n    signout().then(() => this.setState({ profile: 'signin' }));\r\n  };\r\n\r\n  updateVisited = visitedLogin => {\r\n    if (\r\n      !this.state.visited.map(profile => profile.login).includes(visitedLogin)\r\n    ) {\r\n      saveVisited(visitedLogin).then(visited => {\r\n        socket.emit('check', {\r\n          sender: this.state.profile.login,\r\n          receiver: visitedLogin\r\n        });\r\n        this.setState({\r\n          visited\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  updateSuggestions = suggestions => this.setState({ suggestions });\r\n\r\n  updateChatData = chatData => {\r\n    this.setState({ chatData });\r\n  };\r\n\r\n  closeNotification = index => {\r\n    let newNotifications = this.state.notifications;\r\n\r\n    newNotifications.splice(index, 1);\r\n    this.setState({\r\n      notifications: newNotifications\r\n    });\r\n  };\r\n\r\n  showMenu = () =>\r\n    this.setState({\r\n      showMenu: !this.state.showMenu\r\n    });\r\n\r\n  changeTabName = tabName =>\r\n    this.setState({\r\n      tabName,\r\n      showMenu: false\r\n    });\r\n\r\n  handleMenuClose = event => {\r\n    if (this.anchorEl.contains(event.target)) {\r\n      return;\r\n    }\r\n    this.setState({ showMenu: false });\r\n  };\r\n\r\n  updateLog = (receiver, log) => {\r\n    let newChatData = this.state.chatData;\r\n\r\n    newChatData[receiver].log = log;\r\n    this.setState({\r\n      chatData: newChatData\r\n    });\r\n  };\r\n\r\n  render = () => {\r\n    let tabName = window.location.pathname.split('/')[1];\r\n\r\n    tabName = tabName.charAt(0).toUpperCase() + tabName.slice(1);\r\n    if (tabName === '') {\r\n      tabName = 'Suggestions';\r\n    }\r\n    if (\r\n      !this.state.profile ||\r\n      !this.state.chatData ||\r\n      !this.state.suggestions ||\r\n      !this.state.visited\r\n    ) {\r\n      return <span>Loading...</span>;\r\n    }\r\n    if (this.state.profile === 'signin') {\r\n      return <Signin />;\r\n    }\r\n    const { classes } = this.props;\r\n    const {\r\n      profile,\r\n      profile: { login, canLike },\r\n      notifications,\r\n      showMenu,\r\n      chatData,\r\n      suggestions,\r\n      visited\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Notifications\r\n          messages={notifications}\r\n          closeNotification={this.closeNotification}\r\n        />\r\n\r\n        <AppBar position=\"static\" className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"Menu\"\r\n              buttonRef={node => {\r\n                this.anchorEl = node;\r\n              }}\r\n              onClick={this.showMenu}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\r\n              {tabName}\r\n            </Typography>\r\n            <Button color=\"inherit\" onClick={this.signout}>\r\n              Log out\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <ClickAwayListener onClickAway={this.handleMenuClose}>\r\n          <Paper className={showMenu ? classes.appMenu : classes.appMenuHidden}>\r\n            <MenuList>\r\n              <MenuItem\r\n                className={classes.menuItem}\r\n                component={Link}\r\n                to=\"/\"\r\n                onClick={() => this.changeTabName('Suggestions')}\r\n              >\r\n                <ListItemIcon className={classes.icon}>\r\n                  <PeopleIcon />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  classes={{ primary: classes.primary }}\r\n                  inset\r\n                  primary=\"Suggestions\"\r\n                />\r\n              </MenuItem>\r\n              <MenuItem\r\n                className={classes.menuItem}\r\n                component={Link}\r\n                to=\"/profile\"\r\n                onClick={() => this.changeTabName('Profile')}\r\n              >\r\n                <ListItemIcon className={classes.icon}>\r\n                  <PersonIcon />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  classes={{ primary: classes.primary }}\r\n                  inset\r\n                  primary=\"Profile\"\r\n                />\r\n              </MenuItem>\r\n              {Object.keys(chatData).length > 0 && (\r\n                <MenuItem\r\n                  className={classes.menuItem}\r\n                  component={Link}\r\n                  to={`/chat/${Object.keys(chatData)[0]}`}\r\n                  onClick={() => this.changeTabName('Chat')}\r\n                >\r\n                  <ListItemIcon className={classes.icon}>\r\n                    <ChatIcon />\r\n                  </ListItemIcon>\r\n                  <ListItemText\r\n                    classes={{ primary: classes.primary }}\r\n                    inset\r\n                    primary=\"Chat\"\r\n                  />\r\n                </MenuItem>\r\n              )}\r\n              <MenuItem\r\n                className={classes.menuItem}\r\n                component={Link}\r\n                to=\"/visited\"\r\n                onClick={() => this.changeTabName('Visited')}\r\n              >\r\n                <ListItemIcon className={classes.icon}>\r\n                  <CheckIcon />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  classes={{ primary: classes.primary }}\r\n                  inset\r\n                  primary=\"Visited\"\r\n                />\r\n              </MenuItem>\r\n            </MenuList>\r\n          </Paper>\r\n        </ClickAwayListener>\r\n\r\n        <div className={classes.appContent}>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={() => {\r\n              // this.changeTabName(\"Suggestions\");\r\n              return (\r\n                <TabContainer>\r\n                  <Suggestions\r\n                    socket={socket}\r\n                    sender={login}\r\n                    profile={profile}\r\n                    visited={visited}\r\n                    updateVisited={this.updateVisited}\r\n                    suggestions={suggestions}\r\n                    updateChatData={this.updateChatData}\r\n                  />\r\n                </TabContainer>\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/profile\"\r\n            render={() => {\r\n              // this.changeTabName(\"Profile\");\r\n              return (\r\n                <TabContainer>\r\n                  <Profile\r\n                    name=\"profile\"\r\n                    value={profile}\r\n                    onChange={this.onProfileChange}\r\n                    editable={true}\r\n                    visited={visited}\r\n                    updateVisited={this.updateVisited}\r\n                    updateSuggestions={this.updateSuggestions}\r\n                  />\r\n                </TabContainer>\r\n              );\r\n            }}\r\n          />\r\n          {Object.keys(chatData).length > 0 && (\r\n            <Route\r\n              exact\r\n              path=\"/chat\"\r\n              render={() => {\r\n                return (\r\n                  <TabContainer>\r\n                    <Chat\r\n                      socket={socket}\r\n                      sender={login}\r\n                      receiver={Object.keys(chatData)[0]}\r\n                      chatData={chatData}\r\n                      updateLog={this.updateLog}\r\n                    />\r\n                  </TabContainer>\r\n                );\r\n              }}\r\n            />\r\n          )}\r\n          {Object.keys(chatData).length > 0 && (\r\n            <Route\r\n              exact\r\n              path=\"/chat/:receiver\"\r\n              render={({ match }) => {\r\n                if (Object.keys(chatData).includes(match.params.receiver)) {\r\n                  return (\r\n                    <TabContainer>\r\n                      <Chat\r\n                        socket={socket}\r\n                        sender={login}\r\n                        receiver={match.params.receiver}\r\n                        chatData={chatData}\r\n                        updateLog={this.updateLog}\r\n                      />\r\n                    </TabContainer>\r\n                  );\r\n                }\r\n                return <span>Chat user not found</span>;\r\n              }}\r\n            />\r\n          )}\r\n          <Route\r\n            exact\r\n            path=\"/users/:login\"\r\n            render={({ match }) => {\r\n              let index = suggestions.indexOf(\r\n                suggestions.find(\r\n                  suggestion => match.params.login === suggestion.login\r\n                )\r\n              );\r\n\r\n              if (index !== -1) {\r\n                return (\r\n                  <TabContainer>\r\n                    <div className={classes.singleUserContainer}>\r\n                      <User\r\n                        user={suggestions[index]}\r\n                        socket={socket}\r\n                        sender={login}\r\n                        canLike={canLike}\r\n                        full={true}\r\n                        visited={visited}\r\n                        updateVisited={this.updateVisited}\r\n                        updateChatData={this.updateChatData}\r\n                      />\r\n                    </div>\r\n                  </TabContainer>\r\n                );\r\n              }\r\n              return <span>User not found</span>;\r\n            }}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/visited\"\r\n            render={() => {\r\n              // this.changeTabName(\"Visited\");\r\n              return (\r\n                <TabContainer>\r\n                  <Visited\r\n                    socket={socket}\r\n                    sender={login}\r\n                    visited={visited}\r\n                    updateVisited={this.updateVisited}\r\n                    updateChatData={this.updateChatData}\r\n                  />\r\n                </TabContainer>\r\n              );\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nMain.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Main);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport keycode from 'keycode';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Main from '../Main/Main.js';\r\nimport { signin, saveOnline } from '../../api/api.js';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: '100vw',\r\n    height: '100vh'\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: 'fit-content'\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 200\r\n  },\r\n  button: {\r\n    margin: '8px'\r\n  }\r\n});\r\n\r\nclass Signin extends React.Component {\r\n  state = {\r\n    login: '',\r\n    password: '',\r\n    message: '',\r\n    main: false\r\n  };\r\n\r\n  handleKeyPress = event => {\r\n    if (keycode(event) === 'enter') {\r\n      this.signin();\r\n    }\r\n  };\r\n\r\n  handleChange = name => event => {\r\n    this.setState({\r\n      [name]: event.target.value\r\n    });\r\n  };\r\n\r\n  signin = () => {\r\n    if (this.state.login === '' || this.state.password === '') {\r\n      this.setState({\r\n        message: 'Please fill all the fields in'\r\n      });\r\n    } else {\r\n      this.setState({\r\n        message: ''\r\n      });\r\n      signin(this.state.login, this.state.password).then(data => {\r\n        if (data.status === 'success') {\r\n          this.setState({\r\n            main: true\r\n          });\r\n          saveOnline();\r\n        } else {\r\n          this.setState({\r\n            message: data.result\r\n          });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  renderMessage = () => {\r\n    if (this.state.message !== '') {\r\n      return (\r\n        <TextField\r\n          className={this.props.classes.textField}\r\n          error\r\n          disabled\r\n          value={this.state.message}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  render = () => {\r\n    const { classes } = this.props;\r\n\r\n    if (this.state.main) {\r\n      return <Main />;\r\n    }\r\n    return (\r\n      <div className={classes.root}>\r\n        <form className={classes.container} noValidate autoComplete=\"off\">\r\n          {this.renderMessage()}\r\n          <TextField\r\n            label=\"Login\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('login')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.login}\r\n          />\r\n          <TextField\r\n            label=\"Password\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('password')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.password}\r\n            type=\"password\"\r\n          />\r\n          <Button className={classes.button} onClick={this.signin}>\r\n            Sign In\r\n          </Button>\r\n          <Link to=\"/signup\">Sign Up</Link>\r\n          <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nSignin.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Signin);\r\n","import React, { Component } from \"react\";\r\nimport { signinOrMain } from \"./../../api/api.js\";\r\nimport Signin from \"../Signin/Signin.js\";\r\nimport Main from \"../Main/Main.js\";\r\n\r\nexport default class SigninOrMain extends Component {\r\n  state = {\r\n    page: null\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    signinOrMain()\r\n      .then(response => response.json())\r\n      .then(result => this.setState({ page: result.result }));\r\n  };\r\n\r\n  render = () => {\r\n    if (!this.state.page) {\r\n      return <span>Loading...</span>;\r\n    }\r\n    if (this.state.page === \"signin\") {\r\n      return <Signin />;\r\n    }\r\n    return <Main />;\r\n  };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport keycode from 'keycode';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  isEmailValid,\r\n  isLoginValid,\r\n  isPasswordValid,\r\n  isFirstLastNameValid\r\n} from './../../utils/utils.js';\r\nimport { signup } from './../../api/api.js';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: '100vw',\r\n    height: '100vh'\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: 'fit-content'\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 200\r\n  },\r\n  button: {\r\n    margin: '8px'\r\n  }\r\n});\r\n\r\nclass Signup extends React.Component {\r\n  state = {\r\n    email: '',\r\n    login: '',\r\n    password: '',\r\n    passwordConfirm: '',\r\n    firstname: '',\r\n    lastname: '',\r\n    error: false,\r\n    message: ''\r\n  };\r\n\r\n  handleKeyPress = event => {\r\n    if (keycode(event) === 'enter') {\r\n      this.signup();\r\n    }\r\n  };\r\n\r\n  handleChange = name => event => {\r\n    this.setState({\r\n      [name]: event.target.value\r\n    });\r\n  };\r\n\r\n  signup = () => {\r\n    if (\r\n      this.state.email === '' ||\r\n      this.state.login === '' ||\r\n      this.state.password === '' ||\r\n      this.state.passwordConfirm === '' ||\r\n      this.state.firstname === '' ||\r\n      this.state.lastname === ''\r\n    ) {\r\n      this.setState({\r\n        error: true,\r\n        message: 'Please fill all the fields in'\r\n      });\r\n    } else if (!isEmailValid(this.state.email)) {\r\n      this.setState({\r\n        error: true,\r\n        message: 'Invalid email address'\r\n      });\r\n    } else if (!isLoginValid(this.state.login)) {\r\n      this.setState({\r\n        error: true,\r\n        message: 'Invalid login'\r\n      });\r\n    } else if (!isPasswordValid(this.state.password)) {\r\n      this.setState({\r\n        error: true,\r\n        message: 'Invalid password'\r\n      });\r\n    } else if (this.state.password !== this.state.passwordConfirm) {\r\n      this.setState({\r\n        error: true,\r\n        message: 'Invalid password confirm'\r\n      });\r\n    } else if (!isFirstLastNameValid(this.state.firstname)) {\r\n      this.setState({\r\n        error: true,\r\n        message: 'Invalid first name'\r\n      });\r\n    } else if (!isFirstLastNameValid(this.state.lastname)) {\r\n      this.setState({\r\n        error: false,\r\n        message: 'Invalid last name'\r\n      });\r\n    } else {\r\n      this.setState({\r\n        message: ''\r\n      });\r\n      signup(\r\n        this.state.email,\r\n        this.state.login,\r\n        this.state.password,\r\n        this.state.firstname,\r\n        this.state.lastname\r\n      ).then(data =>\r\n        this.setState({\r\n          error: data.status === 'error',\r\n          message: data.result\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  renderMessage = () => {\r\n    if (this.state.message !== '') {\r\n      return (\r\n        <TextField\r\n          className={this.props.classes.textField}\r\n          error={this.state.error}\r\n          disabled\r\n          value={this.state.message}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  render = () => {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <form className={classes.container} noValidate autoComplete=\"off\">\r\n          {this.renderMessage()}\r\n          <TextField\r\n            label=\"Email\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('email')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.email}\r\n          />\r\n          <TextField\r\n            label=\"Login\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('login')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.login}\r\n          />\r\n          <TextField\r\n            label=\"Password\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('password')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.password}\r\n            type=\"password\"\r\n          />\r\n          <TextField\r\n            label=\"Confirm your password\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('passwordConfirm')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.passwordConfirm}\r\n            type=\"password\"\r\n          />\r\n          <TextField\r\n            label=\"First name\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('firstname')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.firstname}\r\n          />\r\n          <TextField\r\n            label=\"Last name\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('lastname')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.lastname}\r\n          />\r\n          <Button className={classes.button} onClick={this.signup}>\r\n            Sign Up\r\n          </Button>\r\n          <Link to=\"/\">Home</Link>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nSignup.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Signup);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport keycode from 'keycode';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport { getResetPasswordEmail } from '../../api/api.js';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: '100vw',\r\n    height: '100vh'\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: 'fit-content'\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 200\r\n  },\r\n  button: {\r\n    margin: '8px'\r\n  }\r\n});\r\n\r\nclass ForgotPassword extends React.Component {\r\n  state = {\r\n    email: '',\r\n    message: '',\r\n    error: false\r\n  };\r\n\r\n  handleKeyPress = event => {\r\n    if (keycode(event) === 'enter') {\r\n      this.getResetPasswordEmail();\r\n    }\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      email: event.target.value\r\n    });\r\n  };\r\n\r\n  getResetPasswordEmail = () => {\r\n    if (this.state.email === '') {\r\n      this.setState({\r\n        message: 'Please fill in your email',\r\n        error: true\r\n      });\r\n    } else {\r\n      this.setState({\r\n        message: ''\r\n      });\r\n      getResetPasswordEmail(this.state.email).then(data =>\r\n        this.setState({\r\n          error: data.status === 'error',\r\n          message: data.result\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  renderMessage = () => {\r\n    if (this.state.message !== '') {\r\n      return (\r\n        <TextField\r\n          className={this.props.classes.textField}\r\n          error={this.state.error}\r\n          disabled\r\n          value={this.state.message}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  render = () => {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <div className={classes.container}>\r\n          {this.renderMessage()}\r\n          <TextField\r\n            label=\"Email\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.email}\r\n          />\r\n          <Button\r\n            className={classes.button}\r\n            onClick={this.getResetPasswordEmail}\r\n          >\r\n            Get reset password email\r\n          </Button>\r\n          <Link to=\"/\">Home</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nForgotPassword.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(ForgotPassword);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport keycode from 'keycode';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport { isPasswordValid } from './../../utils/utils.js';\r\nimport { resetPassword } from './../../api/api.js';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: '100vw',\r\n    height: '100vh'\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: 'fit-content'\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 200\r\n  },\r\n  button: {\r\n    margin: '8px'\r\n  }\r\n});\r\n\r\nclass ResetPassword extends React.Component {\r\n  state = {\r\n    password: '',\r\n    passwordConfirm: '',\r\n    error: false,\r\n    message: ''\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.setState({\r\n      email: this.props.email\r\n    });\r\n  };\r\n\r\n  handleKeyPress = event => {\r\n    if (keycode(event) === 'enter') {\r\n      this.resetPassword();\r\n    }\r\n  };\r\n\r\n  handleChange = name => event => {\r\n    this.setState({\r\n      [name]: event.target.value\r\n    });\r\n  };\r\n\r\n  resetPassword = () => {\r\n    if (this.state.password === '' || this.state.passwordConfirm === '') {\r\n      this.setState({\r\n        error: true,\r\n        message: 'Please fill all the fields in'\r\n      });\r\n    } else if (!isPasswordValid(this.state.password)) {\r\n      this.setState({\r\n        error: true,\r\n        message: 'Invalid password'\r\n      });\r\n    } else if (this.state.password !== this.state.passwordConfirm) {\r\n      this.setState({\r\n        error: true,\r\n        message: 'Invalid password confirm'\r\n      });\r\n    } else {\r\n      resetPassword(this.state.password, this.state.email)\r\n        .then(response => response.json())\r\n        .then(data => this.setState({ error: false, message: data.result }));\r\n    }\r\n  };\r\n\r\n  renderMessage = () => {\r\n    if (this.state.message !== '') {\r\n      return (\r\n        <TextField\r\n          className={this.props.classes.textField}\r\n          error={this.state.error}\r\n          disabled\r\n          value={this.state.message}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  render = () => {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <form className={classes.container} noValidate autoComplete=\"off\">\r\n          {this.renderMessage()}\r\n          <TextField\r\n            label=\"Password\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('password')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.password}\r\n            type=\"password\"\r\n          />\r\n          <TextField\r\n            label=\"Confirm your password\"\r\n            className={classes.textField}\r\n            onChange={this.handleChange('passwordConfirm')}\r\n            onKeyPress={this.handleKeyPress}\r\n            margin=\"normal\"\r\n            value={this.state.passwordConfirm}\r\n            type=\"password\"\r\n          />\r\n          <Button className={classes.button} onClick={this.resetPassword}>\r\n            Change password\r\n          </Button>\r\n          <Link to=\"/\">Home</Link>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nResetPassword.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(ResetPassword);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: '100vw',\r\n    height: '100vh'\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: 'fit-content'\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 200\r\n  },\r\n  button: {\r\n    margin: '8px'\r\n  }\r\n});\r\n\r\nclass Expired extends React.Component {\r\n  render = () => {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <div className={classes.container}>\r\n          <span>\r\n            Your link for reseting the password has expired. Please re-initiate\r\n            the process of password reseting.\r\n          </span>\r\n          <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n          <Link to=\"/\">Home</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nExpired.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Expired);\r\n","import React, { Component } from \"react\";\r\nimport { resetPasswordOrExpired } from \"./../../api/api.js\";\r\nimport ResetPassword from \"../ResetPassword/ResetPassword.js\";\r\nimport Expired from \"../Expired/Expired.js\";\r\n\r\nexport default class ResetPasswordOrExpired extends Component {\r\n  state = {\r\n    page: null\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    if (this.props.location.search === \"\") {\r\n      this.props.history.push(\"/\");\r\n    } else {\r\n      let params = this.props.location.search.split(\"&\");\r\n\r\n      if (params.length !== 2) {\r\n        this.props.history.push(\"/\");\r\n      } else {\r\n        if (\r\n          params[0].indexOf(\"?email=\") !== 0 ||\r\n          params[1].indexOf(\"hash=\") !== 0\r\n        ) {\r\n          this.props.history.push(\"/\");\r\n        }\r\n        this.setState({ email: params[0].substring(7) });\r\n        resetPasswordOrExpired(params[0].substring(7), params[1].substring(5))\r\n          .then(response => response.json())\r\n          .then(result => this.setState({ page: result.result }));\r\n      }\r\n    }\r\n  };\r\n\r\n  render = () => {\r\n    if (!this.state.page) {\r\n      return <span>Loading...</span>;\r\n    }\r\n    if (this.state.page === \"reset-password\") {\r\n      return <ResetPassword email={this.state.email} />;\r\n    } else {\r\n      return <Expired />;\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport SigninOrMain from './../SigninOrMain/SigninOrMain.js';\r\nimport Signup from './../Signup/Signup.js';\r\nimport ForgotPassword from './../ForgotPassword/ForgotPassword.js';\r\nimport ResetPasswordOrExpired from './../ResetPasswordOrExpired/ResetPasswordOrExpired.js';\r\n\r\nwindow.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__ = true;\r\n\r\nclass App extends Component {\r\n  render = () => {\r\n    return (\r\n      <BrowserRouter>\r\n        <div>\r\n          <Route exact path=\"/signup\" component={Signup} />\r\n          <Route exact path=\"/forgot-password\" component={ForgotPassword} />\r\n          <Route\r\n            exact\r\n            path=\"/reset-password\"\r\n            component={ResetPasswordOrExpired}\r\n          />\r\n          <Route path=\"/\" component={SigninOrMain} />\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  };\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App/App.js\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","var map = {\n\t\"./0c39a950b0eb0d0cf1659dadbe96bf554b63cbeb1546464237056.png\": 464,\n\t\"./16fad309750dbe9966d5d19b07f688e320781c58.png\": 465,\n\t\"./77a987bdfd500aad49eb1b4279ab1c2589ec1f2d1546962870237.png\": 466,\n\t\"./7dc4faab62cbb0f25fe9571c488a8c2c706b0ba91546464545019.png\": 467,\n\t\"./8c0e87e081e9145ac4a8661144a265fa31e4743a1546463825180.png\": 468,\n\t\"./avatar.png\": 469,\n\t\"./d5e463812c37b7337b2410c9b650326e066787191546464475276.png\": 470,\n\t\"./da706baf2ec84d9b7038cfc7faa7109d0b3ee038.png\": 471\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 84;"],"sourceRoot":""}