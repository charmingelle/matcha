(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){e.exports=a(423)},205:function(e,t){},348:function(e,t,a){e.exports=a.p+"static/media/01ec2849919b04877f3483e6e2adb31efe89af8e1547036796588.0e749c3a.png"},349:function(e,t,a){e.exports=a.p+"static/media/130185a86463ed79163e7e009540077876fda1d81547139973416.e643e571.png"},350:function(e,t,a){e.exports=a.p+"static/media/14a04121dfbd3b7da14f54e14a238744d4d30b861547140480123.e643e571.png"},351:function(e,t,a){e.exports=a.p+"static/media/1843430e18ed75f066f83f367a5382ff1cbfbf371547140267047.e643e571.png"},352:function(e,t,a){e.exports=a.p+"static/media/226fa6d05014356d068b1d8004b28314ea66912a1547036783924.e643e571.png"},353:function(e,t,a){e.exports=a.p+"static/media/32b513a4feb7144af39fcfea99907b0d4f3231ad1547036806890.ba4a4d66.png"},354:function(e,t,a){e.exports=a.p+"static/media/3e0a670fdea5bb80750eec85850e2c5ea59c26e21547141459910.e643e571.png"},355:function(e,t,a){e.exports=a.p+"static/media/52c141e4429d9045ad28c7f36a9adfd566f6dd511547037788610.69667415.png"},356:function(e,t,a){e.exports=a.p+"static/media/557230b3ff04416ee817074f676f0f895eeb0a7e.9b63ccf8.png"},357:function(e,t,a){e.exports=a.p+"static/media/5764cc2b98cf14423141e4f6fcdaf6acbb86bbf21547139586017.c92208c0.png"},358:function(e,t,a){e.exports=a.p+"static/media/5b200c7e3df3f073f9c9e5d56dd93c503cbc48c01547141360492.9b63ccf8.png"},359:function(e,t,a){e.exports=a.p+"static/media/625c8ab483bee63025feac89f567b09c7d88c1b4.c92208c0.png"},360:function(e,t,a){e.exports=a.p+"static/media/66dd581b0054cf1d1c43365a96bd228cd946ded9.9b63ccf8.png"},361:function(e,t,a){e.exports=a.p+"static/media/68117c44a141e4e61a54a45f7890aa8c4d043c701547138980076.9b63ccf8.png"},362:function(e,t,a){e.exports=a.p+"static/media/68d68ba66d7f240ca5f8cc0884286c6eea0381a6.69667415.png"},363:function(e,t,a){e.exports=a.p+"static/media/6a26b13d80a29a0ffcc13b860818cdf531b1d8541547138691477.69667415.png"},364:function(e,t,a){e.exports=a.p+"static/media/74ba0ff081d29c019bfd4878a63a3b18ea8c987f.69667415.png"},365:function(e,t,a){e.exports=a.p+"static/media/988016fbfeacded1238e698627335deca75c35081547036792804.be16ea42.png"},366:function(e,t,a){e.exports=a.p+"static/media/9a133f3755e0c136edf73e5cb380ee24701f63671547140337273.9b63ccf8.png"},367:function(e,t,a){e.exports=a.p+"static/media/9f2083844cccdc07d02beaaa25f7f1a3044c21fd.9b63ccf8.png"},368:function(e,t,a){e.exports=a.p+"static/media/a420842ea6f8613d0c6366f0b4e072214c1efadd1547141450015.046ed720.png"},369:function(e,t,a){e.exports=a.p+"static/media/afeb5636b6c0575f6a8a5ce8e335940855354c121547037793368.0e749c3a.png"},370:function(e,t,a){e.exports=a.p+"static/media/avatar.cd43fcfe.png"},371:function(e,t,a){e.exports=a.p+"static/media/b3c41fb1447f726a01a559bdf758d6a84c904e83.45476a39.png"},372:function(e,t,a){e.exports=a.p+"static/media/b4cdb2ded155986fbc9967aec489620c5910a7ce1547142098720.9b63ccf8.png"},373:function(e,t,a){e.exports=a.p+"static/media/be5f8cc0935468699803f78102663212d4e13829.ba4a4d66.png"},374:function(e,t,a){e.exports=a.p+"static/media/bf634a744b8482542cb4a3c1c39b03dd7fa147081547037783591.9b63ccf8.png"},375:function(e,t,a){e.exports=a.p+"static/media/c5f445430974278275fcc9953fb44b82efa9d15d1547138654264.9b63ccf8.png"},376:function(e,t,a){e.exports=a.p+"static/media/c74c9856cd37aa264928aa81b2919b93b6f571ec1547141437716.e643e571.png"},377:function(e,t,a){e.exports=a.p+"static/media/dbba244940e8546c3525c6ce2076980e88b4f3c51547141371878.046ed720.png"},378:function(e,t,a){e.exports=a.p+"static/media/df18ca366ebe1f1e02a5c870d03a55d82cb4dde2.bab19345.png"},379:function(e,t,a){e.exports=a.p+"static/media/e5dbb143bd1e7bb0c33a009b09574f9ccb55622f1547138783422.ba4a4d66.png"},380:function(e,t,a){e.exports=a.p+"static/media/f1c82b33d57cd286a8dc7e85a97ccd2cf506750a1547146089886.69667415.png"},381:function(e,t,a){e.exports=a.p+"static/media/f2a89f105ba13e8bf0b9c8c882cfba1eb12b9ae01547140493098.e643e571.png"},423:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),o=a.n(s),i=a(5),c=a(7),l=a(6),u=a(8),m=a(425),d=a(426),p=function(e,t){if(e.ok)return e.json();throw new Error(t)},f=function(e){return fetch("/saveUserProfile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return p(e,"saveUserProfile error")})},g=function(e,t){return fetch("/saveUserPhoto",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({photo:e,photoid:t})})},h=function(e){return fetch("/setAvatar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatarid:e})})},b=function(e){return fetch("/saveLocation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:e})})},v=function(){return fetch("/signinOrMain",{method:"POST"})},y=function(e,t){return fetch("/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,password:t})}).then(function(e){return p(e,"signin error")})},E=function(){return fetch("/signout",{method:"POST"})},O=function(e,t,a,n,r){return fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,login:t,password:a,firstname:n,lastname:r})}).then(function(e){return p(e,"signup error")})},x=function(e){return fetch("/getResetPasswordEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(function(e){return p(e,"getResetPasswordEmail error")})},C=function(e,t){return fetch("/resetPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})})},j=function(e,t){return fetch("/resetPasswordOrExpired",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,hash:t})})},w=function(e){return fetch("/getLikeStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e})})},S=function(e,t){return fetch("/changeLikeStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,canLike:t})})},k=function(e){return fetch("/saveVisited",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visited:e})}).then(function(e){return p(e,"saveVisited error")})},N=function(e){return fetch("/reportFake",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e})})},P=function(e){return fetch("/getBlockStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e})})},I=function(e,t){return fetch("/changeBlockStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,canBlock:t})})},A=function(){return fetch("/getCheckedBy",{method:"POST"})},D=function(){return fetch("/getLikedBy",{method:"POST"})},L=function(e,t){return fetch("/activateAccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,hash:t})}).then(function(e){return p(e,"activateAccount error")})},F=a(14),T=a(424),R=a(9),M=a(26),B=a.n(M),V=a(22),U=a.n(V),K=a(23),z=a.n(K),W=a(28),H=a(147),J=a.n(H),G=a(166),_=a.n(G),Z=a(60),q=a.n(Z),Y=a(33),$=a.n(Y),X=a(37),Q=a.n(X),ee=a(61),te=a.n(ee),ae=a(41),ne=a.n(ae),re=a(167),se=a.n(re),oe=a(32),ie=a.n(oe),ce=a(34),le=a.n(ce),ue=a(76),me=a.n(ue),de=a(171),pe=a.n(de),fe=a(172),ge=a.n(fe),he=a(169),be=a.n(he),ve=a(170),ye=a.n(ve),Ee=a(168),Oe=a.n(Ee),xe=a(20),Ce=a(10),je=a.n(Ce),we=a(74),Se=a.n(we),ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){a.setState({age:!1,distance:!0,fame:!1,amountOfCommonInterests:!1,selected:"distance"})},a.getOrder=function(e){return!1===a.state[e]?-1:1},a.sortBy=function(e){var t;a.props.setSortParams(e,a.getOrder(e)),a.setState((t={},Object(F.a)(t,e,!a.state[e]),Object(F.a)(t,"selected",e),t))},a.renderSortButton=function(e){var t=a.props.classes,n=a.state.selected;return r.a.createElement(ie.a,{className:je()(t.expand,Object(F.a)({},t.expandOpen,a.state[e]),Object(F.a)({},t.selected,n===e)),onClick:a.sortBy.bind(Object(xe.a)(Object(xe.a)(a)),e),"aria-expanded":a.state[e],"aria-label":"Sort"},r.a.createElement(Se.a,null))},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props,t=e.classes,n=e.moved;return r.a.createElement("div",{className:n?t.root:t.moved},r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"Sort by age"),a.renderSortButton("age")),r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"distance"),a.renderSortButton("distance")),r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"fame"),a.renderSortButton("fame")),r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"common interests amount"),a.renderSortButton("amountOfCommonInterests")))},a}return Object(u.a)(t,e),t}(r.a.Component),Ne=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",padding:3,backgroundColor:"#ffffff",transform:"translate(0px, 0px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},moved:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",padding:3,backgroundColor:"#ffffff",transform:"translate(0, -430px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},span:{color:"rgba(0, 0, 0, 0.54)"},expand:Object(F.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},selected:{color:"#3f51b5"}}})(ke),Pe=a(27),Ie=a.n(Pe),Ae=a(58),De=a.n(Ae),Le=a(57),Fe=a.n(Le),Te=a(59),Re=a.n(Te),Me=a(149),Be=a.n(Me),Ve={PaperProps:{style:{maxHeight:224,width:250}}},Ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){a.setState({startAge:18,endAge:100,distance:5,minFameRating:0,maxFameRating:"",amountOfCommonInterests:0,selectedInterests:[],expanded:!1})},a.changeParam=function(e,t,n,r){r.target.value>=t&&(!n||r.target.value<=n)&&a.setState(Object(F.a)({},e,r.target.value))},a.filter=function(){a.state.expanded&&a.props.setFilterParams(a.state),a.setState({expanded:!a.state.expanded}),a.props.move()},a.handleInterestsChange=function(e){a.setState({selectedInterests:e.target.value})},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props,t=e.classes,n=e.interests,s=a.state,o=s.startAge,i=s.endAge,c=s.distance,l=s.minFameRating,u=s.maxFameRating,m=s.amountOfCommonInterests,d=s.selectedInterests,p=s.expanded;return r.a.createElement("div",{className:p?t.root:t.hidden},r.a.createElement("div",{className:t.ageFilter},r.a.createElement("div",null,r.a.createElement("label",{className:t.labelAll,htmlFor:"startAge"},"Start Age ",r.a.createElement("span",{className:t.spanSpecial},o))),r.a.createElement("div",{className:t.ageInputBlock},r.a.createElement("span",{className:t.spanAll},"18"),r.a.createElement("input",{className:t.slider,type:"range",name:"startAge",min:"18",max:"100",step:"1",value:o,onChange:a.changeParam.bind(Object(xe.a)(Object(xe.a)(a)),"startAge",18,100)}),r.a.createElement("span",{className:t.spanAll},"100")),r.a.createElement("div",null,r.a.createElement("label",{className:t.labelAll,htmlFor:"endAge"},"End Age ",r.a.createElement("span",{className:t.spanSpecial},i))),r.a.createElement("div",{className:t.ageInputBlock},r.a.createElement("span",{className:t.spanAll},"18"),r.a.createElement("input",{className:t.slider,type:"range",name:"endAge",min:"18",max:"100",step:"1",value:i,onChange:a.changeParam.bind(Object(xe.a)(Object(xe.a)(a)),"endAge",18,100)}),r.a.createElement("span",{className:t.spanAll},"100"))),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"distance"},"Maximum distance (km)"),r.a.createElement(Ie.a,{name:"distance",type:"number",value:c,onChange:a.changeParam.bind(Object(xe.a)(Object(xe.a)(a)),"distance",0,null)})),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"minFame"},"Minimum fame"),r.a.createElement(Ie.a,{name:"minFame",type:"number",value:l,onChange:a.changeParam.bind(Object(xe.a)(Object(xe.a)(a)),"minFameRating",0,null)})),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"maxFame"},"Maximum fame"),r.a.createElement(Ie.a,{name:"maxFame",type:"number",value:u,onChange:a.changeParam.bind(Object(xe.a)(Object(xe.a)(a)),"maxFameRating",0,null)})),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"amountOfCommonInterests"},"Common interests amount"),r.a.createElement(Ie.a,{name:"amountOfCommonInterests",type:"number",value:m,onChange:a.changeParam.bind(Object(xe.a)(Object(xe.a)(a)),"amountOfCommonInterests",0,null)})),r.a.createElement(Fe.a,{className:t.formControl},r.a.createElement(De.a,{shrink:!0,htmlFor:"select-multiple-checkbox"},"Interests"),r.a.createElement(Re.a,{multiple:!0,value:d,onChange:a.handleInterestsChange,input:r.a.createElement(Ie.a,{id:"select-multiple-checkbox"}),renderValue:function(e){return e.join(", ")},MenuProps:Ve},n.map(function(e){return r.a.createElement($.a,{key:e,value:e},r.a.createElement(Be.a,{checked:d.indexOf(e)>-1}),r.a.createElement(ne.a,{primary:e}))}))),r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:a.filter},"Filter"))},a}return Object(u.a)(t,e),t}(r.a.Component),Ke=Object(R.withStyles)(function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",padding:8,backgroundColor:"#ffffff",transform:"translate(0px, 0px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},hidden:{width:"100%",display:"flex",flexDirection:"column",padding:8,backgroundColor:"#ffffff",transform:"translate(0, -430px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},ageFilter:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:8},ageInputBlock:{display:"flex",alignItems:"center",width:300,height:40},filter:{display:"flex",flexDirection:"column",marginBottom:8},formControl:{marginBottom:8},slider:{WebkitAppearance:"none",width:"100%",background:"transparent","&:focus":{outline:"none"},"&::-webkit-slider-thumb":{WebkitAppearance:"none",height:"36px",width:"16px",borderRadius:"4px",background:"#ffffff",cursor:"pointer",marginTop:"-14px",boxShadow:"1px 1px 1px rgba(0, 0, 0, 0.7), 0px 0px 1px rgba(0, 0, 0, 0.7)"},"&::-webkit-slider-runnable-track":{width:"100%",height:"8.4px",cursor:"pointer",background:"#3f51b5",borderRadius:"4px"}},labelAll:{fontSize:"12px",color:"rgba(0, 0, 0, 0.54)"},spanAll:{color:"rgba(0, 0, 0, 0.54)"},spanSpecial:{color:"#3f51b5"}}})(Ue),ze=a(75),We=a.n(ze),He=a(151),Je=a.n(He),Ge=a(52),_e=a.n(Ge),Ze=a(77),qe=a.n(Ze),Ye=a(156),$e=a.n(Ye),Xe=a(51),Qe=a.n(Xe),et=a(99),tt=a.n(et),at=a(153),nt=a.n(at),rt=a(152),st=a.n(rt),ot=a(154),it=a.n(ot),ct=a(155),lt=a.n(ct),ut=a(150),mt=a.n(ut),dt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){return w(a.props.login).then(function(e){return e.json()}).then(function(e){return a.setState({canLike:e.canLike})})},a.changeLikeStatus=function(){return S(a.props.login,a.state.canLike).then(function(e){return e.json()}).then(function(e){a.state.canLike?a.props.socket.emit("like",{sender:a.props.sender,receiver:a.props.login}):a.props.socket.emit("unlike",{sender:a.props.sender,receiver:a.props.login}),a.props.changeFame(e.step),a.props.updateChatData(e.chatData),a.setState({canLike:!a.state.canLike})})},a.render=function(){if(!a.state)return r.a.createElement("div",null);var e=a.props.classes;return r.a.createElement(ie.a,{"aria-label":"Like",onClick:a.changeLikeStatus},r.a.createElement(mt.a,{className:a.state.canLike?e.unset:e.red}))},a}return Object(u.a)(t,e),t}(r.a.Component),pt=Object(R.withStyles)({unset:{color:"unset"},red:{color:"#3f51b5"}})(dt),ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){return P(a.props.login).then(function(e){return e.json()}).then(function(e){return a.setState({canBlock:e.canBlock})})},a.changeBlockStatus=function(){return I(a.props.login,a.state.canBlock).then(function(){return a.setState({canBlock:!a.state.canBlock})})},a.render=function(){return a.state?r.a.createElement("div",{variant:"outlined",onClick:a.changeBlockStatus},a.state.canBlock?r.a.createElement("span",null,"Block"):r.a.createElement("span",null,"Unblock")):r.a.createElement("div",null)},a}return Object(u.a)(t,e),t}(r.a.Component),gt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){n.setState(n.props.user),n.setState({currentPhoto:0,expanded:n.props.full,isMenuOpen:!1})},n.showPreviousPhoto=function(){n.setState({currentPhoto:n.state.currentPhoto-1})},n.showNextPhoto=function(){n.props.updateVisited(n.state.login),n.setState({currentPhoto:n.state.currentPhoto+1})},n.toggleMenu=function(){n.setState(function(e){return{isMenuOpen:!e.isMenuOpen}})},n.changeFame=function(e){n.setState({fame:n.state.fame+e})},n.reportFake=function(){return N(n.state.login).then(function(){return n.setState({fake:!0})})},n.handleExpandClick=function(){return n.setState(function(e){return{expanded:!e.expanded}})},n.handleMenuClose=function(e){n.anchorEl.contains(e.target)||n.setState({isMenuOpen:!1})},n.render=function(){if(!n.state)return r.a.createElement("span",null,"Loading...");var e=n.props,t=e.classes,s=e.canRenderLikeButton,o=n.state,i=o.login,c=o.firstname,l=o.lastname,u=o.online,m=o.time,d=o.currentPhoto,p=o.gallery,f=o.avatarid,g=o.fame,h=o.age,b=o.gender,v=o.preferences,y=o.bio,E=o.interests,O=o.fake,x=o.isMenuOpen,C=p.length>0?p[f]:"avatar.png",j=p.length>0?p[d]:"avatar.png";return r.a.createElement(We.a,{className:t.card},r.a.createElement(Je.a,{avatar:r.a.createElement(Qe.a,{"aria-label":"Recipe",className:t.avatar,alt:"".concat(c," ").concat(l),src:a(56)("./".concat(C))}),action:r.a.createElement("div",null,r.a.createElement(ie.a,{buttonRef:function(e){n.anchorEl=e},onClick:n.toggleMenu},r.a.createElement(st.a,null)),r.a.createElement(nt.a,{open:x,anchorEl:n.anchorEl,transition:!0,disablePortal:!0},function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(tt.a,Object.assign({},t,{id:"menu-list-grow",style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(Q.a,null,r.a.createElement(me.a,{onClickAway:n.handleMenuClose},r.a.createElement(q.a,null,r.a.createElement($.a,null,r.a.createElement(ft,{login:i})),!O&&r.a.createElement($.a,null,r.a.createElement("div",{onClick:n.reportFake},"Report Fake"))))))})),title:"".concat(c," ").concat(l),subheader:u?"Online":"Last seen on ".concat(new Date(parseInt(m)).toLocaleString())}),r.a.createElement(_e.a,{className:t.photoContent},r.a.createElement("img",{className:t.img,src:a(56)("./".concat(j)),alt:"".concat(j)})),r.a.createElement("div",{className:t.leftRightArea},d>0&&r.a.createElement(ie.a,{onClick:n.showPreviousPhoto},r.a.createElement(it.a,null)),d<p.length-1&&r.a.createElement(ie.a,{className:t.right,onClick:n.showNextPhoto},r.a.createElement(lt.a,null))),r.a.createElement(_e.a,null,r.a.createElement(le.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Age: "),h),r.a.createElement(le.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Gender: "),b),r.a.createElement(le.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Sexual preferences: "),v)),r.a.createElement(qe.a,{className:t.actions,disableActionSpacing:!0},s?r.a.createElement(pt,{changeFame:n.changeFame,socket:n.props.socket,sender:n.props.sender,login:i,updateChatData:n.props.updateChatData}):r.a.createElement("div",{className:t.fameNote},"Fame:"),r.a.createElement("div",null,g),(E.length>0||y)&&r.a.createElement(ie.a,{className:je()(t.expand,Object(F.a)({},t.expandOpen,n.state.expanded)),onClick:n.handleExpandClick,"aria-expanded":n.state.expanded,"aria-label":"Show more"},r.a.createElement(Se.a,null))),r.a.createElement($e.a,{in:n.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(_e.a,null,E.length>0&&r.a.createElement(le.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Interests: "),E.join(", ")),y&&r.a.createElement(le.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Biography: "),y))))},n}return Object(u.a)(t,e),t}(r.a.Component),ht=Object(R.withStyles)(function(e){return{card:{margin:50,width:500,height:"100%"},photoContent:{height:500,display:"flex",justifyContent:"center",alignItems:"center"},img:{maxWidth:"100%",maxHeight:"100%"},actions:{display:"flex"},expand:Object(F.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},fameNote:{marginRight:8,fontWeight:"bold"},leftRightArea:{position:"relative",height:30},right:{position:"absolute",right:0},bold:{fontWeight:500}}})(gt),bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).componentDidMount=function(){a.props.suggestions.forEach(function(e){e.distance=a.getDistance(a.props.profile.location,e.location),e.amountOfCommonInterests=e.interests.filter(function(e){return-1!==a.props.profile.interests.indexOf(e)}).length}),a.users=a.props.suggestions,a.setState({filteredUsers:a.sort(a.filter(a.props.suggestions)),moved:!1})},a.getDistance=function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},a.sort=function(e){return"age"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.age-e.age)}):"distance"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.distance-e.distance)}):"fame"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.fame-e.fame)}):"amountOfCommonInterests"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.amountOfCommonInterests-e.amountOfCommonInterests)}):void 0},a.setSortParams=function(e,t){a.sortParam=e,a.sortOrder=t,a.setState({filteredUsers:a.sort(a.filter(a.users))})},a.filter=function(e){return e.filter(function(e){return e.age>=a.startAge&&e.age<=a.endAge&&e.distance<=a.distance&&e.fame>=a.minFameRating&&(""!==a.maxFameRating&&e.fame<=a.maxFameRating||""===a.maxFameRating)&&e.amountOfCommonInterests>=a.amountOfCommonInterests&&a.selectedInterests.every(function(t){return e.interests.includes(t)})})},a.setFilterParams=function(e){a.startAge=e.startAge,a.endAge=e.endAge,a.distance=e.distance,a.minFameRating=e.minFameRating,a.maxFameRating=e.maxFameRating,a.amountOfCommonInterests=e.amountOfCommonInterests,a.selectedInterests=e.selectedInterests,a.setState({filteredUsers:a.sort(a.filter(a.users))})},a.move=function(){return a.setState({moved:!a.state.moved})},a.users=null,a.sortParam="distance",a.sortOrder=1,a.startAge=18,a.endAge=100,a.distance=5,a.minFameRating=0,a.maxFameRating="",a.amountOfCommonInterests=0,a.selectedInterests=[],a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this;if(!this.state)return r.a.createElement("span",null,"Loading...");var t=this.props,a=t.classes,n=t.canRenderLikeButton,s=this.state,o=s.filteredUsers,i=s.moved;return r.a.createElement("div",{className:a.root},r.a.createElement(Ke,{setFilterParams:this.setFilterParams,interests:this.props.profile.allInterests,move:this.move}),r.a.createElement(Ne,{setSortParams:this.setSortParams,moved:i}),r.a.createElement("ul",{className:i?a.userList:a.moved},o.map(function(t){return r.a.createElement("li",{key:t.login},r.a.createElement(ht,{user:t,full:!1,socket:e.props.socket,sender:e.props.sender,visited:e.props.visited,updateVisited:e.props.updateVisited,updateChatData:e.props.updateChatData,canRenderLikeButton:n}))})))}}]),t}(r.a.Component),vt=Object(R.withStyles)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto",padding:"10px"},userList:{margin:0,padding:0,listStyleType:"none",transform:"translate(0px, 0px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},moved:{margin:0,padding:0,listStyleType:"none",transform:"translate(0, -430px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"}})(bt),yt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state=Object(F.a)({},a.props.name,""),a.handleChange=function(e){a.setState(Object(F.a)({},a.props.name,e.target.value)),a.props.onChange(Object(F.a)({},a.props.name,e.target.value))},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(F.a)({},this.props.name,this.props.value))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.title,s=t.items;return r.a.createElement(Fe.a,{className:a.formControl},r.a.createElement(De.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-age-simple"},n),r.a.createElement(Re.a,{value:this.state[[this.props.name]],onChange:this.handleChange,input:r.a.createElement(Ie.a,{id:"outlined-age-simple"})},s.map(function(e,t){return r.a.createElement($.a,{key:t,value:e},e)})))}}]),t}(r.a.Component),Et=Object(R.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit,minWidth:120}}})(yt),Ot=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state=Object(F.a)({},a.props.name,""),a.handleChange=function(e){a.setState(Object(F.a)({},a.props.name,e.target.value)),a.props.onChange(Object(F.a)({},a.props.name,e.target.value))},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(F.a)({},this.props.name,this.props.value))}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.placeholder,n=e.disabled;return r.a.createElement(U.a,{id:"outlined-full-width",label:t,placeholder:a,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:this.handleChange,value:this.state[this.props.name],disabled:n})}}]),t}(r.a.Component),xt=a(79),Ct=a(157),jt=a(103),wt=a(158),St=a.n(wt),kt=a(174),Nt=a(159),Pt=a.n(Nt),It=function(e){var t=e.inputProps,a=(e.handleAdding,Object(jt.a)(e,["inputProps","handleAdding"])),n=t.ref,s=Object(jt.a)(t,["ref"]);return r.a.createElement(U.a,Object.assign({InputProps:Object(Ct.a)({inputRef:n},s)},a))},At=function(e,t){var a=St()(t.trim()).toLowerCase(),n=a.length,r=0;return 0===n?[]:e.filter(function(e){var t=r<5&&e.slice(0,n).toLowerCase()===a;return t&&(r+=1),t})},Dt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:"",selectedItem:[],interests:[],suggestions:[]},a.handleKeyDown=function(e){var t=a.state,n=t.inputValue,r=t.selectedItem;r.length&&!n.length&&"backspace"===B()(e)&&a.setState({selectedItem:r.slice(0,r.length-1)}),"space"===B()(e)&&n.length&&a.handleChange(n.trim())},a.handleInputChange=function(e){var t=e.target,n=a.state.interests;a.setState({inputValue:t.value,suggestions:Object(xt.a)(At(n,t.value))})},a.handleChange=function(e){var t=a.state,n=t.interests,r=t.selectedItem;-1===r.indexOf(e)&&(r=Object(xt.a)(r).concat([e])),-1===n.indexOf(e)&&(n=Object(xt.a)(n).concat([e])),a.setState({inputValue:"",selectedItem:r,interests:n}),a.props.onChange({interests:r})},a.handleDelete=function(e){return function(){var t=a.state.selectedItem;t.splice(t.indexOf(e),1),a.setState({selectedItem:t})}},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){this.setState({selectedItem:this.props.value,interests:this.props.all})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.inputValue,s=a.selectedItem,o=a.interests,i=a.suggestions;return o?r.a.createElement(kt.a,{id:"downshift-multiple",inputValue:n,onChange:this.handleChange,selectedItem:s},function(a){var n=a.getInputProps,c=a.getItemProps,l=a.isOpen,u=a.selectedItem,m=a.highlightedIndex;return r.a.createElement("div",{className:t.container},r.a.createElement(It,{fullWidth:!0,interests:o,handleAdding:e.handleChange,inputProps:n({startAdornment:s.map(function(a,n){return r.a.createElement(Pt.a,{key:n,tabIndex:-1,label:a,className:t.chip,onDelete:e.handleDelete(a)})}),onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,placeholder:"Select multiple interests"}),label:"Interests"}),l?r.a.createElement(Q.a,{className:t.paper,square:!0},i.map(function(e,t){return function(e){var t=e.suggestion,a=e.index,n=e.itemProps,s=e.highlightedIndex===a,o=(e.selectedItem||"").indexOf(t)>-1;return r.a.createElement($.a,Object.assign({},n,{key:a,selected:s,component:"div",style:{fontWeight:o?500:400}}),t)}({suggestion:e,index:t,itemProps:c({item:e}),highlightedIndex:m,selectedItem:u})})):null)}):null}}]),t}(r.a.Component),Lt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.name,n=e.value,s=e.all,o=e.onChange;return r.a.createElement("div",{className:t.root},r.a.createElement(Dt,{classes:t,name:a,value:n,all:s,onChange:o}))}}]),t}(r.a.Component),Ft=Object(R.withStyles)(function(e){return{root:{flexGrow:1},container:{marginTop:"8px",marginBottom:"16px",flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},divider:{height:2*e.spacing.unit}}})(Lt),Tt=Object(R.withStyles)({container:{display:"flex",flexWrap:"wrap"},input:{width:"100%"}})(function(e){var t=e.classes,a=e.error;return r.a.createElement("div",{className:t.container},r.a.createElement(Ie.a,{className:t.input,error:a,inputProps:{"aria-label":"Description"},value:e.value}))}),Rt=a(160),Mt=a.n(Rt),Bt=a(162),Vt=a.n(Bt),Ut=a(161),Kt=a.n(Ut),zt=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).upload=function(e){var t=document.getElementById("file-upload");n.photoid=e,t.click()},n.makeAvatar=function(e){n.setState({avatarid:e}),h(e)},n.uploadPhoto=function(e){var t=JSON.parse(JSON.stringify(n.state.gallery)),a=new Image,r=document.createElement("canvas");a.onload=function(){r.width=a.width,r.height=a.height,r.getContext("2d").drawImage(a,0,0,r.width,r.height),null===n.photoid&&(n.photoid=t.length),g(r.toDataURL(),n.photoid).then(function(e){return e.json()}).then(function(e){n.photoid=null,t[n.photoid]=e.fileName,n.setState({gallery:t})})},a.src=window.URL.createObjectURL(e.target.files[0])},n.render=function(){if(!n.state)return r.a.createElement("span",null,"Loading...");var e=n.props.classes,t=n.state,s=t.gallery,o=t.avatarid;return r.a.createElement("div",{className:e.root},r.a.createElement(z.a,{className:s.length<5?e.customFileUpload:e.hidden,variant:"contained",color:"primary"},r.a.createElement("label",{htmlFor:"file-upload"},"UPLOAD NEW PHOTO"),r.a.createElement(Mt.a,{className:e.rightIcon})),r.a.createElement("input",{className:e.hidden,id:"file-upload",accept:".jpg, .jpeg, .png",type:"file",onChange:n.uploadPhoto}),r.a.createElement("ul",{className:e.photoList},s.map(function(t,s){return r.a.createElement(We.a,{className:e.card,key:s},r.a.createElement(_e.a,{className:e.content},r.a.createElement("img",{className:e.img,src:a(56)("./".concat(t)),alt:"".concat(t)})),r.a.createElement(qe.a,null,r.a.createElement(z.a,{size:"small",color:"default",onClick:n.upload.bind(Object(xe.a)(Object(xe.a)(n)),s)},"Replace",r.a.createElement(Kt.a,{className:e.rightIcon,color:"primary"})),o===s?r.a.createElement("span",{className:e.avatarNote},"AVATAR"):r.a.createElement(z.a,{size:"small",color:"default",onClick:n.makeAvatar.bind(Object(xe.a)(Object(xe.a)(n)),s)},"Put on avatar",r.a.createElement(Vt.a,{className:e.rightIcon,color:"primary"}))))})))},n.photoid=null,n.state={gallery:n.props.gallery,avatarid:n.props.avatarid},n}return Object(u.a)(t,e),t}(r.a.Component),Wt=Object(R.withStyles)({root:{display:"flex",flexDirection:"column",alignItems:"center"},upload:{marginTop:"15px",color:"rgba(0, 0, 0, 0.54)",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},rightIcon:{marginLeft:10},hidden:{display:"none"},photoList:{margin:0,padding:0,listStyleType:"none"},photoContainer:{margin:"50px",width:"614px"},imgContainer:{position:"relative",top:"6px"},photo:{width:"100%"},photoActions:{display:"flex",flexDirection:"column"},avatarNote:{lineHeight:"38.8px",textAlign:"center",fontWeight:500,color:"#3f51b5"},customFileUpload:{marginTop:"50px"},card:{margin:50,width:500},content:{height:500,display:"flex",justifyContent:"center",alignItems:"center"},img:{maxWidth:"100%",maxHeight:"100%"}})(zt),Ht=function(e){function t(){var e,n;Object(i.a)(this,t);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){var e=n.props,t=e.classes,s=e.user,o=s.login,i=s.firstname,c=s.lastname,l=s.gallery,u=s.avatarid,m=l.length>0?l[u]:"avatar.png";return r.a.createElement(T.a,{className:t.link,to:"/users/".concat(o),onClick:function(){return n.props.updateVisited(n.props.user.login)}},r.a.createElement("div",{className:t.root},r.a.createElement(Qe.a,{alt:"".concat(i," ").concat(c),src:a(56)("./".concat(m)),className:t.avatar}),r.a.createElement("span",{className:t.name},"".concat(i," ").concat(c))))},n}return Object(u.a)(t,e),t}(r.a.Component),Jt=Object(R.withStyles)({link:{color:"initial",textDecoration:"none","&:hover":{color:"#3f51b5"}},root:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:15},avatar:{width:60,height:60},name:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}})(Ht),Gt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){return a.props.getUserList().then(function(e){return e.json()}).then(function(e){return a.setState({users:e})})},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this;if(!this.state)return r.a.createElement("span",null,"Loading...");var t=this.props,a=t.classes,n=t.title,s=t.icon,o=this.state.users;return o.length>0?r.a.createElement("div",{className:a.root},r.a.createElement("h1",{className:a.title},r.a.createElement("span",{className:a.icon},s)," ",n),r.a.createElement("ul",{className:a.list},o.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(Jt,{user:t,visited:e.props.visited,updateVisited:e.props.updateVisited}))}))):r.a.createElement("div",null)}}]),t}(r.a.Component),_t=Object(R.withStyles)({root:{backgroundColor:"#ffffff"},icon:{color:"#3f51b5"},title:{margin:0,fontSize:12,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"normal",color:"rgba(0, 0, 0, 0.54)"},list:{display:"flex",width:"100%",marginTop:10,marginBottom:10,padding:0,listStyleType:"none"}})(Gt),Zt=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},qt=function(e){return e.length>=6&&/^[a-zA-Z]+[a-zA-Z0-9]*$/.test(String(e))},Yt=function(e){return e.length>=6&&/[a-zA-Z0-9]+/.test(String(e))},$t=function(e){return/^[a-zA-Z]+(-[a-zA-Z])?[a-zA-Z]*$/.test(String(e))},Xt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).isEmailValid=function(e){var t=Zt(e);return t||a.setState({changeStatus:"Please make sure that your email address is correct",error:!0}),t},a.validateEmpty=function(e){return""!==e||(a.setState({changeStatus:"Please fill all the fields in",error:!0}),!1)},a.isAllValid=function(){var e=!0;return e=(e=(e=(e=e&&a.validateEmpty(a.state.firstname))&&a.validateEmpty(a.state.lastname))&&a.validateEmpty(a.state.email))&&a.isEmailValid(a.state.email)},a.onSubmit=function(e){e.preventDefault(),a.isAllValid()&&f(a.state).then(function(e){a.setState({error:"error"===e.status,changeStatus:e.result}),e.suggestions&&a.props.updateSuggestions(e.suggestions),a.props.onChange(a.state)},function(e){return console.error(e)})},a.onChange=function(e){a.setState(e)},a.onAgeChange=function(e){e.target.value>=18&&e.target.value<=100&&a.setState({age:e.target.value})},a.renderChangeStatus=function(){if(a.state.changeStatus)return r.a.createElement(Tt,{value:a.state.changeStatus,error:a.state.error})},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){this.setState(this.props.value)}},{key:"render",value:function(){if(!this.state)return r.a.createElement("span",null,"Loading...");var e=this.state,t=e.firstname,a=e.lastname,n=e.email,s=e.gender,o=e.preferences,i=e.bio,c=e.age,l=e.interests,u=e.gallery,m=e.avatarid,d=this.props.classes;return r.a.createElement("div",{className:d.root},r.a.createElement(_t,{title:"Liked by",icon:"\u2665",getUserList:D,visited:this.props.visited,updateVisited:this.props.updateVisited}),r.a.createElement(_t,{title:"Checked by",icon:"\u2714",getUserList:A,visited:this.props.visited,updateVisited:this.props.updateVisited}),r.a.createElement("div",{className:d.profileDetails},this.renderChangeStatus(),r.a.createElement(Ot,{label:"First name",name:"firstname",value:t,onChange:this.onChange}),r.a.createElement(Ot,{label:"Last name",name:"lastname",value:a,onChange:this.onChange}),r.a.createElement(Ot,{label:"Email address",name:"email",value:n,validate:this.isEmailValid,onChange:this.onChange}),r.a.createElement("div",{className:d.ageInput},r.a.createElement("label",{className:d.ageLabel,htmlFor:"age"},"Age"),r.a.createElement(Ie.a,{name:"age",type:"number",value:c,onChange:this.onAgeChange})),r.a.createElement(Et,{title:"Gender",items:["male","female"],name:"gender",value:s,onChange:this.onChange}),r.a.createElement(Et,{title:"Preferences",items:["heterosexual","homosexual","bisexual"],name:"preferences",value:o,onChange:this.onChange}),r.a.createElement(Ot,{label:"Biography",placeholder:"Tell us a few words about yourself",name:"bio",value:i,onChange:this.onChange}),r.a.createElement(Ft,{name:"interests",value:l,all:this.state.allInterests,onChange:this.onChange}),r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:this.onSubmit},"Save changes")),r.a.createElement(Wt,{gallery:u,avatarid:m}))}}]),t}(r.a.Component),Qt=Object(R.withStyles)({root:{overflow:"auto",padding:"10px"},profileDetails:{display:"flex",flexDirection:"column",padding:8,backgroundColor:"#ffffff"},saveChangesButton:{padding:"8px"},ageInput:{display:"flex",flexDirection:"column",marginTop:8,marginBottom:8},ageLabel:{fontSize:"12px",color:"rgba(0, 0, 0, 0.54)"}})(Xt),ea=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.visited,s=e.socket,o=e.sender,i=e.updateVisited,c=e.updateChatData,l=e.canRenderLikeButton;return r.a.createElement("div",{className:t.root},r.a.createElement("ul",{className:t.userList},n.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(ht,{user:e,full:!1,socket:s,sender:o,updateVisited:i,updateChatData:c,canRenderLikeButton:l}))})))},a}return Object(u.a)(t,e),t}(r.a.Component),ta=Object(R.withStyles)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto"},userList:{margin:0,padding:0,listStyleType:"none"}})(ea),aa=a(100),na=a.n(aa),ra=a(101),sa=a.n(ra),oa=a(163),ia=a.n(oa),ca=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).componentDidMount=function(){a.props.socket.on("chat",function(){a.setState({typing:""})}),a.props.socket.on("typing",function(e){a.props.receiver===e.sender&&a.setState({typing:e.sender})}),a.props.socket.on("stoppedTyping",function(e){a.props.receiver===e.sender&&a.setState({typing:""})})},a.componentWillUnmount=function(){a.props.socket.off("chat"),a.props.socket.off("typing"),a.props.socket.off("stoppedTyping")},a.componentWillReceiveProps=function(){a.props.socket.emit("stoppedTyping",{sender:a.props.sender,receiver:a.props.receiver}),a.setState({message:"",typing:""})},a.changeHandler=function(e){a.props.socket.emit("typing",{sender:a.props.sender,receiver:a.props.receiver}),""===e.target.value&&a.props.socket.emit("stoppedTyping",{sender:a.props.sender,receiver:a.props.receiver}),a.setState({message:e.target.value})},a.keyPressHandler=function(e){"Enter"===e.key&&a.send()},a.send=function(){""!==a.state.message&&(a.props.socket.emit("chat",{sender:a.props.sender,receiver:a.props.receiver,message:a.state.message}),a.setState({message:""}))},a.render=function(){var e=a.state,t=e.message,n=e.typing,s=a.props,o=s.classes,i=s.sender,c=s.log;return r.a.createElement("div",{className:o.marioChat},r.a.createElement("div",{className:o.chatWindow},n&&r.a.createElement("p",{className:o.typingP},r.a.createElement("em",null,n," is typing a message...")),r.a.createElement("div",{className:o.outputPs},c.map(function(e,t){return r.a.createElement("div",{className:e.sender===i?o.outputPMine:o.outputPOther,key:t},r.a.createElement("p",{className:o.messageText},e.message),r.a.createElement("span",{className:o.messageTime},"".concat(new Date(parseInt(e.time)).toLocaleString()," ")))}))),r.a.createElement(Ie.a,{type:"text",className:o.message,value:t,placeholder:"Say something...",onChange:a.changeHandler,onKeyPress:a.keyPressHandler,disableUnderline:!0}),r.a.createElement(z.a,{className:o.send,onClick:a.send,variant:"contained",color:"primary"},"Send"))},a.state={message:"",typing:""},a}return Object(u.a)(t,e),t}(r.a.Component),la=Object(R.withStyles)(function(e){return{marioChat:{flexGrow:1,display:"flex",flexDirection:"column",width:"80%"},chatWindow:{flexGrow:1,overflow:"auto",borderBottom:"1px solid #e9e9e9"},outputPs:{display:"flex",flexDirection:"column",alignItems:"center"},outputPOther:{position:"relative",marginRight:"10%",marginTop:5,width:"80%",padding:10,display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:4,backgroundColor:"#ffffff","&:last-child":{marginBottom:5}},outputPMine:{position:"relative",marginLeft:"10%",marginTop:5,width:"80%",padding:10,display:"flex",flexDirection:"column",borderRadius:4,backgroundColor:"rgba(245, 0, 87, 0.1)","&:last-child":{marginBottom:5}},messageText:{margin:0},messageTime:{textAlign:"end",fontSize:12,color:"rgba(0, 0, 0, 0.54)"},typingP:{width:"80%",padding:10,borderRadius:4,backgroundColor:"#ffffff"},message:{width:"100%",padding:"14px",backgroundColor:"#ffffff"},send:{padding:"18px 0",width:"100%",border:"none",outline:"1px solid #e9e9e9"}}})(ca),ua=function(e){function t(){var e,n;Object(i.a)(this,t);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).render=function(){var e=n.props,t=e.classes,s=e.socket,o=e.sender,i=e.receiver,c=e.chatData,l=e.updateLog;return r.a.createElement("div",{className:t.root},r.a.createElement(na.a,{component:"nav",className:t.users},Object.keys(c).map(function(e,n){var s=c[e].gallery.length>0?c[e].gallery[c[e].avatarid]:"avatar.png";return r.a.createElement(T.a,{className:t.link,key:n,to:"/chat/".concat(e)},r.a.createElement(sa.a,{button:!0,className:e===i?t.selectedUser:t.user},r.a.createElement(Qe.a,{alt:e,src:a(56)("./".concat(s))}),r.a.createElement(ne.a,{primary:e}),c[e].online&&r.a.createElement("div",{className:t.onlineDot})),r.a.createElement(ia.a,{light:!0}))})),r.a.createElement(la,{socket:s,sender:o,receiver:i,log:c[i].log,updateLog:l,updateMessage:n.updateMessage}))},n}return Object(u.a)(t,e),t}(r.a.Component),ma=Object(R.withStyles)(function(e){return{root:{flexGrow:1,display:"flex",flexDirection:"row",overflow:"hidden"},link:{textDecoration:"none"},users:{width:"20%",padding:"unset",borderRight:"1px solid rgba(0, 0, 0, 0.08)"},user:{padding:5},selectedUser:{padding:5,backgroundColor:"rgba(0, 0, 0, 0.08)"},onlineDot:{marginRight:5,width:5,height:5,borderRadius:"100%",backgroundColor:"#3f51b5"}}})(ua),da=a(164),pa=a.n(da),fa=a(165),ga=a.n(fa),ha=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.message,s=e.close,o=e.index;return r.a.createElement(pa.a,{className:t.notification,"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},n),action:[r.a.createElement(ie.a,{className:t.close,key:"close","aria-label":"Close",color:"inherit",onClick:s.bind(Object(xe.a)(Object(xe.a)(a)),o)},r.a.createElement(ga.a,{className:t.icon}))]})},a}return Object(u.a)(t,e),t}(r.a.Component),ba=Object(R.withStyles)({notification:{padding:0,paddingLeft:"20px",paddingRight:"10px",backgroundColor:"#f50057"},message:{display:"flex",alignItems:"center"},close:{padding:"5px"}})(ha),va=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.messages,s=e.closeNotification;return r.a.createElement("div",{className:t.root},n.map(function(e,t){return r.a.createElement(ba,{message:e,key:t,close:s,index:t})}))},a}return Object(u.a)(t,e),t}(r.a.Component),ya=Object(R.withStyles)({root:{position:"fixed",right:0,top:0,display:"flex",flexDirection:"column",zIndex:2e3}})(va),Ea=function(e){return r.a.createElement(le.a,{style:{flexGrow:1,display:"flex",flexDirection:"column"},component:"div"},e.children)},Oa=null,xa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={tabid:0,profile:null,notifications:[],showMenu:!1,tabName:"Suggestions",chatData:null,suggestions:null},a.ipLookUp=function(){fetch("http://ip-api.com/json",{method:"POST"}).then(function(e){return e.json()}).then(function(e){return b([e.lat,e.lon])}).catch(function(e){return console.error(e)})},a.getLocation=function(e){navigator.geolocation.getCurrentPosition(function(e){return b([e.coords.latitude,e.coords.longitude])},function(){return a.ipLookUp(e)})},a.addNotification=function(e){var t=a.state.notifications;t.push(e),a.setState({notifications:t})},a.addSocketEventListeners=function(){Oa.on("like",function(e){return a.addNotification("".concat(e.sender," has just liked you"))}),Oa.on("check",function(e){return a.addNotification("".concat(e.sender," has just checked your profile"))}),Oa.on("chat",function(e){var t,n=a.state.chatData;e.sender!==a.state.profile.login?(t=e.sender,a.addNotification("".concat(t," has sent you a message"))):t=e.receiver,n[t].log.unshift(e),a.setState({chatData:n})}),Oa.on("likeBack",function(e){a.addNotification("".concat(e.data.sender," has just liked you back!")),a.updateChatData(e.chatData)}),Oa.on("unlike",function(e){a.addNotification("Unfortunately ".concat(e.data.sender," has disconnected from you")),a.updateChatData(e.chatData)})},a.onProfileChange=function(e){a.setState({profile:e})},a.signout=function(){E().then(function(){return a.setState({profile:"signin"})})},a.updateSuggestions=function(e){return a.setState({suggestions:e})},a.updateChatData=function(e){return a.setState({chatData:e})},a.updateLog=function(e,t){var n=a.state.chatData;n[e].log=t,a.setState({chatData:n})},a.updateVisited=function(e){a.state.visited.map(function(e){return e.login}).includes(e)||k(e).then(function(t){Oa.emit("check",{sender:a.state.profile.login,receiver:e}),a.setState({visited:t})})},a.closeNotification=function(e){var t=a.state.notifications;t.splice(e,1),a.setState({notifications:t})},a.showMenu=function(){return a.setState({showMenu:!a.state.showMenu})},a.changeTabName=function(e){return a.setState({tabName:e,showMenu:!1})},a.handleMenuClose=function(e){a.anchorEl.contains(e.target)||a.setState({showMenu:!1})},a.render=function(){var e=window.location.pathname.split("/")[1];if(""===(e=e.charAt(0).toUpperCase()+e.slice(1))&&(e="Suggestions"),!a.state.profile||!a.state.chatData||!a.state.suggestions||!a.state.visited)return r.a.createElement("span",null,"Loading...");if("signin"===a.state.profile)return r.a.createElement(wa,null);var t=a.props.classes,n=a.state,s=n.profile,o=n.profile,i=o.login,c=o.canRenderLikeButton,l=n.notifications,u=n.showMenu,m=n.chatData,p=n.suggestions,f=n.visited;return r.a.createElement("div",{className:t.root},r.a.createElement(ya,{messages:l,closeNotification:a.closeNotification}),r.a.createElement(_.a,{position:"static",className:t.appBar},r.a.createElement(se.a,null,r.a.createElement(ie.a,{className:t.menuButton,color:"inherit","aria-label":"Menu",buttonRef:function(e){a.anchorEl=e},onClick:a.showMenu},r.a.createElement(Oe.a,null)),r.a.createElement(le.a,{variant:"h6",color:"inherit",className:t.grow},e),r.a.createElement(z.a,{color:"inherit",onClick:a.signout},"Log out"))),r.a.createElement(me.a,{onClickAway:a.handleMenuClose},r.a.createElement(Q.a,{className:u?t.appMenu:t.appMenuHidden},r.a.createElement(q.a,null,r.a.createElement($.a,{className:t.menuItem,component:T.a,to:"/",onClick:function(){return a.changeTabName("Suggestions")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(be.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Suggestions"})),r.a.createElement($.a,{className:t.menuItem,component:T.a,to:"/profile",onClick:function(){return a.changeTabName("Profile")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(ye.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Profile"})),Object.keys(m).length>0&&r.a.createElement($.a,{className:t.menuItem,component:T.a,to:"/chat/".concat(Object.keys(m)[0]),onClick:function(){return a.changeTabName("Chat")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(pe.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Chat"})),r.a.createElement($.a,{className:t.menuItem,component:T.a,to:"/visited",onClick:function(){return a.changeTabName("Visited")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(ge.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Visited"}))))),r.a.createElement("div",{className:t.appContent},r.a.createElement(d.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Ea,null,r.a.createElement(vt,{socket:Oa,sender:i,profile:s,visited:f,updateVisited:a.updateVisited,suggestions:p,updateChatData:a.updateChatData,canRenderLikeButton:c}))}}),r.a.createElement(d.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(Ea,null,r.a.createElement(Qt,{name:"profile",value:s,onChange:a.onProfileChange,editable:!0,visited:f,updateVisited:a.updateVisited,updateSuggestions:a.updateSuggestions}))}}),Object.keys(m).length>0&&r.a.createElement(d.a,{exact:!0,path:"/chat",render:function(){return r.a.createElement(Ea,null,r.a.createElement(ma,{socket:Oa,sender:i,receiver:Object.keys(m)[0],chatData:m,updateLog:a.updateLog}))}}),Object.keys(m).length>0&&r.a.createElement(d.a,{exact:!0,path:"/chat/:receiver",render:function(e){var t=e.match;return Object.keys(m).includes(t.params.receiver)?r.a.createElement(Ea,null,r.a.createElement(ma,{socket:Oa,sender:i,receiver:t.params.receiver,chatData:m,updateLog:a.updateLog})):r.a.createElement("span",null,"Chat user not found")}}),r.a.createElement(d.a,{exact:!0,path:"/users/:login",render:function(e){var n=e.match,s=p.indexOf(p.find(function(e){return n.params.login===e.login}));return-1!==s?r.a.createElement(Ea,null,r.a.createElement("div",{className:t.singleUserContainer},r.a.createElement(ht,{user:p[s],socket:Oa,sender:i,full:!0,visited:f,updateVisited:a.updateVisited,updateChatData:a.updateChatData,canRenderLikeButton:c}))):r.a.createElement("span",null,"User not found")}}),r.a.createElement(d.a,{exact:!0,path:"/visited",render:function(){return r.a.createElement(Ea,null,r.a.createElement(ta,{socket:Oa,sender:i,visited:f,updateVisited:a.updateVisited,updateChatData:a.updateChatData,canRenderLikeButton:c}))}})))},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("/getUserProfile",{method:"POST"}).then(function(e){return p(e,"getUserProfile error")}).then(function(t){Oa=J()({query:"login=".concat(t.user.login)}),e.addSocketEventListeners(),e.setState({profile:{firstname:t.user.firstname,lastname:t.user.lastname,login:t.user.login,email:t.user.email,age:t.user.age,gender:t.user.gender,preferences:t.user.preferences,bio:t.user.bio,interests:t.user.interests,gallery:t.user.gallery,avatarid:t.user.avatarid,location:t.user.location,allInterests:t.allInterests,changeStatus:null,error:!1,canRenderLikeButton:t.user.gallery.length>0}}),e.getLocation(t.user.id)},function(){return e.setState({profile:"signin"})}),fetch("/getChatData",{method:"POST"}).then(function(e){return p(e,"getChatData error")}).then(function(t){return e.setState({chatData:t})},function(e){return console.error(e)}),fetch("/getSuggestions",{method:"POST"}).then(function(e){return p(e,"getSuggestions error")}).then(function(t){return e.setState({suggestions:t})},function(e){return console.error(e)}),fetch("/getVisited",{method:"POST"}).then(function(e){return p(e,"getVisited error")}).then(function(t){return e.setState({visited:t})},function(e){return console.error(e)})])}}]),t}(r.a.Component),Ca=Object(R.withStyles)(function(e){return{root:{display:"flex",flexDirection:"column",width:"100%",minWidth:"568px",height:"100vh",backgroundColor:"#eeeeee"},appBar:{backgroundColor:"#3f51b5"},appMenu:{position:"fixed",width:200,height:"100%",zIndex:2e3,transform:"translate(0px, 0px)",transition:"transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms"},appMenuHidden:{position:"fixed",width:200,height:"100%",zIndex:2e3,transform:"translate(-200px, 0px)",transition:"transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms"},appContent:{flexGrow:1,display:"flex",flexDirection:"column"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},singleUserContainer:{display:"flex",justifyContent:"center",overflow:"auto"}}})(xa),ja=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={login:"",password:"",message:"",main:!1},a.handleKeyPress=function(e){"enter"===B()(e)&&a.signin()},a.handleChange=function(e){return function(t){a.setState(Object(F.a)({},e,t.target.value))}},a.signin=function(){""===a.state.login||""===a.state.password?a.setState({message:"Please fill all the fields in"}):(a.setState({message:""}),y(a.state.login,a.state.password).then(function(e){"success"===e.status?a.setState({main:!0}):a.setState({message:e.result})}))},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(U.a,{className:a.props.classes.textField,error:!0,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return a.state.main?r.a.createElement(Ca,null):r.a.createElement("div",{className:e.root},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},a.renderMessage(),r.a.createElement(U.a,{label:"Login",className:e.textField,onChange:a.handleChange("login"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.login}),r.a.createElement(U.a,{label:"Password",className:e.textField,onChange:a.handleChange("password"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.password,type:"password"}),r.a.createElement(z.a,{className:e.button,onClick:a.signin},"Sign In"),r.a.createElement(T.a,{to:"/signup"},"Sign Up"),r.a.createElement(T.a,{to:"/forgot-password"},"Forgot Password?")))},a}return Object(u.a)(t,e),t}(r.a.Component),wa=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(ja),Sa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={page:null},a.componentDidMount=function(){v().then(function(e){return e.json()}).then(function(e){return a.setState({page:e.result})})},a.render=function(){return a.state.page?"signin"===a.state.page?r.a.createElement(wa,null):r.a.createElement(Ca,null):r.a.createElement("span",null,"Loading...")},a}return Object(u.a)(t,e),t}(n.Component),ka=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",login:"",password:"",passwordConfirm:"",firstname:"",lastname:"",error:!1,message:""},a.handleKeyPress=function(e){"enter"===B()(e)&&a.signup()},a.handleChange=function(e){return function(t){a.setState(Object(F.a)({},e,t.target.value))}},a.signup=function(){""===a.state.email||""===a.state.login||""===a.state.password||""===a.state.passwordConfirm||""===a.state.firstname||""===a.state.lastname?a.setState({error:!0,message:"Please fill all the fields in"}):Zt(a.state.email)?qt(a.state.login)?Yt(a.state.password)?a.state.password!==a.state.passwordConfirm?a.setState({error:!0,message:"Invalid password confirm"}):$t(a.state.firstname)?$t(a.state.lastname)?(a.setState({message:""}),O(a.state.email,a.state.login,a.state.password,a.state.firstname,a.state.lastname).then(function(e){return a.setState({error:"error"===e.status,message:e.result})})):a.setState({error:!1,message:"Invalid last name"}):a.setState({error:!0,message:"Invalid first name"}):a.setState({error:!0,message:"Invalid password"}):a.setState({error:!0,message:"Invalid login"}):a.setState({error:!0,message:"Invalid email address"})},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(U.a,{className:a.props.classes.textField,error:a.state.error,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},a.renderMessage(),r.a.createElement(U.a,{label:"Email",className:e.textField,onChange:a.handleChange("email"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.email}),r.a.createElement(U.a,{label:"Login",className:e.textField,onChange:a.handleChange("login"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.login}),r.a.createElement(U.a,{label:"Password",className:e.textField,onChange:a.handleChange("password"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.password,type:"password"}),r.a.createElement(U.a,{label:"Confirm your password",className:e.textField,onChange:a.handleChange("passwordConfirm"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.passwordConfirm,type:"password"}),r.a.createElement(U.a,{label:"First name",className:e.textField,onChange:a.handleChange("firstname"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.firstname}),r.a.createElement(U.a,{label:"Last name",className:e.textField,onChange:a.handleChange("lastname"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.lastname}),r.a.createElement(z.a,{className:e.button,onClick:a.signup},"Sign Up"),r.a.createElement(T.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Na=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(ka),Pa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",message:"",error:!1},a.handleKeyPress=function(e){"enter"===B()(e)&&a.getResetPasswordEmail()},a.handleChange=function(e){a.setState({email:e.target.value})},a.getResetPasswordEmail=function(){""===a.state.email?a.setState({message:"Please fill in your email",error:!0}):(a.setState({message:""}),x(a.state.email).then(function(e){return a.setState({error:"error"===e.status,message:e.result})}))},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(U.a,{className:a.props.classes.textField,error:a.state.error,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},a.renderMessage(),r.a.createElement(U.a,{label:"Email",className:e.textField,onChange:a.handleChange,onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.email}),r.a.createElement(z.a,{className:e.button,onClick:a.getResetPasswordEmail},"Get reset password email"),r.a.createElement(T.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Ia=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(Pa),Aa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={password:"",passwordConfirm:"",error:!1,message:""},a.componentDidMount=function(){a.setState({email:a.props.email})},a.handleKeyPress=function(e){"enter"===B()(e)&&a.resetPassword()},a.handleChange=function(e){return function(t){a.setState(Object(F.a)({},e,t.target.value))}},a.resetPassword=function(){""===a.state.password||""===a.state.passwordConfirm?a.setState({error:!0,message:"Please fill all the fields in"}):Yt(a.state.password)?a.state.password!==a.state.passwordConfirm?a.setState({error:!0,message:"Invalid password confirm"}):C(a.state.password,a.state.email).then(function(e){return e.json()}).then(function(e){return a.setState({error:!1,message:e.result})}):a.setState({error:!0,message:"Invalid password"})},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(U.a,{className:a.props.classes.textField,error:a.state.error,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},a.renderMessage(),r.a.createElement(U.a,{label:"Password",className:e.textField,onChange:a.handleChange("password"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.password,type:"password"}),r.a.createElement(U.a,{label:"Confirm your password",className:e.textField,onChange:a.handleChange("passwordConfirm"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.passwordConfirm,type:"password"}),r.a.createElement(z.a,{className:e.button,onClick:a.resetPassword},"Change password"),r.a.createElement(T.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Da=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(Aa),La=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},r.a.createElement("span",null,"Your link for reseting the password has expired. Please re-initiate the process of password reseting."),r.a.createElement(T.a,{to:"/forgot-password"},"Forgot Password?"),r.a.createElement(T.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Fa=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(La),Ta=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={page:null},a.componentDidMount=function(){if(""===a.props.location.search)a.props.history.push("/");else{var e=a.props.location.search.split("&");2!==e.length?a.props.history.push("/"):(0===e[0].indexOf("?email=")&&0===e[1].indexOf("hash=")||a.props.history.push("/"),a.setState({email:e[0].substring(7)}),j(e[0].substring(7),e[1].substring(5)).then(function(e){return e.json()}).then(function(e){return a.setState({page:e.result})}))}},a.render=function(){return a.state.page?"reset-password"===a.state.page?r.a.createElement(Da,{email:a.state.email}):r.a.createElement(Fa,null):r.a.createElement("span",null,"Loading...")},a}return Object(u.a)(t,e),t}(n.Component),Ra=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){if(""===a.props.location.search)a.setState({status:"error",result:"Invalid account activation link"});else{var e=a.props.location.search.split("&");2!==e.length?a.setState({status:"error",result:"Invalid account activation link"}):(0===e[0].indexOf("?email=")&&0===e[1].indexOf("hash=")||a.setState({status:"error",result:"Invalid account activation link"}),a.setState({email:e[0].substring(7)}),L(e[0].substring(7),e[1].substring(5)).then(function(e){return a.setState(e)}))}},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props.classes,t=a.state,n=t.status,s=t.result;return r.a.createElement("div",{className:e.root},r.a.createElement(U.a,{className:e.textField,error:"error"===n,disabled:!0,value:s}),r.a.createElement(T.a,{className:e.link,to:"/"},"Home"))},a}return Object(u.a)(t,e),t}(r.a.Component),Ma=Object(R.withStyles)(function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},textField:{margin:8,width:500},link:{margin:8}}})(Ra);window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0;var Ba=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(d.a,{exact:!0,path:"/signup",component:Na}),r.a.createElement(d.a,{exact:!0,path:"/forgot-password",component:Ia}),r.a.createElement(d.a,{exact:!0,path:"/reset-password",component:Ta}),r.a.createElement(d.a,{exact:!0,path:"/confirm",component:Ma}),r.a.createElement(d.a,{path:"/",component:Sa})))},a}return Object(u.a)(t,e),t}(n.Component);o.a.render(r.a.createElement(Ba,null),document.getElementById("root"))},56:function(e,t,a){var n={"./01ec2849919b04877f3483e6e2adb31efe89af8e1547036796588.png":348,"./130185a86463ed79163e7e009540077876fda1d81547139973416.png":349,"./14a04121dfbd3b7da14f54e14a238744d4d30b861547140480123.png":350,"./1843430e18ed75f066f83f367a5382ff1cbfbf371547140267047.png":351,"./226fa6d05014356d068b1d8004b28314ea66912a1547036783924.png":352,"./32b513a4feb7144af39fcfea99907b0d4f3231ad1547036806890.png":353,"./3e0a670fdea5bb80750eec85850e2c5ea59c26e21547141459910.png":354,"./52c141e4429d9045ad28c7f36a9adfd566f6dd511547037788610.png":355,"./557230b3ff04416ee817074f676f0f895eeb0a7e.png":356,"./5764cc2b98cf14423141e4f6fcdaf6acbb86bbf21547139586017.png":357,"./5b200c7e3df3f073f9c9e5d56dd93c503cbc48c01547141360492.png":358,"./625c8ab483bee63025feac89f567b09c7d88c1b4.png":359,"./66dd581b0054cf1d1c43365a96bd228cd946ded9.png":360,"./68117c44a141e4e61a54a45f7890aa8c4d043c701547138980076.png":361,"./68d68ba66d7f240ca5f8cc0884286c6eea0381a6.png":362,"./6a26b13d80a29a0ffcc13b860818cdf531b1d8541547138691477.png":363,"./74ba0ff081d29c019bfd4878a63a3b18ea8c987f.png":364,"./988016fbfeacded1238e698627335deca75c35081547036792804.png":365,"./9a133f3755e0c136edf73e5cb380ee24701f63671547140337273.png":366,"./9f2083844cccdc07d02beaaa25f7f1a3044c21fd.png":367,"./a420842ea6f8613d0c6366f0b4e072214c1efadd1547141450015.png":368,"./afeb5636b6c0575f6a8a5ce8e335940855354c121547037793368.png":369,"./avatar.png":370,"./b3c41fb1447f726a01a559bdf758d6a84c904e83.png":371,"./b4cdb2ded155986fbc9967aec489620c5910a7ce1547142098720.png":372,"./be5f8cc0935468699803f78102663212d4e13829.png":373,"./bf634a744b8482542cb4a3c1c39b03dd7fa147081547037783591.png":374,"./c5f445430974278275fcc9953fb44b82efa9d15d1547138654264.png":375,"./c74c9856cd37aa264928aa81b2919b93b6f571ec1547141437716.png":376,"./dbba244940e8546c3525c6ce2076980e88b4f3c51547141371878.png":377,"./df18ca366ebe1f1e02a5c870d03a55d82cb4dde2.png":378,"./e5dbb143bd1e7bb0c33a009b09574f9ccb55622f1547138783422.png":379,"./f1c82b33d57cd286a8dc7e85a97ccd2cf506750a1547146089886.png":380,"./f2a89f105ba13e8bf0b9c8c882cfba1eb12b9ae01547140493098.png":381};function r(e){var t=s(e);return a(t)}function s(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=56}},[[175,2,1]]]);
//# sourceMappingURL=main.19edaa28.chunk.js.map