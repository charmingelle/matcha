(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t,a){e.exports=a(381)},201:function(e,t){},381:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),o=a.n(s),i=a(5),l=a(7),c=a(6),u=a(8),m=a(383),p=a(384),d=function(e,t){if(e.ok)return e.json();throw new Error(t)},f=function(e){return fetch("/saveUserProfile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return d(e,"saveUserProfile error")})},g=function(e,t){return fetch("/saveUserPhoto",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({photo:e,photoid:t})})},h=function(e){return fetch("/setAvatar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatarid:e})})},b=function(e){return fetch("/saveLocation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:e})})},v=function(){return fetch("/signinOrMain",{method:"POST"})},y=function(e,t){return fetch("/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,password:t})}).then(function(e){return d(e,"signin error")})},E=function(){return fetch("/signout",{method:"POST"})},O=function(e,t,a,n,r){return fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,login:t,password:a,firstname:n,lastname:r})}).then(function(e){return d(e,"signup error")})},C=function(e){return fetch("/getResetPasswordEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(function(e){return d(e,"getResetPasswordEmail error")})},j=function(e,t){return fetch("/resetPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})})},x=function(e,t){return fetch("/resetPasswordOrExpired",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,hash:t})})},w=function(e){return fetch("/getLikeStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e})})},S=function(e,t){return fetch("/changeLikeStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,canLike:t})})},k=function(e){return fetch("/saveVisited",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visited:e})}).then(function(e){return d(e,"saveVisited error")})},N=function(e){return fetch("/reportFake",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e})})},P=function(e){return fetch("/getBlockStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e})})},I=function(e,t){return fetch("/changeBlockStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,canBlock:t})})},A=function(){return fetch("/getCheckedBy",{method:"POST"})},D=function(){return fetch("/getLikedBy",{method:"POST"})},L=function(e,t){return fetch("/activateAccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,hash:t})}).then(function(e){return d(e,"activateAccount error")})},F=a(14),T=a(382),R=a(9),M=a(25),B=a.n(M),V=a(22),U=a.n(V),K=a(23),z=a.n(K),W=a(31),J=a(143),H=a.n(J),G=a(162),Z=a.n(G),_=a(56),q=a.n(_),Y=a(30),$=a.n(Y),X=a(35),Q=a.n(X),ee=a(57),te=a.n(ee),ae=a(39),ne=a.n(ae),re=a(163),se=a.n(re),oe=a(29),ie=a.n(oe),le=a(32),ce=a.n(le),ue=a(72),me=a.n(ue),pe=a(167),de=a.n(pe),fe=a(168),ge=a.n(fe),he=a(165),be=a.n(he),ve=a(166),ye=a.n(ve),Ee=a(164),Oe=a.n(Ee),Ce=a(20),je=a(10),xe=a.n(je),we=a(70),Se=a.n(we),ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){a.setState({age:!1,distance:!0,fame:!1,amountOfCommonInterests:!1,selected:"distance"})},a.getOrder=function(e){return!1===a.state[e]?-1:1},a.sortBy=function(e){var t;a.props.setSortParams(e,a.getOrder(e)),a.setState((t={},Object(F.a)(t,e,!a.state[e]),Object(F.a)(t,"selected",e),t))},a.renderSortButton=function(e){var t=a.props.classes,n=a.state.selected;return r.a.createElement(ie.a,{className:xe()(t.expand,Object(F.a)({},t.expandOpen,a.state[e]),Object(F.a)({},t.selected,n===e)),onClick:a.sortBy.bind(Object(Ce.a)(Object(Ce.a)(a)),e),"aria-expanded":a.state[e],"aria-label":"Sort"},r.a.createElement(Se.a,null))},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props,t=e.classes,n=e.moved;return r.a.createElement("div",{className:n?t.root:t.moved},r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"Sort by age"),a.renderSortButton("age")),r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"distance"),a.renderSortButton("distance")),r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"fame"),a.renderSortButton("fame")),r.a.createElement("div",null,r.a.createElement("span",{className:t.span},"common interests amount"),a.renderSortButton("amountOfCommonInterests")))},a}return Object(u.a)(t,e),t}(r.a.Component),Ne=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",padding:3,backgroundColor:"#ffffff",transform:"translate(0px, 0px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},moved:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",padding:3,backgroundColor:"#ffffff",transform:"translate(0, -430px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},span:{color:"rgba(0, 0, 0, 0.54)"},expand:Object(F.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},selected:{color:"#3f51b5"}}})(ke),Pe=a(26),Ie=a.n(Pe),Ae=a(54),De=a.n(Ae),Le=a(53),Fe=a.n(Le),Te=a(55),Re=a.n(Te),Me=a(145),Be=a.n(Me),Ve={PaperProps:{style:{maxHeight:224,width:250}}},Ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){a.setState({startAge:18,endAge:100,distance:5,minFameRating:0,maxFameRating:"",amountOfCommonInterests:0,selectedInterests:[],expanded:!1})},a.changeParam=function(e,t,n,r){r.target.value>=t&&(!n||r.target.value<=n)&&a.setState(Object(F.a)({},e,r.target.value))},a.filter=function(){a.state.expanded&&a.props.setFilterParams(a.state),a.setState({expanded:!a.state.expanded}),a.props.move()},a.handleInterestsChange=function(e){a.setState({selectedInterests:e.target.value})},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props,t=e.classes,n=e.interests,s=a.state,o=s.startAge,i=s.endAge,l=s.distance,c=s.minFameRating,u=s.maxFameRating,m=s.amountOfCommonInterests,p=s.selectedInterests,d=s.expanded;return r.a.createElement("div",{className:d?t.root:t.hidden},r.a.createElement("div",{className:t.ageFilter},r.a.createElement("div",null,r.a.createElement("label",{className:t.labelAll,htmlFor:"startAge"},"Start Age ",r.a.createElement("span",{className:t.spanSpecial},o))),r.a.createElement("div",{className:t.ageInputBlock},r.a.createElement("span",{className:t.spanAll},"18"),r.a.createElement("input",{className:t.slider,type:"range",name:"startAge",min:"18",max:"100",step:"1",value:o,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"startAge",18,100)}),r.a.createElement("span",{className:t.spanAll},"100")),r.a.createElement("div",null,r.a.createElement("label",{className:t.labelAll,htmlFor:"endAge"},"End Age ",r.a.createElement("span",{className:t.spanSpecial},i))),r.a.createElement("div",{className:t.ageInputBlock},r.a.createElement("span",{className:t.spanAll},"18"),r.a.createElement("input",{className:t.slider,type:"range",name:"endAge",min:"18",max:"100",step:"1",value:i,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"endAge",18,100)}),r.a.createElement("span",{className:t.spanAll},"100"))),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"distance"},"Maximum distance (km)"),r.a.createElement(Ie.a,{name:"distance",type:"number",value:l,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"distance",0,null)})),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"minFame"},"Minimum fame"),r.a.createElement(Ie.a,{name:"minFame",type:"number",value:c,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"minFameRating",0,null)})),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"maxFame"},"Maximum fame"),r.a.createElement(Ie.a,{name:"maxFame",type:"number",value:u,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"maxFameRating",0,null)})),r.a.createElement("div",{className:t.filter},r.a.createElement("label",{className:t.labelAll,htmlFor:"amountOfCommonInterests"},"Common interests amount"),r.a.createElement(Ie.a,{name:"amountOfCommonInterests",type:"number",value:m,onChange:a.changeParam.bind(Object(Ce.a)(Object(Ce.a)(a)),"amountOfCommonInterests",0,null)})),r.a.createElement(Fe.a,{className:t.formControl},r.a.createElement(De.a,{shrink:!0,htmlFor:"select-multiple-checkbox"},"Interests"),r.a.createElement(Re.a,{multiple:!0,value:p,onChange:a.handleInterestsChange,input:r.a.createElement(Ie.a,{id:"select-multiple-checkbox"}),renderValue:function(e){return e.join(", ")},MenuProps:Ve},n.map(function(e){return r.a.createElement($.a,{key:e,value:e},r.a.createElement(Be.a,{checked:p.indexOf(e)>-1}),r.a.createElement(ne.a,{primary:e}))}))),r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:a.filter},"Filter"))},a}return Object(u.a)(t,e),t}(r.a.Component),Ke=Object(R.withStyles)({root:{width:"100%",display:"flex",flexDirection:"column",padding:8,backgroundColor:"#ffffff",transform:"translate(0px, 0px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},hidden:{width:"100%",display:"flex",flexDirection:"column",padding:8,backgroundColor:"#ffffff",transform:"translate(0, -430px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},ageFilter:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:8},ageInputBlock:{display:"flex",alignItems:"center",width:300,height:40},filter:{display:"flex",flexDirection:"column",marginBottom:8},formControl:{marginBottom:8},slider:{WebkitAppearance:"none",width:"100%",background:"transparent","&:focus":{outline:"none"},"&::-webkit-slider-thumb":{WebkitAppearance:"none",height:"36px",width:"16px",borderRadius:"4px",background:"#ffffff",cursor:"pointer",marginTop:"-14px",boxShadow:"1px 1px 1px rgba(0, 0, 0, 0.7), 0px 0px 1px rgba(0, 0, 0, 0.7)"},"&::-webkit-slider-runnable-track":{width:"100%",height:"8.4px",cursor:"pointer",background:"#3f51b5",borderRadius:"4px"}},labelAll:{fontSize:"12px",color:"rgba(0, 0, 0, 0.54)"},spanAll:{color:"rgba(0, 0, 0, 0.54)"},spanSpecial:{color:"#3f51b5"}})(Ue),ze=a(71),We=a.n(ze),Je=a(147),He=a.n(Je),Ge=a(49),Ze=a.n(Ge),_e=a(73),qe=a.n(_e),Ye=a(152),$e=a.n(Ye),Xe=a(48),Qe=a.n(Xe),et=a(95),tt=a.n(et),at=a(149),nt=a.n(at),rt=a(148),st=a.n(rt),ot=a(150),it=a.n(ot),lt=a(151),ct=a.n(lt),ut=a(146),mt=a.n(ut),pt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){return w(a.props.login).then(function(e){return e.json()}).then(function(e){return a.setState({canLike:e.canLike})})},a.changeLikeStatus=function(){return S(a.props.login,a.state.canLike).then(function(e){return e.json()}).then(function(e){a.state.canLike?a.props.socket.emit("like",{sender:a.props.sender,receiver:a.props.login}):a.props.socket.emit("unlike",{sender:a.props.sender,receiver:a.props.login}),a.props.changeFame(e.step),a.props.updateChatData(e.chatData),a.setState({canLike:!a.state.canLike})})},a.render=function(){if(!a.state)return r.a.createElement("div",null);var e=a.props.classes;return r.a.createElement(ie.a,{"aria-label":"Like",onClick:a.changeLikeStatus},r.a.createElement(mt.a,{className:a.state.canLike?e.unset:e.red}))},a}return Object(u.a)(t,e),t}(r.a.Component),dt=Object(R.withStyles)({unset:{color:"unset"},red:{color:"#3f51b5"}})(pt),ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){return P(a.props.login).then(function(e){return e.json()}).then(function(e){return a.setState({canBlock:e.canBlock})})},a.changeBlockStatus=function(){return I(a.props.login,a.state.canBlock).then(function(){return a.setState({canBlock:!a.state.canBlock})})},a.render=function(){return a.state?r.a.createElement("div",{variant:"outlined",onClick:a.changeBlockStatus},a.state.canBlock?r.a.createElement("span",null,"Block"):r.a.createElement("span",null,"Unblock")):r.a.createElement("div",null)},a}return Object(u.a)(t,e),t}(r.a.Component),gt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){a.setState(a.props.user),a.setState({currentPhoto:0,expanded:a.props.full,isMenuOpen:!1})},a.showPreviousPhoto=function(){return a.setState({currentPhoto:a.state.currentPhoto-1})},a.showNextPhoto=function(){a.props.updateVisited(a.state.login),a.setState({currentPhoto:a.state.currentPhoto+1})},a.toggleMenu=function(){return a.setState(function(e){return{isMenuOpen:!e.isMenuOpen}})},a.changeFame=function(e){return a.setState({fame:a.state.fame+e})},a.reportFake=function(){return N(a.state.login).then(function(){return a.setState({fake:!0})})},a.handleExpandClick=function(){return a.setState(function(e){return{expanded:!e.expanded}})},a.handleMenuClose=function(e){a.anchorEl.contains(e.target)||a.setState({isMenuOpen:!1})},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props,t=e.classes,n=e.canRenderLikeButton,s=a.state,o=s.login,i=s.firstname,l=s.lastname,c=s.online,u=s.time,m=s.currentPhoto,p=s.gallery,d=s.avatarid,f=s.fame,g=s.age,h=s.gender,b=s.preferences,v=s.bio,y=s.interests,E=s.fake,O=s.isMenuOpen,C=p.length>0?p[d]:"avatar.png",j=p.length>0?p[m]:"avatar.png";return r.a.createElement(We.a,{className:t.card},r.a.createElement(He.a,{avatar:r.a.createElement(Qe.a,{"aria-label":"Recipe",className:t.avatar,alt:"".concat(i," ").concat(l),src:"/".concat(C)}),action:r.a.createElement("div",null,r.a.createElement(ie.a,{buttonRef:function(e){a.anchorEl=e},onClick:a.toggleMenu},r.a.createElement(st.a,null)),r.a.createElement(nt.a,{open:O,anchorEl:a.anchorEl,transition:!0,disablePortal:!0},function(e){var t=e.TransitionProps,n=e.placement;return r.a.createElement(tt.a,Object.assign({},t,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(Q.a,null,r.a.createElement(me.a,{onClickAway:a.handleMenuClose},r.a.createElement(q.a,null,r.a.createElement($.a,null,r.a.createElement(ft,{login:o})),!E&&r.a.createElement($.a,null,r.a.createElement("div",{onClick:a.reportFake},"Report Fake"))))))})),title:"".concat(i," ").concat(l),subheader:c?"Online":"Last seen on ".concat(new Date(parseInt(u)).toLocaleString())}),r.a.createElement(Ze.a,{className:t.photoContent},r.a.createElement("img",{className:t.img,src:"/".concat(j),alt:"".concat(j)})),r.a.createElement("div",{className:t.leftRightArea},m>0&&r.a.createElement(ie.a,{onClick:a.showPreviousPhoto},r.a.createElement(it.a,null)),m<p.length-1&&r.a.createElement(ie.a,{className:t.right,onClick:a.showNextPhoto},r.a.createElement(ct.a,null))),r.a.createElement(Ze.a,null,r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Age: "),g),r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Gender: "),h),r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Sexual preferences: "),b)),r.a.createElement(qe.a,{className:t.actions,disableActionSpacing:!0},n?r.a.createElement(dt,{changeFame:a.changeFame,socket:a.props.socket,sender:a.props.sender,login:o,updateChatData:a.props.updateChatData}):r.a.createElement("div",{className:t.fameNote},"Fame:"),r.a.createElement("div",null,f),(y.length>0||v)&&r.a.createElement(ie.a,{className:xe()(t.expand,Object(F.a)({},t.expandOpen,a.state.expanded)),onClick:a.handleExpandClick,"aria-expanded":a.state.expanded,"aria-label":"Show more"},r.a.createElement(Se.a,null))),r.a.createElement($e.a,{in:a.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ze.a,null,y.length>0&&r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Interests: "),y.join(", ")),v&&r.a.createElement(ce.a,{component:"p"},r.a.createElement("span",{className:t.bold},"Biography: "),v))))},a}return Object(u.a)(t,e),t}(r.a.Component),ht=Object(R.withStyles)(function(e){return{card:{margin:50,width:500,height:"100%"},photoContent:{height:500,display:"flex",justifyContent:"center",alignItems:"center"},img:{maxWidth:"100%",maxHeight:"100%"},actions:{display:"flex"},expand:Object(F.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},fameNote:{marginRight:8,fontWeight:"bold"},leftRightArea:{position:"relative",height:30},right:{position:"absolute",right:0},bold:{fontWeight:500}}})(gt),bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).componentDidMount=function(){a.props.suggestions.forEach(function(e){e.distance=a.getDistance(a.props.profile.location,e.location),e.amountOfCommonInterests=e.interests.filter(function(e){return-1!==a.props.profile.interests.indexOf(e)}).length}),a.users=a.props.suggestions,a.setState({filteredUsers:a.sort(a.filter(a.props.suggestions)),moved:!1})},a.getDistance=function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},a.sort=function(e){return"age"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.age-e.age)}):"distance"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.distance-e.distance)}):"fame"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.fame-e.fame)}):"amountOfCommonInterests"===a.sortParam?e.sort(function(e,t){return a.sortOrder*(t.amountOfCommonInterests-e.amountOfCommonInterests)}):void 0},a.setSortParams=function(e,t){a.sortParam=e,a.sortOrder=t,a.setState({filteredUsers:a.sort(a.filter(a.users))})},a.filter=function(e){return e.filter(function(e){return e.age>=a.startAge&&e.age<=a.endAge&&e.distance<=a.distance&&e.fame>=a.minFameRating&&(""!==a.maxFameRating&&e.fame<=a.maxFameRating||""===a.maxFameRating)&&e.amountOfCommonInterests>=a.amountOfCommonInterests&&a.selectedInterests.every(function(t){return e.interests.includes(t)})})},a.setFilterParams=function(e){a.startAge=e.startAge,a.endAge=e.endAge,a.distance=e.distance,a.minFameRating=e.minFameRating,a.maxFameRating=e.maxFameRating,a.amountOfCommonInterests=e.amountOfCommonInterests,a.selectedInterests=e.selectedInterests,a.setState({filteredUsers:a.sort(a.filter(a.users))})},a.move=function(){return a.setState({moved:!a.state.moved})},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props,t=e.classes,n=e.canRenderLikeButton,s=a.state,o=s.filteredUsers,i=s.moved;return r.a.createElement("div",{className:t.root},r.a.createElement(Ke,{setFilterParams:a.setFilterParams,interests:a.props.profile.allInterests,move:a.move}),r.a.createElement(Ne,{setSortParams:a.setSortParams,moved:i}),r.a.createElement("ul",{className:i?t.userList:t.moved},o.map(function(e){return r.a.createElement("li",{key:e.login},r.a.createElement(ht,{user:e,full:!1,socket:a.props.socket,sender:a.props.sender,visited:a.props.visited,updateVisited:a.props.updateVisited,updateChatData:a.props.updateChatData,canRenderLikeButton:n}))})))},a.users=null,a.sortParam="distance",a.sortOrder=1,a.startAge=18,a.endAge=100,a.distance=5,a.minFameRating=0,a.maxFameRating="",a.amountOfCommonInterests=0,a.selectedInterests=[],a}return Object(u.a)(t,e),t}(r.a.Component),vt=Object(R.withStyles)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto",padding:"10px"},userList:{margin:0,padding:0,listStyleType:"none",transform:"translate(0px, 0px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},moved:{margin:0,padding:0,listStyleType:"none",transform:"translate(0, -430px)",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"}})(bt),yt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state=Object(F.a)({},a.props.name,""),a.handleChange=function(e){a.setState(Object(F.a)({},a.props.name,e.target.value)),a.props.onChange(Object(F.a)({},a.props.name,e.target.value))},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(F.a)({},this.props.name,this.props.value))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.title,s=t.items;return r.a.createElement(Fe.a,{className:a.formControl},r.a.createElement(De.a,{ref:function(t){e.InputLabelRef=t},htmlFor:"outlined-age-simple"},n),r.a.createElement(Re.a,{value:this.state[[this.props.name]],onChange:this.handleChange,input:r.a.createElement(Ie.a,{id:"outlined-age-simple"})},s.map(function(e,t){return r.a.createElement($.a,{key:t,value:e},e)})))}}]),t}(r.a.Component),Et=Object(R.withStyles)(function(e){return{formControl:{marginTop:e.spacing.unit,marginBottom:e.spacing.unit,minWidth:120}}})(yt),Ot=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state=Object(F.a)({},a.props.name,""),a.componentDidMount=function(){return a.setState(Object(F.a)({},a.props.name,a.props.value))},a.handleChange=function(e){a.setState(Object(F.a)({},a.props.name,e.target.value)),a.props.onChange(Object(F.a)({},a.props.name,e.target.value))},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.placeholder,n=e.disabled;return r.a.createElement(U.a,{id:"outlined-full-width",label:t,placeholder:a,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:this.handleChange,value:this.state[this.props.name],disabled:n})}}]),t}(r.a.Component),Ct=a(75),jt=a(153),xt=a(99),wt=a(154),St=a.n(wt),kt=a(170),Nt=a(155),Pt=a.n(Nt),It=function(e){var t=e.inputProps,a=(e.handleAdding,Object(xt.a)(e,["inputProps","handleAdding"])),n=t.ref,s=Object(xt.a)(t,["ref"]);return r.a.createElement(U.a,Object.assign({InputProps:Object(jt.a)({inputRef:n},s)},a))},At=function(e,t){var a=St()(t.trim()).toLowerCase(),n=a.length,r=0;return 0===n?[]:e.filter(function(e){var t=r<5&&e.slice(0,n).toLowerCase()===a;return t&&(r+=1),t})},Dt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:"",selectedItem:[],interests:[],suggestions:[]},a.handleKeyDown=function(e){var t=a.state,n=t.inputValue,r=t.selectedItem;r.length&&!n.length&&"backspace"===B()(e)&&a.setState({selectedItem:r.slice(0,r.length-1)}),"space"===B()(e)&&n.length&&a.handleChange(n.trim())},a.handleInputChange=function(e){var t=e.target,n=a.state.interests;a.setState({inputValue:t.value,suggestions:Object(Ct.a)(At(n,t.value))})},a.handleChange=function(e){var t=a.state,n=t.interests,r=t.selectedItem;-1===r.indexOf(e)&&(r=[].concat(Object(Ct.a)(r),[e])),-1===n.indexOf(e)&&(n=[].concat(Object(Ct.a)(n),[e])),a.setState({inputValue:"",selectedItem:r,interests:n}),a.props.onChange({interests:r})},a.handleDelete=function(e){return function(){var t=a.state.selectedItem;t.splice(t.indexOf(e),1),a.setState({selectedItem:t})}},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){this.setState({selectedItem:this.props.value,interests:this.props.all})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.inputValue,s=a.selectedItem,o=a.interests,i=a.suggestions;return o?r.a.createElement(kt.a,{id:"downshift-multiple",inputValue:n,onChange:this.handleChange,selectedItem:s},function(a){var n=a.getInputProps,l=a.getItemProps,c=a.isOpen,u=a.selectedItem,m=a.highlightedIndex;return r.a.createElement("div",{className:t.container},r.a.createElement(It,{fullWidth:!0,interests:o,handleAdding:e.handleChange,inputProps:n({startAdornment:s.map(function(a,n){return r.a.createElement(Pt.a,{key:n,tabIndex:-1,label:a,className:t.chip,onDelete:e.handleDelete(a)})}),onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,placeholder:"Select multiple interests"}),label:"Interests"}),c?r.a.createElement(Q.a,{className:t.paper,square:!0},i.map(function(e,t){return function(e){var t=e.suggestion,a=e.index,n=e.itemProps,s=e.highlightedIndex===a,o=(e.selectedItem||"").indexOf(t)>-1;return r.a.createElement($.a,Object.assign({},n,{key:a,selected:s,component:"div",style:{fontWeight:o?500:400}}),t)}({suggestion:e,index:t,itemProps:l({item:e}),highlightedIndex:m,selectedItem:u})})):null)}):null}}]),t}(r.a.Component),Lt=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.name,n=e.value,s=e.all,o=e.onChange;return r.a.createElement("div",{className:t.root},r.a.createElement(Dt,{classes:t,name:a,value:n,all:s,onChange:o}))}}]),t}(r.a.Component),Ft=Object(R.withStyles)(function(e){return{root:{flexGrow:1},container:{marginTop:"8px",marginBottom:"16px",flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},inputRoot:{flexWrap:"wrap"},inputInput:{width:"auto",flexGrow:1},divider:{height:2*e.spacing.unit}}})(Lt),Tt=Object(R.withStyles)({container:{display:"flex",flexWrap:"wrap"},input:{width:"100%"}})(function(e){var t=e.classes,a=e.error;return r.a.createElement("div",{className:t.container},r.a.createElement(Ie.a,{className:t.input,error:a,inputProps:{"aria-label":"Description"},value:e.value}))}),Rt=a(156),Mt=a.n(Rt),Bt=a(158),Vt=a.n(Bt),Ut=a(157),Kt=a.n(Ut),zt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).upload=function(e){var t=document.getElementById("file-upload");a.photoid=e,t.click()},a.makeAvatar=function(e){a.setState({avatarid:e}),h(e)},a.uploadPhoto=function(e){var t=JSON.parse(JSON.stringify(a.state.gallery)),n=new Image,r=document.createElement("canvas");n.onload=function(){r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0,r.width,r.height),null===a.photoid&&(a.photoid=t.length),g(r.toDataURL(),a.photoid).then(function(e){return e.json()}).then(function(e){a.photoid=null,t[a.photoid]=e.fileName,a.setState({gallery:t})})},n.src=window.URL.createObjectURL(e.target.files[0])},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props.classes,t=a.state,n=t.gallery,s=t.avatarid;return r.a.createElement("div",{className:e.root},r.a.createElement(z.a,{className:n.length<5?e.customFileUpload:e.hidden,variant:"contained",color:"primary"},r.a.createElement("label",{htmlFor:"file-upload"},"UPLOAD NEW PHOTO"),r.a.createElement(Mt.a,{className:e.rightIcon})),r.a.createElement("input",{className:e.hidden,id:"file-upload",accept:".jpg, .jpeg, .png",type:"file",onChange:a.uploadPhoto}),r.a.createElement("ul",{className:e.photoList},n.map(function(t,n){return r.a.createElement(We.a,{className:e.card,key:n},r.a.createElement(Ze.a,{className:e.content},r.a.createElement("img",{className:e.img,src:"/".concat(t),alt:"".concat(t)})),r.a.createElement(qe.a,null,r.a.createElement(z.a,{size:"small",color:"default",onClick:a.upload.bind(Object(Ce.a)(Object(Ce.a)(a)),n)},"Replace",r.a.createElement(Kt.a,{className:e.rightIcon,color:"primary"})),s===n?r.a.createElement("span",{className:e.avatarNote},"AVATAR"):r.a.createElement(z.a,{size:"small",color:"default",onClick:a.makeAvatar.bind(Object(Ce.a)(Object(Ce.a)(a)),n)},"Put on avatar",r.a.createElement(Vt.a,{className:e.rightIcon,color:"primary"}))))})))},a.photoid=null,a.state={gallery:a.props.gallery,avatarid:a.props.avatarid},a}return Object(u.a)(t,e),t}(r.a.Component),Wt=Object(R.withStyles)({root:{display:"flex",flexDirection:"column",alignItems:"center"},rightIcon:{marginLeft:10},hidden:{display:"none"},photoList:{margin:0,padding:0,listStyleType:"none"},avatarNote:{lineHeight:"38.8px",textAlign:"center",fontWeight:500,color:"#3f51b5"},customFileUpload:{marginTop:"50px"},card:{margin:50,width:500},content:{height:500,display:"flex",justifyContent:"center",alignItems:"center"},img:{maxWidth:"100%",maxHeight:"100%"}})(zt),Jt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.user,s=n.login,o=n.firstname,i=n.lastname,l=n.gallery,c=n.avatarid,u=l.length>0?l[c]:"avatar.png";return r.a.createElement(T.a,{className:t.link,to:"/users/".concat(s),onClick:function(){return a.props.updateVisited(a.props.user.login)}},r.a.createElement("div",{className:t.root},r.a.createElement(Qe.a,{alt:"".concat(o," ").concat(i),src:"/".concat(u),className:t.avatar}),r.a.createElement("span",{className:t.name},"".concat(o," ").concat(i))))},a}return Object(u.a)(t,e),t}(r.a.Component),Ht=Object(R.withStyles)({link:{color:"initial",textDecoration:"none","&:hover":{color:"#3f51b5"}},root:{display:"flex",flexDirection:"column",alignItems:"center",paddingRight:15},avatar:{width:60,height:60},name:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}})(Jt),Gt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){return a.props.getUserList().then(function(e){return e.json()}).then(function(e){return a.setState({users:e})})},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this;if(!this.state)return r.a.createElement("span",null,"Loading...");var t=this.props,a=t.classes,n=t.title,s=t.icon,o=this.state.users;return o.length>0?r.a.createElement("div",{className:a.root},r.a.createElement("h1",{className:a.title},r.a.createElement("span",{className:a.icon},s)," ",n),r.a.createElement("ul",{className:a.list},o.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(Ht,{user:t,visited:e.props.visited,updateVisited:e.props.updateVisited}))}))):r.a.createElement("div",null)}}]),t}(r.a.Component),Zt=Object(R.withStyles)({root:{backgroundColor:"#ffffff"},icon:{color:"#3f51b5"},title:{margin:0,fontSize:12,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"normal",color:"rgba(0, 0, 0, 0.54)"},list:{display:"flex",width:"100%",marginTop:10,marginBottom:10,padding:0,listStyleType:"none"}})(Gt),_t=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},qt=function(e){return e.length>=6&&/^[a-zA-Z]+[a-zA-Z0-9]*$/.test(String(e))},Yt=function(e){return e.length>=6&&/[a-zA-Z0-9]+/.test(String(e))},$t=function(e){return/^[a-zA-Z]+(-[a-zA-Z])?[a-zA-Z]*$/.test(String(e))},Xt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){return a.setState(a.props.value)},a.isEmailValid=function(e){var t=_t(e);return t||a.setState({changeStatus:"Please make sure that your email address is correct",error:!0}),t},a.validateEmpty=function(e){return""!==e||(a.setState({changeStatus:"Please fill all the fields in",error:!0}),!1)},a.isAllValid=function(){var e=!0;return e=(e=(e=(e=e&&a.validateEmpty(a.state.firstname))&&a.validateEmpty(a.state.lastname))&&a.validateEmpty(a.state.email))&&a.isEmailValid(a.state.email)},a.onSubmit=function(e){e.preventDefault(),a.isAllValid()&&f(a.state).then(function(e){a.setState({error:"error"===e.status,changeStatus:e.result}),e.suggestions&&a.props.updateSuggestions(e.suggestions),a.props.onChange(a.state)},function(e){return console.error(e)})},a.onChange=function(e){return a.setState(e)},a.onAgeChange=function(e){e.target.value>=18&&e.target.value<=100&&a.setState({age:e.target.value})},a.renderChangeStatus=function(){if(a.state.changeStatus)return r.a.createElement(Tt,{value:a.state.changeStatus,error:a.state.error})},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){if(!this.state)return r.a.createElement("span",null,"Loading...");var e=this.state,t=e.firstname,a=e.lastname,n=e.email,s=e.gender,o=e.preferences,i=e.bio,l=e.age,c=e.interests,u=e.gallery,m=e.avatarid,p=this.props.classes;return r.a.createElement("div",{className:p.root},r.a.createElement(Zt,{title:"Liked by",icon:"\u2665",getUserList:D,visited:this.props.visited,updateVisited:this.props.updateVisited}),r.a.createElement(Zt,{title:"Checked by",icon:"\u2714",getUserList:A,visited:this.props.visited,updateVisited:this.props.updateVisited}),r.a.createElement("div",{className:p.profileDetails},this.renderChangeStatus(),r.a.createElement(Ot,{label:"First name",name:"firstname",value:t,onChange:this.onChange}),r.a.createElement(Ot,{label:"Last name",name:"lastname",value:a,onChange:this.onChange}),r.a.createElement(Ot,{label:"Email address",name:"email",value:n,validate:this.isEmailValid,onChange:this.onChange}),r.a.createElement("div",{className:p.ageInput},r.a.createElement("label",{className:p.ageLabel,htmlFor:"age"},"Age"),r.a.createElement(Ie.a,{name:"age",type:"number",value:l,onChange:this.onAgeChange})),r.a.createElement(Et,{title:"Gender",items:["male","female"],name:"gender",value:s,onChange:this.onChange}),r.a.createElement(Et,{title:"Preferences",items:["heterosexual","homosexual","bisexual"],name:"preferences",value:o,onChange:this.onChange}),r.a.createElement(Ot,{label:"Biography",placeholder:"Tell us a few words about yourself",name:"bio",value:i,onChange:this.onChange}),r.a.createElement(Ft,{name:"interests",value:c,all:this.state.allInterests,onChange:this.onChange}),r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:this.onSubmit},"Save changes")),r.a.createElement(Wt,{gallery:u,avatarid:m}))}}]),t}(r.a.Component),Qt=Object(R.withStyles)({root:{overflow:"auto",padding:"10px"},profileDetails:{display:"flex",flexDirection:"column",padding:8,backgroundColor:"#ffffff"},ageInput:{display:"flex",flexDirection:"column",marginTop:8,marginBottom:8},ageLabel:{fontSize:"12px",color:"rgba(0, 0, 0, 0.54)"}})(Xt),ea=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.visited,s=e.socket,o=e.sender,i=e.updateVisited,l=e.updateChatData,c=e.canRenderLikeButton;return r.a.createElement("div",{className:t.root},r.a.createElement("ul",{className:t.userList},n.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(ht,{user:e,full:!1,socket:s,sender:o,updateVisited:i,updateChatData:l,canRenderLikeButton:c}))})))},a}return Object(u.a)(t,e),t}(r.a.Component),ta=Object(R.withStyles)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto"},userList:{margin:0,padding:0,listStyleType:"none"}})(ea),aa=a(96),na=a.n(aa),ra=a(97),sa=a.n(ra),oa=a(159),ia=a.n(oa),la=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={message:"",typing:""},a.componentDidMount=function(){a.props.socket.on("chat",function(){a.setState({typing:""})}),a.props.socket.on("typing",function(e){a.props.receiver===e.sender&&a.setState({typing:e.sender})}),a.props.socket.on("stoppedTyping",function(e){a.props.receiver===e.sender&&a.setState({typing:""})})},a.componentWillUnmount=function(){a.props.socket.off("chat"),a.props.socket.off("typing"),a.props.socket.off("stoppedTyping")},a.componentWillReceiveProps=function(){a.props.socket.emit("stoppedTyping",{sender:a.props.sender,receiver:a.props.receiver}),a.setState({message:"",typing:""})},a.changeHandler=function(e){a.props.socket.emit("typing",{sender:a.props.sender,receiver:a.props.receiver}),""===e.target.value&&a.props.socket.emit("stoppedTyping",{sender:a.props.sender,receiver:a.props.receiver}),a.setState({message:e.target.value})},a.keyPressHandler=function(e){"Enter"===e.key&&a.send()},a.send=function(){""!==a.state.message&&(a.props.socket.emit("chat",{sender:a.props.sender,receiver:a.props.receiver,message:a.state.message}),a.setState({message:""}))},a.render=function(){var e=a.state,t=e.message,n=e.typing,s=a.props,o=s.classes,i=s.sender,l=s.log;return r.a.createElement("div",{className:o.chat},r.a.createElement("div",{className:o.chatWindow},n&&r.a.createElement("p",{className:o.typingP},r.a.createElement("em",null,n," is typing a message...")),r.a.createElement("div",{className:o.outputPs},l.map(function(e,t){return r.a.createElement("div",{className:e.sender===i?o.outputPMine:o.outputPOther,key:t},r.a.createElement("p",{className:o.messageText},e.message),r.a.createElement("span",{className:o.messageTime},"".concat(new Date(parseInt(e.time)).toLocaleString()," ")))}))),r.a.createElement(Ie.a,{type:"text",className:o.message,value:t,placeholder:"Say something...",onChange:a.changeHandler,onKeyPress:a.keyPressHandler,disableUnderline:!0}),r.a.createElement(z.a,{className:o.send,onClick:a.send,variant:"contained",color:"primary"},"Send"))},a}return Object(u.a)(t,e),t}(r.a.Component),ca=Object(R.withStyles)(function(e){return{chat:{flexGrow:1,display:"flex",flexDirection:"column",width:"80%"},chatWindow:{flexGrow:1,overflow:"auto",borderBottom:"1px solid #e9e9e9"},outputPs:{display:"flex",flexDirection:"column",alignItems:"center"},outputPOther:{position:"relative",marginRight:"10%",marginTop:5,width:"80%",padding:10,display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:4,backgroundColor:"#ffffff","&:last-child":{marginBottom:5}},outputPMine:{position:"relative",marginLeft:"10%",marginTop:5,width:"80%",padding:10,display:"flex",flexDirection:"column",borderRadius:4,backgroundColor:"rgba(245, 0, 87, 0.1)","&:last-child":{marginBottom:5}},messageText:{margin:0},messageTime:{textAlign:"end",fontSize:12,color:"rgba(0, 0, 0, 0.54)"},typingP:{width:"80%",padding:10,borderRadius:4,backgroundColor:"#ffffff"},message:{width:"100%",padding:"14px",backgroundColor:"#ffffff"},send:{padding:"18px 0",width:"100%",border:"none",outline:"1px solid #e9e9e9"}}})(la),ua=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.socket,s=e.sender,o=e.receiver,i=e.chatData,l=e.updateLog;return r.a.createElement("div",{className:t.root},r.a.createElement(na.a,{component:"nav",className:t.users},Object.keys(i).map(function(e,a){var n=i[e].gallery.length>0?i[e].gallery[i[e].avatarid]:"avatar.png";return r.a.createElement(T.a,{className:t.link,key:a,to:"/chat/".concat(e)},r.a.createElement(sa.a,{button:!0,className:e===o?t.selectedUser:t.user},r.a.createElement(Qe.a,{alt:e,src:"/".concat(n)}),r.a.createElement(ne.a,{primary:e}),i[e].online&&r.a.createElement("div",{className:t.onlineDot})),r.a.createElement(ia.a,{light:!0}))})),r.a.createElement(ca,{socket:n,sender:s,receiver:o,log:i[o].log,updateLog:l,updateMessage:a.updateMessage}))},a}return Object(u.a)(t,e),t}(r.a.Component),ma=Object(R.withStyles)(function(e){return{root:{flexGrow:1,display:"flex",flexDirection:"row",overflow:"hidden"},link:{textDecoration:"none"},users:{width:"20%",padding:"unset",borderRight:"1px solid rgba(0, 0, 0, 0.08)"},user:{padding:5},selectedUser:{padding:5,backgroundColor:"rgba(0, 0, 0, 0.08)"},onlineDot:{marginRight:5,width:5,height:5,borderRadius:"100%",backgroundColor:"#3f51b5"}}})(ua),pa=a(160),da=a.n(pa),fa=a(161),ga=a.n(fa),ha=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.message,s=e.close,o=e.index;return r.a.createElement(da.a,{className:t.notification,"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},n),action:[r.a.createElement(ie.a,{className:t.close,key:"close","aria-label":"Close",color:"inherit",onClick:s.bind(Object(Ce.a)(Object(Ce.a)(a)),o)},r.a.createElement(ga.a,{className:t.icon}))]})},a}return Object(u.a)(t,e),t}(r.a.Component),ba=Object(R.withStyles)({notification:{padding:0,paddingLeft:"20px",paddingRight:"10px",backgroundColor:"#f50057"},message:{display:"flex",alignItems:"center"},close:{padding:"5px"}})(ha),va=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props,t=e.classes,n=e.messages,s=e.closeNotification;return r.a.createElement("div",{className:t.root},n.map(function(e,t){return r.a.createElement(ba,{message:e,key:t,close:s,index:t})}))},a}return Object(u.a)(t,e),t}(r.a.Component),ya=Object(R.withStyles)({root:{position:"fixed",right:0,top:0,display:"flex",flexDirection:"column",zIndex:2e3}})(va),Ea=function(e){return r.a.createElement(ce.a,{style:{flexGrow:1,display:"flex",flexDirection:"column"},component:"div"},e.children)},Oa=null,Ca=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={tabid:0,profile:null,notifications:[],showMenu:!1,tabName:"Suggestions",chatData:null,suggestions:null},a.ipLookUp=function(){fetch("http://ip-api.com/json",{method:"POST"}).then(function(e){return e.json()}).then(function(e){return b([e.lat,e.lon])}).catch(function(e){return console.error(e)})},a.getLocation=function(e){navigator.geolocation.getCurrentPosition(function(e){return b([e.coords.latitude,e.coords.longitude])},function(){return a.ipLookUp(e)})},a.addNotification=function(e){var t=a.state.notifications;t.push(e),a.setState({notifications:t})},a.addSocketEventListeners=function(){Oa.on("like",function(e){return a.addNotification("".concat(e.sender," has just liked you"))}),Oa.on("check",function(e){return a.addNotification("".concat(e.sender," has just checked your profile"))}),Oa.on("chat",function(e){var t,n=a.state.chatData;e.sender!==a.state.profile.login?(t=e.sender,a.addNotification("".concat(t," has sent you a message"))):t=e.receiver,n[t].log.unshift(e),a.setState({chatData:n})}),Oa.on("likeBack",function(e){a.addNotification("".concat(e.data.sender," has just liked you back!")),a.updateChatData(e.chatData)}),Oa.on("unlike",function(e){a.addNotification("Unfortunately ".concat(e.data.sender," has disconnected from you")),a.updateChatData(e.chatData)})},a.onProfileChange=function(e){return a.setState({profile:e})},a.signout=function(){return E().then(function(){return a.setState({profile:"signin"})})},a.updateSuggestions=function(e){return a.setState({suggestions:e})},a.updateChatData=function(e){return a.setState({chatData:e})},a.updateLog=function(e,t){var n=a.state.chatData;n[e].log=t,a.setState({chatData:n})},a.updateVisited=function(e){a.state.visited.map(function(e){return e.login}).includes(e)||k(e).then(function(t){Oa.emit("check",{sender:a.state.profile.login,receiver:e}),a.setState({visited:t})})},a.closeNotification=function(e){var t=a.state.notifications;t.splice(e,1),a.setState({notifications:t})},a.showMenu=function(){return a.setState({showMenu:!a.state.showMenu})},a.changeTabName=function(e){return a.setState({tabName:e,showMenu:!1})},a.handleMenuClose=function(e){a.anchorEl.contains(e.target)||a.setState({showMenu:!1})},a.render=function(){var e=window.location.pathname.split("/")[1];if(""===(e=e.charAt(0).toUpperCase()+e.slice(1))&&(e="Suggestions"),!a.state.profile||!a.state.chatData||!a.state.suggestions||!a.state.visited)return r.a.createElement("span",null,"Loading...");if("signin"===a.state.profile)return r.a.createElement(wa,null);var t=a.props.classes,n=a.state,s=n.profile,o=n.profile,i=o.login,l=o.canRenderLikeButton,c=n.notifications,u=n.showMenu,m=n.chatData,d=n.suggestions,f=n.visited;return r.a.createElement("div",{className:t.root},r.a.createElement(ya,{messages:c,closeNotification:a.closeNotification}),r.a.createElement(Z.a,{position:"static",className:t.appBar},r.a.createElement(se.a,null,r.a.createElement(ie.a,{className:t.menuButton,color:"inherit","aria-label":"Menu",buttonRef:function(e){a.anchorEl=e},onClick:a.showMenu},r.a.createElement(Oe.a,null)),r.a.createElement(ce.a,{variant:"h6",color:"inherit",className:t.grow},e),r.a.createElement(z.a,{color:"inherit",onClick:a.signout},"Log out"))),r.a.createElement(me.a,{onClickAway:a.handleMenuClose},r.a.createElement(Q.a,{className:u?t.appMenu:t.appMenuHidden},r.a.createElement(q.a,null,r.a.createElement($.a,{className:t.menuItem,component:T.a,to:"/",onClick:function(){return a.changeTabName("Suggestions")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(be.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Suggestions"})),r.a.createElement($.a,{className:t.menuItem,component:T.a,to:"/profile",onClick:function(){return a.changeTabName("Profile")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(ye.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Profile"})),Object.keys(m).length>0&&r.a.createElement($.a,{className:t.menuItem,component:T.a,to:"/chat/".concat(Object.keys(m)[0]),onClick:function(){return a.changeTabName("Chat")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(de.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Chat"})),r.a.createElement($.a,{className:t.menuItem,component:T.a,to:"/visited",onClick:function(){return a.changeTabName("Visited")}},r.a.createElement(te.a,{className:t.icon},r.a.createElement(ge.a,null)),r.a.createElement(ne.a,{classes:{primary:t.primary},inset:!0,primary:"Visited"}))))),r.a.createElement("div",{className:t.appContent},r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Ea,null,r.a.createElement(vt,{socket:Oa,sender:i,profile:s,visited:f,updateVisited:a.updateVisited,suggestions:d,updateChatData:a.updateChatData,canRenderLikeButton:l}))}}),r.a.createElement(p.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(Ea,null,r.a.createElement(Qt,{name:"profile",value:s,onChange:a.onProfileChange,editable:!0,visited:f,updateVisited:a.updateVisited,updateSuggestions:a.updateSuggestions}))}}),Object.keys(m).length>0&&r.a.createElement(p.a,{exact:!0,path:"/chat",render:function(){return r.a.createElement(Ea,null,r.a.createElement(ma,{socket:Oa,sender:i,receiver:Object.keys(m)[0],chatData:m,updateLog:a.updateLog}))}}),Object.keys(m).length>0&&r.a.createElement(p.a,{exact:!0,path:"/chat/:receiver",render:function(e){var t=e.match;return Object.keys(m).includes(t.params.receiver)?r.a.createElement(Ea,null,r.a.createElement(ma,{socket:Oa,sender:i,receiver:t.params.receiver,chatData:m,updateLog:a.updateLog})):r.a.createElement("span",null,"Chat user not found")}}),r.a.createElement(p.a,{exact:!0,path:"/users/:login",render:function(e){var n=e.match,s=d.indexOf(d.find(function(e){return n.params.login===e.login}));return-1!==s?r.a.createElement(Ea,null,r.a.createElement("div",{className:t.singleUserContainer},r.a.createElement(ht,{user:d[s],socket:Oa,sender:i,full:!0,visited:f,updateVisited:a.updateVisited,updateChatData:a.updateChatData,canRenderLikeButton:l}))):r.a.createElement("span",null,"User not found")}}),r.a.createElement(p.a,{exact:!0,path:"/visited",render:function(){return r.a.createElement(Ea,null,r.a.createElement(ta,{socket:Oa,sender:i,visited:f,updateVisited:a.updateVisited,updateChatData:a.updateChatData,canRenderLikeButton:l}))}})))},a}return Object(u.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("/getUserProfile",{method:"POST"}).then(function(e){return d(e,"getUserProfile error")}).then(function(t){Oa=H()({query:"login=".concat(t.user.login)}),e.addSocketEventListeners(),e.setState({profile:{firstname:t.user.firstname,lastname:t.user.lastname,login:t.user.login,email:t.user.email,age:t.user.age,gender:t.user.gender,preferences:t.user.preferences,bio:t.user.bio,interests:t.user.interests,gallery:t.user.gallery,avatarid:t.user.avatarid,location:t.user.location,allInterests:t.allInterests,changeStatus:null,error:!1,canRenderLikeButton:t.user.gallery.length>0}}),e.getLocation(t.user.id)},function(){return e.setState({profile:"signin"})}),fetch("/getChatData",{method:"POST"}).then(function(e){return d(e,"getChatData error")}).then(function(t){return e.setState({chatData:t})},function(e){return console.error(e)}),fetch("/getSuggestions",{method:"POST"}).then(function(e){return d(e,"getSuggestions error")}).then(function(t){return e.setState({suggestions:t})},function(e){return console.error(e)}),fetch("/getVisited",{method:"POST"}).then(function(e){return d(e,"getVisited error")}).then(function(t){return e.setState({visited:t})},function(e){return console.error(e)})])}}]),t}(r.a.Component),ja=Object(R.withStyles)({root:{display:"flex",flexDirection:"column",width:"100%",minWidth:"568px",height:"100vh",backgroundColor:"#eeeeee"},appBar:{backgroundColor:"#3f51b5"},appMenu:{position:"fixed",width:200,height:"100%",zIndex:2e3,transform:"translate(0px, 0px)",transition:"transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms"},appMenuHidden:{position:"fixed",width:200,height:"100%",zIndex:2e3,transform:"translate(-200px, 0px)",transition:"transform 225ms cubic-bezier(0, 0, 0.2, 1) 0ms"},appContent:{flexGrow:1,display:"flex",flexDirection:"column"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},singleUserContainer:{display:"flex",justifyContent:"center",overflow:"auto"}})(Ca),xa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={login:"",password:"",message:"",main:!1},a.handleKeyPress=function(e){"enter"===B()(e)&&a.signin()},a.handleChange=function(e){return function(t){a.setState(Object(F.a)({},e,t.target.value))}},a.signin=function(){""===a.state.login||""===a.state.password?a.setState({message:"Please fill all the fields in"}):(a.setState({message:""}),y(a.state.login,a.state.password).then(function(e){"success"===e.status?a.setState({main:!0}):a.setState({message:e.result})}))},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(U.a,{className:a.props.classes.textField,error:!0,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return a.state.main?r.a.createElement(ja,null):r.a.createElement("div",{className:e.root},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},a.renderMessage(),r.a.createElement(U.a,{label:"Login",className:e.textField,onChange:a.handleChange("login"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.login}),r.a.createElement(U.a,{label:"Password",className:e.textField,onChange:a.handleChange("password"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.password,type:"password"}),r.a.createElement(z.a,{className:e.button,onClick:a.signin},"Sign In"),r.a.createElement(T.a,{to:"/signup"},"Sign Up"),r.a.createElement(T.a,{to:"/forgot-password"},"Forgot Password?")))},a}return Object(u.a)(t,e),t}(r.a.Component),wa=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(xa),Sa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={page:null},a.componentDidMount=function(){return v().then(function(e){return e.json()}).then(function(e){return a.setState({page:e.result})})},a.render=function(){return a.state.page?"signin"===a.state.page?r.a.createElement(wa,null):r.a.createElement(ja,null):r.a.createElement("span",null,"Loading...")},a}return Object(u.a)(t,e),t}(n.Component),ka=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",login:"",password:"",passwordConfirm:"",firstname:"",lastname:"",error:!1,message:""},a.handleKeyPress=function(e){"enter"===B()(e)&&a.signup()},a.handleChange=function(e){return function(t){a.setState(Object(F.a)({},e,t.target.value))}},a.signup=function(){""===a.state.email||""===a.state.login||""===a.state.password||""===a.state.passwordConfirm||""===a.state.firstname||""===a.state.lastname?a.setState({error:!0,message:"Please fill all the fields in"}):_t(a.state.email)?qt(a.state.login)?Yt(a.state.password)?a.state.password!==a.state.passwordConfirm?a.setState({error:!0,message:"Invalid password confirm"}):$t(a.state.firstname)?$t(a.state.lastname)?(a.setState({message:""}),O(a.state.email,a.state.login,a.state.password,a.state.firstname,a.state.lastname).then(function(e){return a.setState({error:"error"===e.status,message:e.result})})):a.setState({error:!1,message:"Invalid last name"}):a.setState({error:!0,message:"Invalid first name"}):a.setState({error:!0,message:"Invalid password"}):a.setState({error:!0,message:"Invalid login"}):a.setState({error:!0,message:"Invalid email address"})},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(U.a,{className:a.props.classes.textField,error:a.state.error,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},a.renderMessage(),r.a.createElement(U.a,{label:"Email",className:e.textField,onChange:a.handleChange("email"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.email}),r.a.createElement(U.a,{label:"Login",className:e.textField,onChange:a.handleChange("login"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.login}),r.a.createElement(U.a,{label:"Password",className:e.textField,onChange:a.handleChange("password"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.password,type:"password"}),r.a.createElement(U.a,{label:"Confirm your password",className:e.textField,onChange:a.handleChange("passwordConfirm"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.passwordConfirm,type:"password"}),r.a.createElement(U.a,{label:"First name",className:e.textField,onChange:a.handleChange("firstname"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.firstname}),r.a.createElement(U.a,{label:"Last name",className:e.textField,onChange:a.handleChange("lastname"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.lastname}),r.a.createElement(z.a,{className:e.button,onClick:a.signup},"Sign Up"),r.a.createElement(T.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Na=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(ka),Pa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",message:"",error:!1},a.handleKeyPress=function(e){"enter"===B()(e)&&a.getResetPasswordEmail()},a.handleChange=function(e){a.setState({email:e.target.value})},a.getResetPasswordEmail=function(){""===a.state.email?a.setState({message:"Please fill in your email",error:!0}):(a.setState({message:""}),C(a.state.email).then(function(e){return a.setState({error:"error"===e.status,message:e.result})}))},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(U.a,{className:a.props.classes.textField,error:a.state.error,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},a.renderMessage(),r.a.createElement(U.a,{label:"Email",className:e.textField,onChange:a.handleChange,onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.email}),r.a.createElement(z.a,{className:e.button,onClick:a.getResetPasswordEmail},"Get reset password email"),r.a.createElement(T.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Ia=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(Pa),Aa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={password:"",passwordConfirm:"",error:!1,message:""},a.componentDidMount=function(){a.setState({email:a.props.email})},a.handleKeyPress=function(e){"enter"===B()(e)&&a.resetPassword()},a.handleChange=function(e){return function(t){a.setState(Object(F.a)({},e,t.target.value))}},a.resetPassword=function(){""===a.state.password||""===a.state.passwordConfirm?a.setState({error:!0,message:"Please fill all the fields in"}):Yt(a.state.password)?a.state.password!==a.state.passwordConfirm?a.setState({error:!0,message:"Invalid password confirm"}):j(a.state.password,a.state.email).then(function(e){return e.json()}).then(function(e){return a.setState({error:!1,message:e.result})}):a.setState({error:!0,message:"Invalid password"})},a.renderMessage=function(){if(""!==a.state.message)return r.a.createElement(U.a,{className:a.props.classes.textField,error:a.state.error,disabled:!0,value:a.state.message})},a.render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},a.renderMessage(),r.a.createElement(U.a,{label:"Password",className:e.textField,onChange:a.handleChange("password"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.password,type:"password"}),r.a.createElement(U.a,{label:"Confirm your password",className:e.textField,onChange:a.handleChange("passwordConfirm"),onKeyPress:a.handleKeyPress,margin:"normal",value:a.state.passwordConfirm,type:"password"}),r.a.createElement(z.a,{className:e.button,onClick:a.resetPassword},"Change password"),r.a.createElement(T.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Da=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:"8px"}}})(Aa),La=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},r.a.createElement("span",null,"Your link for reseting the password has expired. Please re-initiate the process of password reseting."),r.a.createElement(T.a,{to:"/forgot-password"},"Forgot Password?"),r.a.createElement(T.a,{to:"/"},"Home")))},a}return Object(u.a)(t,e),t}(r.a.Component),Fa=Object(R.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},container:{display:"flex",flexDirection:"column",alignItems:"center",width:"fit-content"}}})(La),Ta=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={page:null},a.componentDidMount=function(){if(""===a.props.location.search)a.props.history.push("/");else{var e=a.props.location.search.split("&");2!==e.length?a.props.history.push("/"):(0===e[0].indexOf("?email=")&&0===e[1].indexOf("hash=")||a.props.history.push("/"),a.setState({email:e[0].substring(7)}),x(e[0].substring(7),e[1].substring(5)).then(function(e){return e.json()}).then(function(e){return a.setState({page:e.result})}))}},a.render=function(){return a.state.page?"reset-password"===a.state.page?r.a.createElement(Da,{email:a.state.email}):r.a.createElement(Fa,null):r.a.createElement("span",null,"Loading...")},a}return Object(u.a)(t,e),t}(n.Component),Ra=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).componentDidMount=function(){if(""===a.props.location.search)a.setState({status:"error",result:"Invalid account activation link"});else{var e=a.props.location.search.split("&");2!==e.length?a.setState({status:"error",result:"Invalid account activation link"}):(0===e[0].indexOf("?email=")&&0===e[1].indexOf("hash=")||a.setState({status:"error",result:"Invalid account activation link"}),a.setState({email:e[0].substring(7)}),L(e[0].substring(7),e[1].substring(5)).then(function(e){return a.setState(e)}))}},a.render=function(){if(!a.state)return r.a.createElement("span",null,"Loading...");var e=a.props.classes,t=a.state,n=t.status,s=t.result;return r.a.createElement("div",{className:e.root},r.a.createElement(U.a,{className:e.textField,error:"error"===n,disabled:!0,value:s}),r.a.createElement(T.a,{className:e.link,to:"/"},"Home"))},a}return Object(u.a)(t,e),t}(r.a.Component),Ma=Object(R.withStyles)(function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},textField:{margin:8,width:500},link:{margin:8}}})(Ra);window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0;var Ba=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(p.a,{exact:!0,path:"/signup",component:Na}),r.a.createElement(p.a,{exact:!0,path:"/forgot-password",component:Ia}),r.a.createElement(p.a,{exact:!0,path:"/reset-password",component:Ta}),r.a.createElement(p.a,{exact:!0,path:"/confirm",component:Ma}),r.a.createElement(p.a,{path:"/",component:Sa})))},a}return Object(u.a)(t,e),t}(n.Component);o.a.render(r.a.createElement(Ba,null),document.getElementById("root"))}},[[171,2,1]]]);
//# sourceMappingURL=main.90d5b390.chunk.js.map